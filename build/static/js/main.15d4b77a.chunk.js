(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{250:function(e,t,a){e.exports=a(497)},263:function(e,t,a){},417:function(e,t,a){},425:function(e,t,a){},426:function(e,t,a){},494:function(e,t,a){},497:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(12),c=a.n(i),s=a(18),l=a(19),o=a(21),u=a(20),d=a(22),m=a(72),p=a(93),h=(a(42),a(25)),f=(a(43),a(16)),g=(a(48),a(7)),E=(a(58),a(30)),b=(a(37),a(13)),w=a(4),_=a.n(w),k=a(14),v=(a(82),a(9)),y=(a(263),a(45)),x=a(132),S=a.n(x);function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(n,r){var i;"GET"===a?i=S.a.get(e,{params:t}):(S.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",S.a.defaults.transformRequest=[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],i=S.a.post(e,t)),i.then(function(e){n(e.data)}).catch(function(e){b.a.error("\u8bf7\u6c42\u51fa\u9519\u4e86: "+e.message)})})}var I=a(161),C=a.n(I),D="user_key",j={saveUser:function(e){C.a.set(D,e)},getUser:function(){return C.a.get(D)||{}},removeUser:function(){localStorage.removeItem(D),C.a.remove(D)}},P="http://operation.0717996.com/admin",R=j.getUser().token,z=function(e,t,a){return O(P+"/login/login",{username:e,password:t,authcode:a},"POST")},T=function(e,t){return O(P+"/login/authCode",{username:e,password:t},"POST")},U=function(){var e=j.getUser().token;return O(P+"/acl/navList",{token:e},"POST")},V=function(e,t){return O(P+"/user/index",{token:R,page:e,limit:t},"POST")},M=function(e,t){return O(P+"/user/setGameUserNickName",{token:R,id:e,game_nick:t},"POST")},N=function(e,t){var a={},n="params[user_id]";return a[n]=e.id,a[n="params[amount]"]=t.gold,a[n="params[reason]"]=t.desc,a[n="params[user_name]"]=e.game_nick,a[n="params[proxy_user_id]"]=e.proxy_user_id,a[n="params[package_id]"]=e.package_id,O(P+"/user/changeGold",Object(y.a)({token:R,task_type:0},a),"POST")},L=function(e,t,a,n,r){var i=r.key,c={page:e,limit:t,token:R,start:a,end:n};return c[i]=r.val?r.val:"",O(P+"/user/index",c,"POST")},K=function(e){return O(P+"/user/getGameUser",{page:1,limit:10,token:R,id:e},"POST")},q=function(e,t,a){return O(P+"/user/userDetail",{page:e,limit:t,token:R,id:a},"POST")},A=function(e,t,a){return O(P+"/user/bindInfo",{page:e,limit:t,token:R,user_id:a},"POST")},G=function(e,t){return O(P+"/trade/saveUserBlack",{token:R,type:1,user_id:e,action:t},"POST")},Y=function(e,t){return O(P+"/tasks/createTask",{token:R,task_type:2,"params[id]":e,"params[account_pass]":t},"POST")},F=function(e,t){return O(P+"/acl/index",{page:e,limit:t,token:R},"POST")},B=function(e){return O(P+"/acl/index",{page:1,limit:20,token:R,name:e},"POST")},J=function(){return O(P+"/acl/roleList",{token:R},"POST")},Q=function(){return O(P+"/user/packageList",{token:R},"POST")},W=function(e){var t={};e.packageList.forEach(function(e){t["group["+e+"]"]=e});var a=Object(y.a)({username:e.username,status:e.userStatus,group_id:e.userGroup,source:e.proxy?e.proxy:[]},t,{user_money:e.loadGold,pass:e.password,repass:e.confirmPssword,token:R});return O(P+"/acl/addUser",a,"POST")},H=function(e,t){var a={};e.packageList.forEach(function(e){a["group["+e+"]"]=e});var n=Object(y.a)({id:t,username:e.username,status:e.userStatus,group_id:e.userGroup,source:e.proxy?e.proxy:[]},a,{user_money:e.loadGold,pass:e.password?e.password:[],token:R});return O(P+"/acl/editUser",n,"POST")},$=function(e){return O(P+"/acl/resetAuthCode",{id:e,token:R},"POST")},Z=function(e,t){return O(P+"/acl/roleList",{page:e,limit:t,token:R},"POST")},X=function(e,t,a){var n={};t.forEach(function(e){n["rules["+e+"]"]=e});var r=Object(y.a)({name:e},n,{desc:a,token:R});return O(P+"/acl/addRole",r,"POST")},ee=function(e,t,a,n){var r={};t.forEach(function(e){r["rules["+e+"]"]=e});var i=Object(y.a)({role_name:e,role_id:n},r,{desc:a,token:R});return O(P+"/acl/editRole",i,"POST")},te=function(e,t){return O(P+"/notice/getList",{page:e,limit:t,token:R},"POST")},ae=function(e){return O(P+"/notice/addNotice",Object(y.a)({token:R},e),"POST")},ne=function(e,t){return O(P+"/notice/updateNotice",Object(y.a)({token:R,id:t},e),"POST")},re=function(e){return O(P+"/notice/delNotice",{token:R,id:e},"POST")},ie=function(e,t,a){return O(P+"/customer/customerList",{page:e,limit:t,token:R,user_id:a||""},"POST")},ce=function(e,t,a){return a&&(e.user_id=a),O(P+"/customer/saveCustomerService",Object(y.a)({token:R},e,{action:t}),"POST")},se=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return O(P+"/report/dailyReport",{page:e,limit:t,token:R,package_id:a,start:n,end:r},"POST")},le=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return O(P+"/report/dateReport",{page:e,limit:t,token:R,package_id:a,start:n,end:r,group_by:"date"},"POST")},oe=function(e,t,a){if(a){var n=a.start_time,r=a.end_time,i=a.order_status,c=a.type,s=a.inputParam,l=a.paramKey,o=a.order_id,u=a.user_id,d={};if("1"===l||"2"===l)d.time_type=l;else d[l]=s;return O(P+"/order/recharge",Object(y.a)({page:e,limit:t,token:R,start_time:n,end_time:r,order_status:i,type:c,order_id:o,user_id:u},d),"POST")}return O(P+"/order/recharge",{page:e,limit:t,token:R},"POST")},ue=function(e){var t=e.start_time,a=e.end_time,n=e.order_status,r=e.type,i=e.inputParam,c=e.paramKey;c&&""!==c||(c=0);var s=P+"/order/recharge/?export=2&"+("token="+R+"&filed="+c+"&keyword="+i+"&start_time="+t+"&end_time="+a+"&order_status="+n+"&type="+r);if(c)switch(c){case"user_id":s=s+"&user_id="+i;break;case"order_id":s=s+"&order_id="+i;break;case"create_time":s+="&time_type=1";break;case"arrival_time":s+="&time_type=2"}window.open(s)},de=function(e,t,a){return O(P+"/order/channelList",{page:e,limit:t,token:R,name:a||""},"POST")},me=function(e){return O(P+"/order/addChannel",Object(y.a)({},e,{token:R,action:"add"}),"POST")},pe=function(e,t){return O(P+"/order/editPayChannel",Object(y.a)({},e,{token:R,id:t,action:"edit"}),"POST")},he=function(e,t){return O(P+"/order/bankList",{page:e,limit:t,token:R},"POST")},fe=function(e,t){return t&&(e.id=t),O(P+"/order/saveBankCard",Object(y.a)({},e,{action:t?"edit":"add",token:R}),"POST")},ge=function(e){return O(P+"/order/saveBankCard",{id:e,action:"del",token:R},"POST")},Ee=function(e,t){return O(P+"/order/rechargeOrder",{page:e,limit:t,token:R,type:14},"POST")},be=function(e,t){return O(P+"/order/getChannel",{page:e,limit:t,token:R},"POST")},we=function(e){return O(P+"/order/getChannelInfo",{page:1,limit:20,token:R,channel_id:e},"POST")},_e=function(e,t){return O(P+"/order/editChannelInfo",{id:e,token:R,pay_code:t},"POST")},ke=function(e,t,a,n){if(n){var r=n.start_time,i=n.end_time,c=n.order_status,s=n.type,l=n.inputParam,o=n.filed,u={};return"create_time"!==o&&"arrival_time"!==o?u[o]=l:"create_time"!==o?u.time_type=1:"arrival_time"!==o&&(u.time_type=2),O(P+"/order/withDraw",Object(y.a)({page:e,limit:t,token:R,start_time:r,end_time:i,order_status:c,type:s},u,{flag:a}),"POST")}return O(P+"/order/withDraw",{page:e,limit:t,token:R,flag:3},"POST")},ve=function(e,t,a){return O(P+"/order/reviewInfo",{page:e,limit:t,token:R,id:a,type:2},"POST")},ye=function(e,t,a){return O(P+"/order/remarkInfo",{page:e,limit:t,token:R,id:a,type:2},"POST")},xe=function(e){var t=e.start_time,a=e.end_time,n=e.order_status,r=e.type,i=e.inputParam,c=e.filed,s=P+"/order/withDraw/?export=2&flag=2&"+("token="+R+"&filed="+c+"&keyword="+i+"&start_time="+t+"&end_time="+a+"&order_status="+n+"&type="+r);if(c)switch(c){case"user_id":s=s+"&user_id="+i;break;case"order_id":s=s+"&order_id="+i;break;case"create_time":s+="&time_type=1";break;case"arrival_time":s+="&time_type=2";break;case"replace_id":s=s+"&replace_id="+i}window.open(s)},Se=function(e,t,a){return O(P+"/order/withDrawRemark",{token:R,id:e,temarks:t,remark_type:a,type:2},"POST")},Oe=function(){return O(P+"/config/list",{conf_key:"withdraw_channel_info",get_val:1,token:R},"POST")},Ie=function(e,t,a){return O(P+"/config/saveWithDrawChannel",Object(y.a)({id:e,name:t},a,{"alipay[name]":"\u652f\u4ed8\u5b9d","alipay[withdraw_type]":1,"bankcard[name]":"\u94f6\u884c\u5361","bankcard[withdraw_type]":2,conf_key:"withdraw_channel_info",action:"edit",token:R}),"POST")},Ce=v.a.Item,De=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).getMenuList=Object(k.a)(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:0===(t=e.sent).status&&((n=t.data).forEach(function(e){e.children&&e.children.forEach(function(e){e.title=e.title.slice(24)})}),localStorage.setItem("menuList",JSON.stringify(n)),setTimeout(function(){return a.props.history.replace("/")},300));case 4:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i,c,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return r=n.username,i=n.password,c=n.authcode,e.next=4,z(r,i,c);case 4:0===(s=e.sent).status?(b.a.success("\u767b\u9646\u6210\u529f"),j.saveUser(s.data),a.getMenuList()):b.a.error(s.msg),e.next=9;break;case 8:console.log("\u68c0\u9a8c\u5931\u8d25!");case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleClick=function(){a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,a){var n,i,c;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}return n=a.username,i=a.password,e.next=4,T(n,i);case 4:c=e.sent,console.log("\u8bf7\u6c42\u6210\u529f",c),0===c.status&&c.data?E.a.info({title:"\u9996\u6b21\u767b\u5f55\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801",content:r.a.createElement("div",null,r.a.createElement("img",{src:c.data.qrurl,alt:"\u9a8c\u8bc1\u7801"}))}):b.a.error(c.msg),e.next=10;break;case 9:console.log("\u68c0\u9a8c\u5931\u8d25!");case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.validatePwd=function(e,t,a){console.log("validatePwd()",e,t),t?t.length<4?a("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e4\u4f4d"):t.length>12?a("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e12\u4f4d"):/^[a-zA-Z0-9_]+$/.test(t)?a():a("\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"):a("\u5bc6\u7801\u5fc5\u987b\u8f93\u5165")},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=j.getUser();if(e&&e._id)return r.a.createElement(p.a,{to:"/"});var t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login"},r.a.createElement("header",{className:"login-header"},r.a.createElement("h1",null,"QGame: \u540e\u53f0\u7ba1\u7406\u7cfb\u7edf")),r.a.createElement("section",{className:"login-content"},r.a.createElement("h2",null,"\u7528\u6237\u767b\u9646"),r.a.createElement(v.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Ce,null,t("username",{rules:[{required:!0,whitespace:!0,message:"\u7528\u6237\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:12,message:"\u7528\u6237\u540d\u6700\u591a12\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}],initialValue:"ice"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),r.a.createElement(v.a.Item,null,t("password",{rules:[{validator:this.validatePwd}],initialValue:"123456"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),r.a.createElement(v.a.Item,null,t("authcode",{rules:[],initialValue:"123456"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"qrcode",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u9a8c\u8bc1\u7801"}))),r.a.createElement("span",{style:{marginTop:5},onClick:this.handleClick},"\u9996\u6b21\u767b\u5f55\uff0c\u624b\u673a\u4e0b\u8f7dGoogle Authenticator \u5b89\u88c5\uff0c\u70b9\u51fb\u6b64\u5904\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801"),r.a.createElement(v.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u9646")))))}}]),t}(n.Component),je=v.a.create()(De),Pe=(a(413),a(133)),Re=(a(498),a(95)),ze=(a(417),Re.a.SubMenu),Te=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).getMenuList=Object(k.a)(_.a.mark(function t(){var a;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U();case 2:0===(a=t.sent).status?e.setState({data:a.data}):b.a.error(a.msg);case 4:case"end":return t.stop()}},t)})),e.getMenuList=Object(k.a)(_.a.mark(function t(){var a;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U();case 2:0===(a=t.sent).status?e.setState({data:a.data}):b.a.error("\u7f51\u7edc\u95ee\u9898\uff0c\u8bf7\u91cd\u65b0\u767b\u9646");case 4:case"end":return t.stop()}},t)})),e.getMenuNodes=function(t){var a=e.props.location.pathname;return t.reduce(function(t,n){n.key&&(n.children?(n.children.find(function(e){return 0===a.indexOf(e.key)})&&(e.openKey=n.key),t.push(r.a.createElement(ze,{key:n.key,title:r.a.createElement("span",null,r.a.createElement("span",null,n.title))},n.children.reduce(function(t,a){return t.push(r.a.createElement(Re.a.Item,{key:a.key,onClick:function(){e.props.onClick(a)}},r.a.createElement(m.b,{to:a.key},r.a.createElement("span",null,a.title)))),t},[])))):t.push(r.a.createElement(Re.a.Item,{key:n.key,onClick:function(){e.props.onClick(n)}},r.a.createElement(m.b,{to:n.key},r.a.createElement("span",null,n.title)))));return t},[])},e.state={data:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("menuList")),t=this.getMenuNodes(e),a=this.props.location.pathname,n=this.openKey;return r.a.createElement("div",{className:"left-nav"},r.a.createElement(m.b,{to:"/",className:"left-nav-header",style:{justifyContent:"center"}},r.a.createElement("h1",null,"QGame\u540e\u53f0\u7ba1\u7406")),r.a.createElement(Re.a,{mode:"inline",theme:"dark",selectedKeys:[a],defaultOpenKeys:[n]},t))}}]),t}(n.Component),Ue=Object(p.g)(Te),Ve=a(56),Me=(a(222),a(124));a(425);function Ne(e){return r.a.createElement("button",Object.assign({},e,{className:"link-button"}))}var Le={user:{}},Ke=(a(426),Me.a.TabPane),qe=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState({activeKey:e})},a.onEdit=function(e,t){a[t](e)},a.add=function(e){var t,n=a.state.panes,r=!1;if(n.forEach(function(a){a.title===e.title&&(r=!0,t=a.key)}),r)a.onChange(t);else{var i="newTab".concat(a.newTabIndex++);n.push({title:e.title,content:"Content of new Tab",key:i,path:e.key}),a.onChange(i),a.setState({panes:n,activeKey:i})}},a.remove=function(e){var t,n=a.state.activeKey;a.state.panes.forEach(function(a,n){a.key===e&&(t=n-1)});var r=a.state.panes.filter(function(t){return t.key!==e});r.length&&n===e&&(n=t>=0?r[t].key:r[0].key),a.setState({panes:r,activeKey:n})},a.logout=function(){E.a.confirm({content:"\u786e\u5b9a\u9000\u51fa\u5417?",onOk:function(){console.log("OK",Object(Ve.a)(a)),j.removeUser(),Le.user={},localStorage.removeItem("menuList"),a.props.history.replace("/login")}})},a.newTabIndex=0;var n=[{title:"\u9996\u9875",content:"Content of Tab 1",key:"1",closable:!1,path:"/home"}];return a.state={activeKey:n[0].key,panes:n},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this);var e,t=this.state,a=this.props.location.pathname;"/home"!==a&&"/"!==a&&(JSON.parse(localStorage.getItem("menuList")).forEach(function(t){t.children||t.key!==a?t.children&&t.children.forEach(function(t){t.key===a&&(e=t.title)}):e=t.title}),t.activeKey="2",t.panes.push({title:e,key:"2",path:a}),this.setState(Object(y.a)({},t)))}},{key:"render",value:function(){var e=Le.user.username;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-top"},r.a.createElement("span",null,"\u6b22\u8fce\uff01",e),r.a.createElement(Ne,{onClick:this.logout},"\u9000\u51fa")),r.a.createElement("div",{className:"header-bottom"},r.a.createElement(Me.a,{onChange:this.onChange,activeKey:this.state.activeKey,type:"editable-card",onEdit:this.onEdit,hideAdd:!0},this.state.panes.map(function(e){return r.a.createElement(Ke,{tab:r.a.createElement(m.b,{to:e.path},e.title),key:e.key,closable:e.closable,forceRender:!0})}))))}}]),t}(n.Component),Ae=Object(p.g)(qe),Ge=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("span",null,"\u6b22\u8fce\u60a8\uff01")}}]),t}(n.Component),Ye=(a(55),a(35)),Fe=(a(47),a(31)),Be=(a(112),a(10)),Je=(a(149),a(89)),Qe=(a(83),a(11)),We=(a(102),a(52)),He=a(67),$e=a.n(He),Ze=(a(79),a(26)),Xe=a.n(Ze);function et(e){if(!e)return"";var t=parseInt(e);return 0===t?"":Xe()(1e3*t).format("YYYY-MM-DD HH:mm:ss")}var tt=v.a.Item,at=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.isNickModal;t.goldRecord;return r.a.createElement(v.a,{className:"login-form"},r.a.createElement(tt,{style:a?{}:{display:"none"}},e("name",{rules:[{required:a,message:"Please input your username!"}],initialValue:this.props.val})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"}))),r.a.createElement(tt,{label:"\u91d1\u989d",style:a?{display:"none"}:{}},e("gold",{rules:[{required:!a,whitespace:!0,pattern:/^\d+(\.\d+)?$/,message:"\u5fc5\u987b\u4e3a\u6570\u5b57\uff0c\u51cf\u5c11\u65f6\u91d1\u989d\u4e3a\u8d1f"}]})(r.a.createElement(f.a,{placeholder:"\u5fc5\u987b\u4e3a\u6570\u5b57\uff0c\u51cf\u5c11\u65f6\u91d1\u989d\u4e3a\u8d1f"}))),r.a.createElement(tt,{label:"\u5907\u6ce8",style:a?{display:"none"}:{}},e("desc",{rules:[{max:400,message:"\u6700\u591a400\u5b57"},{required:!a}]})(r.a.createElement(f.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u6587\u5b57",autosize:{minRows:2,maxRows:6}}))))}}]),t}(n.Component),nt=v.a.create()(at),rt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){return a.props.isBindInfo?[{title:"\u652f\u4ed8\u5b9d\u8d26\u53f7",dataIndex:"alipay_account"},{title:"\u7ed1\u5b9a\u652f\u4ed8\u5b9d\u65f6\u95f4",dataIndex:"bind_alipay_at"},{title:"\u5f00\u6237\u4eba\u59d3\u540d",dataIndex:"card_name"},{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bank_name"},{title:"\u94f6\u884c\u5361\u53f7",dataIndex:"bank_num"},{title:"\u7ed1\u5b9a\u94f6\u884c\u5361\u65f6\u95f4",dataIndex:"bind_bank_at"},{title:"\u662f\u5426\u7070\u540d\u5355",dataIndex:"is_gray"},{title:"\u7070\u540d\u5355\u5907\u6ce8",dataIndex:"black_remark"},{title:"\u5907\u6ce8\u4eba",dataIndex:"remark_name"},{title:"\u5907\u6ce8\u65f6\u95f4",dataIndex:"remark_at"},{title:"\u64cd\u4f5c",dataIndex:"option"}]:[{title:"user_id",dataIndex:"id"},{title:"\u4ea7\u751f\u6765\u6e90",dataIndex:"pay_account_name"},{title:"\u4f59\u989d(\u53d8\u52a8\u524d)",dataIndex:"total_balance"},{title:"\u53d8\u52a8\u91d1\u989d",dataIndex:"final_pay",sorter:function(e,t){return e.total_balance-t.total_balance}},{title:"\u7a0e\u6536",dataIndex:"tax"},{title:"\u4f59\u989d(\u53d8\u52a8\u540e)",dataIndex:"total_final_balance"},{title:"\u5907\u6ce8",dataIndex:"pay_reason"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"}]},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.GoldDetailRecord,t=e.data;e.count,e.id;return r.a.createElement(Fe.a,{bordered:!0,rowKey:"_id",dataSource:t,columns:this.initColumns(),size:"small"})}}]),t}(n.Component),it=We.a.RangePicker,ct=Qe.a.Option,st=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={data:[],count:0,pageSize:20,isNickShow:!1,isGoldShow:!1,isGoldDetailShow:!1,isBindInfoShow:!1,isResetPwdShow:!1,resetpwd:"",game_nick:"",startTime:"",endTime:"",loading:!1},a.initColumns=function(){return[{title:"user_id",dataIndex:"id",key:"id",fixed:"left",width:150},{title:"\u6635\u79f0",dataIndex:"game_nick",key:"game_nick",fixed:"left",width:150,onCell:function(e,t){return{onClick:function(n){a.game_nick=e.game_nick,a.id=e.id,a.rowIndex=t,a.setState({isNickShow:!0})},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"game_gold",key:"game_gold",sorter:function(e,t){return e.game_gold-t.game_gold},width:150,onCell:function(e,t){return{onClick:function(t){a.goldRecord=e,a.setState({isGoldShow:!0})},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",key:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_nick",key:"proxy_nick",width:150},{title:"\u624b\u673a",dataIndex:"phone_number",key:"phone_number",width:150},{title:"\u8d26\u53f7",dataIndex:"role_name",key:"role_name",width:150},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"regin_time",render:et,key:"regin_time",sorter:function(e,t){return e.regin_time-t.regin_time},width:200},{title:"\u767b\u5f55IP",dataIndex:"login_ip",key:"login_ip",width:200},{title:"\u767b\u9646\u65f6\u95f4",dataIndex:"login_time",render:et,sorter:function(e,t){return e.login_time-t.login_time},width:200},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.getGoldDetail(e)}},"\u8d44\u91d1\u660e\u7ec6"),r.a.createElement(Ne,{onClick:function(){return a.getGoldDetail(e,!0)}},"\u67e5\u770b\u7ed1\u5b9a\u4fe1\u606f"),r.a.createElement(Je.a,{title:"\u4ea4\u6613\u6240\u9ed1\u540d\u5355",onConfirm:function(){return a.saveUserBlack(e,!0)},onCancel:function(){return a.saveUserBlack(e,!1)},okText:"\u6dfb\u52a0",cancelText:"\u79fb\u9664"},r.a.createElement(Ne,null,"\u4ea4\u6613\u6240\u9ed1\u540d\u5355")),r.a.createElement(Ne,{onClick:function(){return a.resetPwd(e)}},"\u91cd\u7f6e\u5bc6\u7801"))}},{title:"\u5b9e\u65f6\u4f59\u989d",width:100,render:function(e){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.getLoadGold(e)}},"\u67e5\u770b"))}}]},a.getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i,c,s;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t,n);case 2:0===(r=e.sent).status?(i=r.data,c=i.game_user,s=i.proxy_user,c.forEach(function(e){s.forEach(function(t){e.id===t.id&&(e.proxy_nick=t.proxy_pid)})}),a.setState({data:c,count:r.count})):b.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.changeNickName=function(){var e=a.refs.getFormValue;e.validateFields(function(){var t=Object(k.a)(_.a.mark(function t(n,r){var i;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}if(a.setState({isNickShow:!1}),r.name===a.game_nick){t.next=7;break}return t.next=5,M(a.id,r.name);case 5:0===t.sent.status&&(b.a.success("\u4fee\u6539\u6210\u529f!"),i=a.rowIndex,a.state.data[i].game_nick=r.name,a.setState({data:a.state.data}));case 7:e.resetFields();case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())},a.changeGold=function(){a.setState({loading:!0});var e=a.refs.getFormValue,t=a.goldRecord;e.validateFields(function(){var n=Object(k.a)(_.a.mark(function n(r,i){var c;return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,N(t,i);case 2:0===(c=n.sent).status?(b.a.success(c.msg),a.setState({isGoldShow:!1,loading:!1})):b.a.error(c.msg),e.resetFields();case 5:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({startTime:n,endTime:r})},a.onSearchData=Object(k.a)(_.a.mark(function e(){var t,n,r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.inputParam.val=a.input.input.value,e.next=3,L(1,a.state.pageSize,a.state.startTime,a.state.endTime,a.inputParam);case 3:0===(t=e.sent).status?(n=t.data,r=n.game_user,i=n.proxy_user,r.forEach(function(e){i.forEach(function(t){e.id===t.id&&(e.proxy_nick=t.proxy_pid)})}),a.setState({data:r,count:t.count})):b.a.error("\u67e5\u4e0d\u5230\u8f93\u5165\u7684\u5173\u952e\u5b57");case 5:case"end":return e.stop()}},e)})),a.getLoadGold=function(){var e=Object(k.a)(_.a.mark(function e(t){var a,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,K(a);case 3:0===(n=e.sent).status&&E.a.success({title:"\u5b9e\u65f6\u4f59\u989d",content:"\u7528\u6237".concat(t.id,"\u5b9e\u65f6\u4f59\u989d\u662f : ").concat(n.data[0].game_gold)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getGoldDetail=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.isBindInfo=n,a.GoldDetailRecord={data:[],count:0,id:t.id},n){e.next=8;break}return e.next=5,q(1,20,t.id);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,A(1,20,t.id);case 10:e.t0=e.sent;case 11:0===(r=e.t0).status&&(a.GoldDetailRecord.data=r.data,a.GoldDetailRecord.count=r.count),a.setState({isGoldDetailShow:!0});case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.saveUserBlack=function(){var e=Object(k.a)(_.a.mark(function e(t,a){var n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a?"add":"remove",e.next=3,G(t.id,n);case 3:0===(r=e.sent).status?b.a.success("\u64cd\u4f5c\u6210\u529f\uff01"):b.a.success("\u64cd\u4f5c\u5931\u8d25:"+r.msg);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.resetPwd=function(e){a.setState({isResetPwdShow:!0}),a.resetPwdId=e.id},a.handleResetpwd=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(a.resetPwdId,a.state.resetpwd);case 2:0===(t=e.sent).status?(b.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),a.setState({resetpwd:"",isResetPwdShow:!1})):b.a.success("\u64cd\u4f5c\u5931\u8d25:"+t.msg);case 4:case"end":return e.stop()}},e)})),a.handleChange=a.handleChange.bind(Object(Ve.a)(a)),a.initColumns(),a.inputParam={key:"id",val:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=Object.assign({},this.state.inputParam,{val:e.target.value});this.setState({inputParam:t})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.count,i=r.a.createElement("span",null,r.a.createElement(Be.b,{locale:$e.a},r.a.createElement(it,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",r.a.createElement(Qe.a,{style:{width:200},placeholder:"Select a person",defaultValue:"id",onChange:function(t){e.inputParam.key=t}},r.a.createElement(ct,{value:"id"},"user_id"),r.a.createElement(ct,{value:"game_nick"},"\u6635\u79f0"),r.a.createElement(ct,{value:"phone_number"},"\u624b\u673a\u53f7"),r.a.createElement(ct,{value:"role_name"},"\u8d26\u53f7"),r.a.createElement(ct,{value:"proxy_nick"},"\u6240\u5c5e\u4ee3\u7406"),r.a.createElement(ct,{value:"package_nick"},"\u6240\u5c5e\u54c1\u724c")),"\xa0 \xa0",r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22",style:{width:150},ref:function(t){return e.input=t}}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"}))),c=r.a.createElement("button",{onClick:function(){e.getUsers(1,20),e.input.handleReset()}},r.a.createElement(g.a,{type:"reload"}));return r.a.createElement(Ye.a,{title:i,extra:c},r.a.createElement(Fe.a,{bordered:!0,rowKey:"_id",dataSource:a,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:n,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:2100,y:"60vh"}}),r.a.createElement(E.a,{title:"\u4fee\u6539\u6635\u79f0",visible:this.state.isNickShow,onOk:this.changeNickName,onCancel:function(){e.setState({isNickShow:!1})}},r.a.createElement(nt,{ref:"getFormValue",val:this.game_nick,isNickModal:!0})),r.a.createElement(E.a,{title:"\u4fee\u6539\u91d1\u989d",visible:this.state.isGoldShow,onCancel:function(){e.setState({isGoldShow:!1})},footer:[r.a.createElement(h.a,{key:"back",onClick:function(){e.setState({isGoldShow:!1})}},"\u53d6\u6d88"),r.a.createElement(h.a,{key:"submit",type:"primary",loading:this.state.loading,onClick:this.changeGold},"\u786e\u5b9a")]},r.a.createElement(nt,{ref:"getFormValue",goldRecord:this.goldRecord})),r.a.createElement(E.a,{title:this.isBindInfo?"\u67e5\u770b\u7ed1\u5b9a\u4fe1\u606f":"\u8d44\u91d1\u660e\u7ec6",visible:this.state.isGoldDetailShow,onCancel:function(){e.setState({isGoldDetailShow:!1})},footer:null,width:"70%"},r.a.createElement(rt,{GoldDetailRecord:this.GoldDetailRecord,isBindInfo:this.isBindInfo})),r.a.createElement(E.a,{title:"\u91cd\u7f6e\u5bc6\u7801",visible:this.state.isResetPwdShow,onOk:this.handleResetpwd,onCancel:function(){e.setState({isResetPwdShow:!1})}},r.a.createElement("span",null,"\u91cd\u7f6e\u5bc6\u7801"),r.a.createElement(f.a,{value:this.state.resetpwd,onChange:function(t){return e.setState({resetpwd:t.target.value})}})))}}]),t}(n.Component),lt=(a(148),a(60)),ot=(a(101),a(28)),ut=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).checkboxOnChange=function(e){console.log(e),a.setState({checkedList:e,indeterminate:!!e.length&&e.length<a.props.packageList.length,checkAll:e.length===a.props.packageList.length})},a.onCheckAllChange=function(e){var t=a.props.packageList.map(function(e){return e.value});a.setState({checkedList:e.target.checked?t:[],indeterminate:!1,checkAll:e.target.checked},function(){a.props.form.setFieldsValue({packageList:a.state.checkedList})})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=14;break}if(a.props.isEdit){e.next=7;break}return e.next=4,W(n);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,H(n,a.props.editDataRecord.id);case 9:e.t0=e.sent;case 10:0===(r=e.t0).status?(b.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):b.a.error("\u51fa\u9519\u4e86\uff1a"+r.msg),e.next=15;break;case 14:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={isBan:1,checkedList:[],indeterminate:!0,checkAll:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.isEdit&&this.props.editDataRecord.group){var e=this.props.editDataRecord.group.split(",");this.props.form.setFieldsValue({packageList:e.map(Number)})}}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,i=this.props,c=i.editDataRecord,s=i.isEdit,l=this.props.optionList.map(function(e){return r.a.createElement(Qe.a.Option,{value:e.id,key:e.id},e.name)});return r.a.createElement(v.a,{labelCol:{span:4},onSubmit:this.handleSubmit,labelAlign:"left"},r.a.createElement(v.a.Item,{label:"\u767b\u5f55\u540d"},a("username",{rules:[{required:!0,whitespace:!0,message:"\u767b\u5f55\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:10,message:"\u7528\u6237\u540d\u6700\u591a10\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}],initialValue:s?c.name:""})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),style:{width:"60%"},placeholder:"\u5c06\u4f1a\u6210\u4e3a\u60a8\u552f\u4e00\u7684\u767b\u5165\u540d"}))),r.a.createElement(v.a.Item,{label:"\u7528\u6237\u72b6\u6001"},a("userStatus",{initialValue:s?c.status:1})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u542f\u7528"),r.a.createElement(ot.a,{value:0},"\u7981\u7528")))),r.a.createElement(v.a.Item,{label:"\u7528\u6237\u7ec4"},a("userGroup",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7528\u6237\u7ec4!"}],initialValue:s&&c.group_id})(r.a.createElement(Qe.a,{style:{width:" 40%"},placeholder:"\u9009\u62e9\u7528\u6237\u7ec4"},l))),r.a.createElement(v.a.Item,{label:"\u6388\u6743\u54c1\u724c"},r.a.createElement(lt.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"\u5168\u9009"),a("packageList",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6388\u6743\u54c1\u724c!"}]})(r.a.createElement(lt.a.Group,{options:this.props.packageList,onChange:function(t){return e.checkboxOnChange(t)}}))),r.a.createElement(v.a.Item,{label:"\u6388\u6743\u4ee3\u7406"},a("proxy",{rules:[{whitespace:!0,message:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}],initialValue:s?c.proxy:""})(r.a.createElement(f.a,{style:{width:"60%"},placeholder:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}))),r.a.createElement(v.a.Item,{label:"\u643a\u5e26\u91d1\u989d"},a("loadGold",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"},{pattern:/^\d+(\.\d+)?$/,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}],initialValue:s&&c.use_balance})(r.a.createElement(f.a,{style:{width:"60%"},placeholder:"\u8bf7\u8f93\u5165\u6570\u5b57"}))),r.a.createElement(v.a.Item,{label:"\u5bc6\u7801",style:s?{display:"none"}:{}},a("password",{rules:[{required:!s,whitespace:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{min:6,message:"\u5bc6\u7801\u81f3\u5c116\u4f4d"},{max:16,message:"\u5bc6\u7801\u6700\u591a16\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),r.a.createElement(v.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801",style:s?{display:"none"}:{}},a("confirmPssword",{rules:[{required:!s,whitespace:!0},{validator:function(e,t,a){t||a(),t===n("password")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),r.a.createElement(v.a.Item,{label:"\u5bc6\u7801(\u9009\u586b)",style:s?{}:{display:"none"}},a("editPassword",{rules:[{whitespace:!0},{validator:function(e,t,a){t||a(),t===n("password")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26\uff0c\u91cd\u7f6e\u5bc6\u7801\u65f6\u4f7f\u7528"}))),r.a.createElement(v.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),dt=v.a.create()(ut),mt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){return[{title:"user_id",dataIndex:"id",fixed:"left",width:80},{title:"\u7528\u6237\u540d",dataIndex:"name",fixed:"left",width:150,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u89d2\u8272",dataIndex:"role_name",width:200},{title:"\u6388\u6743\u54c1\u724c",dataIndex:"group",width:100},{title:"\u6388\u6743\u4ee3\u7406",dataIndex:"proxy",width:100},{title:"\u53ef\u4f7f\u7528\u91d1\u989d",dataIndex:"use_balance",width:150},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:180,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updated_at",width:180,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u72b6\u6001",dataIndex:"status",align:"center",render:function(e,t,a){return r.a.createElement("span",null,1===e?"\u542f\u7528":"\u7981\u7528")}},{title:"\u64cd\u4f5c",dataIndex:"handle",width:200,render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),r.a.createElement(Ne,{onClick:function(){return a.resetAuthCode(t)}},"AuthCode\u91cd\u7f6e"))}}]},a.getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(a.state.inputParam);case 2:t=e.sent,a.setState({data:t.data,count:1});case 4:case"end":return e.stop()}},e)})),a.addData=Object(k.a)(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return t=e.sent,e.next=5,Q();case 5:n=e.sent,0===t.status&&0===n.status&&(a.optionList=t.data,a.packageList=n.data.map(function(e){return{label:e.name,value:e.id}}),a.setState({isAddDataShow:!0}));case 7:case"end":return e.stop()}},e)})),a.edit=function(){var e=Object(k.a)(_.a.mark(function e(t){var n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a.editDataRecord=t,e.next=4,J();case 4:return n=e.sent,e.next=7,Q();case 7:r=e.sent,0===n.status&&0===r.status&&(a.optionList=n.data,a.packageList=r.data.map(function(e){return{label:e.name,value:e.id}}),a.setState({isEditDataShow:!0}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.resetAuthCode=function(e){E.a.confirm({title:"\u4fe1\u606f",content:"\u771f\u7684\u8981\u91cd\u7f6e\u4e48?",onOk:function(){var t=Object(k.a)(_.a.mark(function t(){var a;return _.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e.id);case 2:(a=t.sent).status,b.a.success(a.msg);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})},a.handleChange=a.handleChange.bind(Object(Ve.a)(a)),a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("span",null,r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:{width:150},value:this.state.inputParam,onChange:this.handleChange}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"})),"\xa0 \xa0",r.a.createElement("button",{onClick:this.addData},r.a.createElement(g.a,{type:"user-add"}),"\u6dfb\u52a0\u8d26\u6237")),extra:r.a.createElement("button",{onClick:function(){return e.getUsers(1,20)}},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(Fe.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1500,y:"60vh"}}),r.a.createElement(E.a,{title:"\u6dfb\u52a0\u7528\u6237",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},r.a.createElement(dt,{optionList:this.optionList,packageList:this.packageList,cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})),this.state.isEditDataShow&&r.a.createElement(E.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},r.a.createElement(dt,{isEdit:"true",optionList:this.optionList,packageList:this.packageList,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(n.Component),pt=(a(487),a(195)),ht=pt.a.TreeNode,ft=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getTreeNodes=function(e){return e.map(function(e){return e.children?r.a.createElement(ht,{key:e.id,title:e.title},a.getTreeNodes(e.children)):r.a.createElement(ht,{key:e.id,title:e.title})})},a.onSelect=function(e,t){var n=t.node,r=a.state.expandedKeys;n.props.isLeaf?a.setState({selectedKeys:e}):a.setState({expandedKeys:n.props.expanded?r.filter(function(e){return e!==n.props.eventKey}):r.concat(n.props.eventKey)})},a.onCheck=function(e,t){a.setState({checkedKeys:e.map(Number)})},a.onExpand=function(e,t){a.setState({expandedKeys:e})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i,c,s,l;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=17;break}if(r=n.name,i=n.desc,c=a.state.checkedKeys,s=a.props.editDataRecord?a.props.editDataRecord.id:"",a.props.isEdit){e.next=10;break}return e.next=7,X(r,c,i);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,ee(r,c,i,s);case 12:e.t0=e.sent;case 13:0===(l=e.t0).status?(b.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields(),a.setState({checkedKeys:[]})):b.a.error("\u51fa\u9519\u4e86\uff1a"+l.msg),e.next=18;break;case 17:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 18:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={expandedKeys:[],selectedKeys:[],checkedKeys:a.props.isEdit?a.props.editDataRecord.rules.split(","):[],defaultCheckedKeys:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("menuList")),t=this.getTreeNodes(e),a=this.props.form.getFieldDecorator,n=this.props,i=n.editDataRecord,c=n.isEdit;return r.a.createElement(v.a,{labelCol:{span:4},onSubmit:this.handleSubmit,labelAlign:"left"},r.a.createElement(v.a.Item,{label:"\u89d2\u8272\u540d"},a("name",{rules:[{required:!0,message:"\u89d2\u8272\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"}],initialValue:c?i.name:""})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u5206\u914d\u6743\u9650"},r.a.createElement("br",null),r.a.createElement(pt.a,{checkable:!0,defaultCheckedKeys:c?i.rules.split(","):[],expandedKeys:this.state.expandedKeys,selectedKeys:this.state.selectedKeys,onSelect:this.onSelect,onCheck:this.onCheck,onExpand:this.onExpand},t)),r.a.createElement(v.a.Item,{label:"\u63cf\u8ff0"},a("desc",{rules:[{max:400,message:"\u6700\u591a400\u5b57"}],initialValue:c?i.description:""})(r.a.createElement(f.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u6587\u5b57",autosize:{minRows:2,maxRows:6}}))),r.a.createElement(v.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),gt=v.a.create()(ft),Et=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){return[{title:"user_id",dataIndex:"id",width:80},{title:"\u89d2\u8272\u540d",dataIndex:"name",render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u63cf\u8ff0",dataIndex:"description"},{title:"\u72b6\u6001",dataIndex:"status",align:"center",render:function(e,t,a){return r.a.createElement("span",null,1===e?"\u5df2\u542f\u7528":"\u7981\u7528")}},{title:"\u64cd\u4f5c",dataIndex:"handle",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"))}}]},a.getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addData=Object(k.a)(_.a.mark(function e(){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isAddDataShow:!0});case 1:case"end":return e.stop()}},e)})),a.edit=function(){var e=Object(k.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("span",null,r.a.createElement("button",{onClick:this.addData},r.a.createElement(g.a,{type:"user-add"}),"\u6dfb\u52a0\u8d26\u6237")),extra:r.a.createElement("button",{onClick:function(){return e.getUsers(1,20)}},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(Fe.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}}}),r.a.createElement(E.a,{title:"\u6dfb\u52a0\u89d2\u8272",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},r.a.createElement(gt,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})),this.state.isEditDataShow&&r.a.createElement(E.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},r.a.createElement(gt,{isEdit:"true",editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(n.Component),bt=We.a.RangePicker,wt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:parseInt(r.count)}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(1,20,a.state);case 2:t=e.sent,a.setState({data:t.data,count:parseInt(t.count)});case 4:case"end":return e.stop()}},e)})),a.download=function(){ue(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:300},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:150},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id",width:100},{title:"\u652f\u4ed8\u6e20\u9053",dataIndex:"channel_type",width:100,render:function(e,t,a){var n;switch(e){case"0":n=t.replace_id;break;case"5":n="\u5145\u63d0UC";break;case"12":n="onePay";break;case"11":n="\u53e4\u90fd";break;case["10","13","14","15","16"]:n="\u805a\u946b";break;default:n=""}return r.a.createElement("span",null,n)}},{title:"\u652f\u4ed8\u7c7b\u578b",dataIndex:"type",width:100,render:function(e,t,a){var n;switch(e){case"1":n="alipay";break;case"2":n="\u94f6\u884c\u5361\u8f6c\u8d26";break;case"3":n="\u4eba\u5de5\u4ee3\u5145";break;case"4":n="\u4eba\u5de5\u4ee3\u63d0";break;case"5":n="\u88ab\u8d60\u9001";break;case"6":n="\u5fae\u4fe1\u652f\u4ed8";break;case"7":n="\u94f6\u8054\u652f\u4ed8";break;case"8":n="\u7f51\u94f6\u652f\u4ed8";break;case"9":n="\u5feb\u6377\u652f\u4ed8";break;default:n=""}return r.a.createElement("span",null,n)}},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",width:130,render:function(e,t,a){var n;switch(e){case"1":n="\u672a\u652f\u4ed8";break;case"2":n="\u5df2\u8fc7\u671f";break;case"3":n="\u5df2\u5206\u914d";break;case"4":n="\u5df2\u64a4\u9500";break;case"5":n="\u5df2\u652f\u4ed8";break;case"6":n="\u5df2\u5b8c\u6210";break;case"7":n="\u8865\u5355\u521d\u5ba1\u901a\u8fc7";break;case"8":n="\u521d\u5ba1\u62d2\u7edd";break;case"9":n="\u8865\u5355\u590d\u5ba1\u901a\u8fc7";break;case"10":n="\u590d\u5ba1\u62d2\u7edd";break;case"11":n="\u5145\u503c\u5931\u8d25";break;case"12":n="\u5ba2\u670d\u62d2\u7edd";break;default:n=""}return r.a.createElement("span",null,n)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:200,render:et,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",width:200,render:function(e,t,a){return"0"!==e&&e?et(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}},{title:"\u64cd\u4f5c",dataIndex:"handle",width:100},{title:"\u5907\u6ce8",dataIndex:"remark"}]},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({start_time:n,end_time:r})},a.handleChange=a.handleChange.bind(Object(Ve.a)(a)),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",order_status:"",type:"",paramKey:"",inputParam:"",user_id:"",order_id:""},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be.b,{locale:$e.a},r.a.createElement(bt,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",r.a.createElement(Qe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:120},onSelect:function(t){return e.setState({paramKey:t})}},r.a.createElement(Qe.a.Option,{value:"order_id"},"\u8ba2\u5355id"),r.a.createElement(Qe.a.Option,{value:"user_id"},"user_id"),r.a.createElement(Qe.a.Option,{value:"1"},"\u521b\u5efa\u65f6\u95f4"),r.a.createElement(Qe.a.Option,{value:"2"},"\u5230\u8d26\u65f6\u95f4")),"\xa0 \xa0",r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},value:this.state.inputParam,onChange:this.handleChange}),"\xa0 \xa0",r.a.createElement(Qe.a,{defaultValue:"",style:{width:200},onSelect:function(t){return e.setState({order_status:t})}},r.a.createElement(Qe.a.Option,{value:""},"\u8ba2\u5355\u72b6\u6001"),r.a.createElement(Qe.a.Option,{value:"0"},"\u5168\u90e8"),r.a.createElement(Qe.a.Option,{value:"1"},"\u672a\u652f\u4ed8"),r.a.createElement(Qe.a.Option,{value:"4"},"\u5df2\u64a4\u9500"),r.a.createElement(Qe.a.Option,{value:"5"},"\u5df2\u652f\u4ed8"),r.a.createElement(Qe.a.Option,{value:"6"},"\u5df2\u5b8c\u6210"),r.a.createElement(Qe.a.Option,{value:"7"},"\u8865\u5355\u521d\u5ba1\u901a\u8fc7"),r.a.createElement(Qe.a.Option,{value:"8"},"\u8865\u5355\u521d\u5ba1\u62d2\u7edd"),r.a.createElement(Qe.a.Option,{value:"9"},"\u8865\u5355\u590d\u5ba1\u901a\u8fc7"),r.a.createElement(Qe.a.Option,{value:"10"},"\u8865\u5355\u590d\u5ba1\u62d2\u7edd"),r.a.createElement(Qe.a.Option,{value:"11"},"\u5145\u503c\u5931\u8d25")),"\xa0 \xa0",r.a.createElement(Qe.a,{defaultValue:"",style:{width:120},onSelect:function(t){return e.setState({type:t})}},r.a.createElement(Qe.a.Option,{value:""},"\u8ba2\u5355\u7c7b\u578b"),r.a.createElement(Qe.a.Option,{value:"0"},"\u5168\u90e8"),r.a.createElement(Qe.a.Option,{value:"1"},"alipay"),r.a.createElement(Qe.a.Option,{value:"2"},"\u94f6\u884c\u5361\u8f6c\u8d26"),r.a.createElement(Qe.a.Option,{value:"3"},"\u4eba\u5de5\u4ee3\u5145"),r.a.createElement(Qe.a.Option,{value:"4"},"\u4eba\u5de5\u4ee3\u63d0"),r.a.createElement(Qe.a.Option,{value:"6"},"\u5fae\u4fe1\u652f\u4ed8"),r.a.createElement(Qe.a.Option,{value:"7"},"\u94f6\u8054\u652f\u4ed8"),r.a.createElement(Qe.a.Option,{value:"8"},"\u7f51\u94f6\u652f\u4ed8"),r.a.createElement(Qe.a.Option,{value:"9"},"\u5feb\u6377\u652f\u4ed8")),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"}),"\u8ba2\u5355\u67e5\u8be2"),"\xa0 \xa0"),r.a.createElement("div",{style:{marginTop:10}},r.a.createElement(f.a,{type:"text",placeholder:"user_id",style:{width:150},value:this.state.user_id,onChange:function(t){return e.setState({user_id:t.target.value})}}),"\xa0 \xa0",r.a.createElement(f.a,{type:"text",placeholder:"\u8ba2\u5355Id",style:{width:300},value:this.state.order_id,onChange:function(t){return e.setState({order_id:t.target.value})}}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"}),"\u73a9\u5bb6\u6389\u5355\u67e5\u8be2"))),extra:r.a.createElement("span",null,r.a.createElement(h.a,{style:{float:"right"},onClick:function(){return e.getUsers(1,20)},icon:"reload"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{onClick:this.download,icon:"download"},"\u4e0b\u8f7d\u5217\u8868"))},r.a.createElement(Fe.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:1900,y:"60vh"}}))}}]),t}(n.Component),_t=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.editDataRecord?a.props.editDataRecord.id:"",t){e.next=15;break}if(a.props.isEdit){e.next=8;break}return e.next=5,me(n);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,pe(n,r);case 10:e.t0=e.sent;case 11:0===(i=e.t0).status?(b.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):b.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg),e.next=16;break;case 15:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 16:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.editDataRecord,n=t.isEdit;return r.a.createElement(v.a,{labelCol:{span:7},wrapperCol:{span:17},onSubmit:this.handleSubmit},r.a.createElement(v.a.Item,{label:"\u652f\u4ed8\u540d\u79f0"},e("name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.name:""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u6240\u5c5e\u6e20\u9053ID"},e("channel_id",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.channel_id:""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u652f\u4ed8\u540d\u79f0"},e("nick_name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.nick_name:""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u72b6\u6001"},e("status",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?parseInt(a.status):1})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u5f00\u542f"),r.a.createElement(ot.a,{value:0},"\u5173\u95ed")))),r.a.createElement(v.a.Item,{label:"\u652f\u4ed8\u65b9\u5f0f"},e("pay_type",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u652f\u4ed8\u65b9\u5f0f!"}],initialValue:n&&a.pay_type})(r.a.createElement(Qe.a,{style:{width:" 40%"},placeholder:"\u9009\u62e9\u652f\u4ed8\u65b9\u5f0f"},r.a.createElement(Qe.a.Option,{value:"7"},"\u652f\u4ed8\u5b9dH5"),r.a.createElement(Qe.a.Option,{value:"8"},"\u652f\u4ed8\u5b9d\u626b\u7801"),r.a.createElement(Qe.a.Option,{value:"2"},"\u5feb\u6377\u652f\u4ed8"),r.a.createElement(Qe.a.Option,{value:"4"},"\u5fae\u4fe1H5"),r.a.createElement(Qe.a.Option,{value:"5"},"\u5fae\u4fe1\u626b\u7801"),r.a.createElement(Qe.a.Option,{value:"1"},"\u7f51\u94f6\u652f\u4ed8"),r.a.createElement(Qe.a.Option,{value:"13"},"\u94f6\u8054\u626b\u7801"),r.a.createElement(Qe.a.Option,{value:"17"},"\u8f6c\u8d26\u94f6\u884c\u5361")))),r.a.createElement(v.a.Item,{label:"\u652f\u4ed8\u9650\u989d\u6700\u5c0f\u9762\u503c"},e("min_amount",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.min_amount:""})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(v.a.Item,{label:"\u652f\u4ed8\u9650\u989d\u6700\u5927\u9762\u503c"},e("max_amount",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.max_amount:""})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(v.a.Item,{label:"\u56fa\u5b9a\u9762\u503c"},e("span_amount",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}],initialValue:n&&a.span_amount})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u5355\u7b14\u95f4\u9694"},e("seed",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}],initialValue:n&&a.seed})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u73a9\u5bb6\u627f\u62c5\u8d39\u7387%"},e("rate",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n&&a.rate})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u663e\u793a\u6392\u5e8f"},e("sort",{initialValue:n?a.sort:"0"})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),kt=v.a.create()(_t),vt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(1,20,a.state.inputParam);case 2:0===(t=e.sent).status?a.setState({data:t.data,count:parseInt(t.count)}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)})),a.addData=function(){a.setState({isAddDataShow:!0})},a.edit=function(){var e=Object(k.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refreshPage=function(){a.setState({data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1}),a.getUsers(1,20)},a.initColumns=function(){return[{title:"ID",dataIndex:"id",width:80},{title:"\u652f\u4ed8\u540d\u79f0",dataIndex:"name",width:120},{title:"\u6e20\u9053\u6635\u79f0",dataIndex:"nick_name",width:100},{title:"\u5355\u7b14-\u6700\u5c0f\u9650\u989d",dataIndex:"min_amount",width:120},{title:"\u5355\u7b14-\u6700\u5927\u9650\u989d",dataIndex:"max_amount",width:120},{title:"\u5355\u7b14\u95f4\u9694",dataIndex:"seed",width:100},{title:"\u73a9\u5bb6\u627f\u62c5\u7684\u8d39\u7387%",dataIndex:"rate",width:150},{title:"\u56fa\u5b9a\u9762\u503c",dataIndex:"span_amount",width:250},{title:"\u652f\u4ed8\u65b9\u5f0f",dataIndex:"pay_type",width:100,render:function(e,t,a){var n;switch(e){case"7":n="\u652f\u4ed8\u5b9dH5";break;case"8":n="\u652f\u4ed8\u5b9d\u626b\u7801";break;case"2":n="\u5feb\u6377\u652f\u4ed8";break;case"4":n="\u5fae\u4fe1H5";break;case"5":n="\u5fae\u4fe1\u626b\u7801";break;case"1":n="\u7f51\u94f6\u652f\u4ed8";break;case"13":n="\u94f6\u8054\u626b\u7801";break;case"17":n="\u8f6c\u8d26\u94f6\u884c\u5361";break;default:n=""}return r.a.createElement("span",null,n)}},{title:"\u72b6\u6001",dataIndex:"status",width:80,render:function(e,t,a){return r.a.createElement("span",null,"1"===e?"\u5f00\u542f":"\u5173\u95ed")}},{title:"\u663e\u793a\u987a\u5e8f",width:100,dataIndex:"sort"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:200,render:et},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updated_at",width:200,render:et},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"))}}]},a.state={data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("span",null,r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u652f\u4ed8\u540d\u79f0",style:{width:150},value:this.state.inputParam,onChange:function(t){return e.setState({inputParam:t.target.value})}}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"})),"\xa0 \xa0",r.a.createElement("button",{onClick:this.addData},r.a.createElement(g.a,{type:"user-add"}),"\u6dfb\u52a0")),extra:r.a.createElement("button",{onClick:this.refreshPage},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(Fe.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1900,y:"60vh"}}),r.a.createElement(E.a,{title:"\u6dfb\u52a0\u89d2\u8272",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},r.a.createElement(kt,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:this.refreshPage})),this.state.isEditDataShow&&r.a.createElement(E.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},r.a.createElement(kt,{isEdit:!0,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(n.Component),yt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.editDataRecord?a.props.editDataRecord.id:"",t){e.next=15;break}if(a.props.isEdit){e.next=8;break}return e.next=5,fe(n);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,fe(n,r);case 10:e.t0=e.sent;case 11:0===(i=e.t0).status?(b.a.success("\u63d0\u4ea4\u6210\u529f:"+i.msg),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):b.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg),e.next=16;break;case 15:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 16:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.editDataRecord,n=t.isEdit;return r.a.createElement(v.a,{labelCol:{span:7},wrapperCol:{span:17},onSubmit:this.handleSubmit},r.a.createElement(v.a.Item,{label:"\u5f00\u6237\u4eba"},e("card_name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.card_name:""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u94f6\u884c\u540d\u79f0"},e("bank_name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.bank_name:""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u5361\u53f7"},e("card_num",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"},{min:15,max:20,message:"\u8bf7\u8f93\u516515-20\u4f4d\u6b63\u786e\u5361\u53f7"}],initialValue:n?a.card_num:""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u7528\u9014"},e("type",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?parseInt(a.type):1})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u6536\u6b3e\u5361"),r.a.createElement(ot.a,{value:0},"\u51fa\u6b3e\u5361")))),r.a.createElement(v.a.Item,{label:"\u72b6\u6001"},e("status",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?parseInt(a.status):2})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u7a7a\u95f2"),r.a.createElement(ot.a,{value:2},"\u4f7f\u7528\u4e2d"),r.a.createElement(ot.a,{value:3},"\u505c\u7528")))),r.a.createElement(v.a.Item,{label:"\u652f\u4ed8\u5bc6\u7801"},e("pay_password",{})(r.a.createElement(f.a,{placeholder:"\u51fa\u6b3e\u5361\u65f6\u5fc5\u586b",style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u67e5\u8be2\u5bc6\u7801"},e("query_password",{})(r.a.createElement(f.a,{placeholder:"\u51fa\u6b3e\u5361\u65f6\u5fc5\u586b",style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"U\u76fe\u5bc6\u7801"},e("u_code",{})(r.a.createElement(f.a,{placeholder:"\u51fa\u6b3e\u5361\u65f6\u5fc5\u586b",style:{width:"60%"}}))),r.a.createElement(v.a.Item,{wrapperCol:{offset:18}},r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),xt=v.a.create()(yt),St=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):b.a.error("\u7f51\u7edc\u95ee\u9898:"+r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addData=function(){a.setState({isAddDataShow:!0})},a.edit=function(){var e=Object(k.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.delete=function(){var e=Object(k.a)(_.a.mark(function e(t){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t.id);case 2:0===(n=e.sent).status?(b.a.success(n.msg),a.refreshPage(1,20)):b.a.error("\u7f51\u7edc\u95ee\u9898:"+n.msg);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refreshPage=function(){a.setState({data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1}),a.getUsers(1,20)},a.initColumns=function(){return[{title:"ID",dataIndex:"id",width:50},{title:"\u5361\u4f7f\u7528\u7c7b\u578b",dataIndex:"type",width:100,render:function(e,t,a){return r.a.createElement("span",null,"1"===e?"\u6536\u6b3e\u5361":"\u51fa\u6b3e\u5361")}},{title:"\u94f6\u884c\u5361\u53f7",dataIndex:"card_num",width:200},{title:"\u5f00\u6237\u4eba\u59d3\u540d",dataIndex:"card_name",width:100,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bank_name",width:100},{title:"\u72b6\u6001",dataIndex:"status",width:100,render:function(e,t,a){return r.a.createElement("span",null,"1"===e?"\u7a7a\u95f2":"2"===e?"\u4f7f\u7528\u4e2d":"\u505c\u7528")}},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updated_at",width:200,render:et},{title:"\u64cd\u4f5c",dataIndex:"",width:150,render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),r.a.createElement(Je.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417",onConfirm:function(){return a.delete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},r.a.createElement(Ne,null,"\u5220\u9664")))}}]},a.state={data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("span",null,r.a.createElement("button",{onClick:this.addData},r.a.createElement(g.a,{type:"user-add"}),"\u6dfb\u52a0")),extra:r.a.createElement("button",{onClick:this.refreshPage},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(Fe.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1e3,y:"60vh"}}),r.a.createElement(E.a,{title:"\u6dfb\u52a0\u89d2\u8272",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},r.a.createElement(xt,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:this.refreshPage})),this.state.isEditDataShow&&r.a.createElement(E.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},r.a.createElement(xt,{isEdit:!0,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(n.Component),Ot=We.a.RangePicker,It=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:parseInt(r.count)}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(1,20,a.state);case 2:t=e.sent,a.setState({data:t.data,count:parseInt(t.count)});case 4:case"end":return e.stop()}},e)})),a.download=function(){ue(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:300},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:100},{title:"\u4ee3\u5145ID",dataIndex:"replace_id",width:100},{title:"\u4ee3\u5145\u6635\u79f0",dataIndex:"replace_name",width:100},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",width:130,render:function(e,t,a){var n;switch(e){case"1":n="\u672a\u652f\u4ed8";break;case"2":n="\u5df2\u8fc7\u671f";break;case"3":n="\u5df2\u5206\u914d";break;case"4":n="\u5df2\u64a4\u9500";break;case"5":n="\u5df2\u652f\u4ed8";break;case"6":n="\u5df2\u5b8c\u6210";break;case"7":n="\u8865\u5355\u521d\u5ba1\u901a\u8fc7";break;case"8":n="\u521d\u5ba1\u62d2\u7edd";break;case"9":n="\u8865\u5355\u590d\u5ba1\u901a\u8fc7";break;case"10":n="\u590d\u5ba1\u62d2\u7edd";break;case"11":n="\u5145\u503c\u5931\u8d25";break;case"12":n="\u5ba2\u670d\u62d2\u7edd";break;default:n=""}return r.a.createElement("span",null,n)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:200,render:et,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",width:200,render:function(e,t,a){return"0"!==e&&e?et(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}}]},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({start_time:n,end_time:r})},a.handleChange=a.handleChange.bind(Object(Ve.a)(a)),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",order_status:"",type:"14",paramKey:"",inputParam:"",user_id:"",order_id:""},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be.b,{locale:$e.a},r.a.createElement(Ot,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",r.a.createElement(Qe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:120},onSelect:function(t){return e.setState({paramKey:t})}},r.a.createElement(Qe.a.Option,{value:"order_id"},"\u8ba2\u5355id"),r.a.createElement(Qe.a.Option,{value:"user_id"},"user_id")),"\xa0 \xa0",r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},value:this.state.inputParam,onChange:this.handleChange}),"\xa0 \xa0",r.a.createElement(Qe.a,{defaultValue:"",style:{width:100},onSelect:function(t){return e.setState({order_status:t})}},r.a.createElement(Qe.a.Option,{value:""},"\u72b6\u6001"),r.a.createElement(Qe.a.Option,{value:"0"},"\u672a\u6210\u529f"),r.a.createElement(Qe.a.Option,{value:"1"},"\u5df2\u5206\u914d"),r.a.createElement(Qe.a.Option,{value:"4"},"\u5df2\u64a4\u9500"),r.a.createElement(Qe.a.Option,{value:"6"},"\u5df2\u5b8c\u6210"),r.a.createElement(Qe.a.Option,{value:"7"},"\u521d\u5ba1\u901a\u8fc7"),r.a.createElement(Qe.a.Option,{value:"8"},"\u521d\u5ba1\u62d2\u7edd"),r.a.createElement(Qe.a.Option,{value:"9"},"\u590d\u5ba1\u901a\u8fc7"),r.a.createElement(Qe.a.Option,{value:"10"},"\u590d\u5ba1\u62d2\u7edd")),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"})),"\xa0 \xa0")),extra:r.a.createElement("span",null,r.a.createElement(h.a,{style:{float:"right"},onClick:function(){return e.getUsers(1,20)},icon:"reload"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{onClick:this.download,icon:"download"},"\u4e0b\u8f7d\u5217\u8868"))},r.a.createElement(Fe.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:1900,y:"60vh"}}))}}]),t}(n.Component),Ct=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:parseInt(r.count)}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"ID",dataIndex:"id"},{title:"\u6e20\u9053\u540d",dataIndex:"name"},{title:"\u5546\u6237\u53f7",dataIndex:"member_id"}]},a.expandedRowRender=function(e,t,n,i){var c=[{title:"\u652f\u4ed8\u65b9\u5f0f\u540d\u79f0",dataIndex:"pay_name",width:200},{title:"\u6240\u5c5e\u652f\u4ed8\u6e20\u9053",dataIndex:"channel_name",width:200},{title:"pay_code",dataIndex:"pay_code",width:200},{title:"\u64cd\u4f5c",dataIndex:"action",render:function(e,t,n){return r.a.createElement(h.a,{onClick:function(){return a.edit(t)}},"\u4fee\u6539pay_code")}}];return r.a.createElement(Fe.a,{columns:c,dataSource:a.state.childData,pagination:!1})},a.onExpandRow=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],!t){e.next=10;break}return r.push(n.id),a.setState({expandedRowKeys:r}),e.next=6,we(n.id);case 6:0===(i=e.sent).status?(i.data.forEach(function(e,t){e.key=t}),a.setState({childData:i.data})):(b.a.error("\u7f51\u7edc\u95ee\u9898"),a.setState({childData:[]})),e.next=11;break;case 10:a.setState({expandedRowKeys:[]});case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.edit=function(e){console.log(e.pay_code),a.setState({recordId:e.id,inputParam:e.pay_code,isEditDataShow:!0})},a.handleEditData=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(a.state.recordId,a.state.inputParam);case 2:0===(t=e.sent).status?(b.a.success(t.msg),a.setState({isEditDataShow:!1,expandedRowKeys:[]})):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)})),a.state={data:[],childData:[],expandedRowKeys:[],count:0,pageSize:20,inputParam:"",isEditDataShow:!1,recordId:""},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{extra:r.a.createElement("span",null,r.a.createElement(h.a,{style:{float:"right"},onClick:function(){return e.getUsers(1,20)},icon:"reload"}))},r.a.createElement(Fe.a,{bordered:!0,size:"middle",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),expandedRowRender:this.expandedRowRender,expandRowByClick:!0,onExpand:this.onExpandRow,expandedRowKeys:this.state.expandedRowKeys,pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}}}),r.a.createElement(E.a,{title:"\u4fee\u6539",visible:this.state.isEditDataShow,onOk:this.handleEditData,onCancel:function(){e.setState({isEditDataShow:!1})}},r.a.createElement("span",null,"pay_code:"),r.a.createElement(f.a,{type:"text",value:this.state.inputParam,onChange:function(t){return e.setState({inputParam:t.target.value})}})))}}]),t}(n.Component),Dt=(a(150),a(120)),jt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getPackageList=Object(k.a)(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:0===(t=e.sent).status&&(n=[],t.data.forEach(function(e){n.push({label:e.name,value:e.id})}),a.setState({options:n}));case 4:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.editDataRecord?a.props.editDataRecord._id.$oid:"",t){e.next=19;break}if(n.packageList.forEach(function(e){n["group["+e+"]"]=e}),n.start_time=n.start_time.format("YYYY-MM-DD 00:00:00"),n.end_time=n.end_time.format("YYYY-MM-DD 00:00:00"),delete n.packageList,a.props.isEdit){e.next=12;break}return e.next=9,ae(n);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,ne(n,r);case 14:e.t0=e.sent;case 15:0===(i=e.t0).status?(b.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):b.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg),e.next=20;break;case 19:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 20:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.checkboxOnChange=function(e){a.setState({checkedList:e})},a.state={options:[],checkedList:a.props.isEdit?a.props.editDataRecord.package_ids:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPackageList()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.editDataRecord,i=a.isEdit;return r.a.createElement(v.a,{labelCol:{span:5},onSubmit:this.handleSubmit},r.a.createElement(v.a.Item,{label:"\u5f00\u5173"},t("is_open",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:i?parseInt(n.is_open):1})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u5f00\u542f"),r.a.createElement(ot.a,{value:0},"\u5173\u95ed")))),r.a.createElement(v.a.Item,{label:"\u6807\u9898"},t("title",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:i?n.title:""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u54c1\u724c"},t("packageList",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u54c1\u724c!"}],initialValue:i&&n.package_ids})(r.a.createElement(lt.a.Group,{options:this.state.options,onChange:function(t){return e.checkboxOnChange(t)}}))),r.a.createElement(v.a.Item,{label:"\u516c\u544a\u7c7b\u578b"},t("type",{rules:[{required:!0}],initialValue:i?parseInt(n.type):1})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u6d3b\u52a8"),r.a.createElement(ot.a,{value:2},"\u516c\u544a")))),r.a.createElement(v.a.Item,{label:"\u662f\u5426\u8dd1\u9a6c\u706f"},t("is_slider",{rules:[{required:!0}],initialValue:i?parseInt(n.type):1})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u662f"),r.a.createElement(ot.a,{value:0},"\u5426")))),r.a.createElement(v.a.Item,{label:"\u6392\u5e8f"},t("sort",{rules:[{required:!0}],initialValue:i&&n.sort})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u5185\u5bb9"},t("words",{rules:[{required:!0}],initialValue:i?n.words:""})(r.a.createElement(f.a.TextArea,{autosize:{minRows:2,maxRows:6},style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u5f00\u59cb\u65e5\u671f"},t("start_time",{rules:[{required:!0}],initialValue:i&&Xe()(1e3*n.start_time)})(r.a.createElement(We.a,{format:"YYYY-MM-DD 00:00:00"}))),r.a.createElement(v.a.Item,{label:"\u622a\u6b62\u65e5\u671f"},t("end_time",{rules:[{required:!0}],initialValue:i&&Xe()(1e3*n.end_time)})(r.a.createElement(We.a,{format:"YYYY-MM-DD 00:00:00"}))),r.a.createElement(v.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),Pt=v.a.create()(jt),Rt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addData=function(){a.setState({isAddDataShow:!0})},a.edit=function(){var e=Object(k.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onDelete=function(){var e=Object(k.a)(_.a.mark(function e(t){var n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t._id.$oid);case 2:0===(n=e.sent).status?(b.a.success("\u5220\u9664\u6210\u529f"),a.refreshPage()):b.a.error("\u51fa\u9519\u4e86\uff1a"+n.msg);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refreshPage=function(){a.setState({data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1}),a.getUsers(1,20)},a.initColumns=function(){return[{title:"\u6807\u9898",dataIndex:"title",width:300},{title:"\u54c1\u724c",dataIndex:"package_ids",width:120,render:function(e,t){return r.a.createElement("span",null,e.join(","))}},{title:"\u4ee3\u7406",dataIndex:"proxy_user_id",width:100},{title:"\u516c\u544a\u7c7b\u578b",dataIndex:"type",width:120,render:function(e,t){return r.a.createElement("span",null,"1"===e||1===e?"\u6d3b\u52a8":"\u516c\u544a")}},{title:"\u662f\u5426\u8dd1\u9a6c\u706f",dataIndex:"is_slider",width:120,render:function(e,t){return r.a.createElement("span",null,"1"===e?"\u662f":"\u5426")}},{title:"\u516c\u544a\u5185\u5bb9",dataIndex:"words",width:300,render:function(e,t){return r.a.createElement(Dt.a,{content:e,trigger:"click",overlayStyle:{width:"60%"}},r.a.createElement("div",{style:{width:250,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},e))},onCell:function(e,t){return{onClick:function(e){},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"start_time",width:150,render:et},{title:"\u622a\u6b62\u65f6\u95f4",dataIndex:"end_time",width:150,render:et},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",width:150,render:et},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),r.a.createElement(Ne,null,r.a.createElement(Je.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return a.onDelete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},"\u5220\u9664")))}}]},a.state={data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("span",null,r.a.createElement("button",{onClick:this.addData},"\u6dfb\u52a0")),extra:r.a.createElement("button",{onClick:this.refreshPage},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(Fe.a,{bordered:!0,rowKey:function(e){return e._id.$oid},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1700,y:"60vh"}}),r.a.createElement(E.a,{title:"\u65b0\u589e\u516c\u544a",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},r.a.createElement(Pt,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:this.refreshPage})),this.state.isEditDataShow&&r.a.createElement(E.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},r.a.createElement(Pt,{isEdit:!0,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(n.Component),zt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getPackageList=Object(k.a)(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:0===(t=e.sent).status&&(n=[],t.data.forEach(function(e){n.push({label:e.name,value:e.id})}),a.setState({options:n}));case 4:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.editDataRecord?a.props.editDataRecord.user_id:"",t){e.next=17;break}if(n.package_ids.forEach(function(e){n["group["+e+"]"]=e}),delete n.package_ids,a.props.isEdit){e.next=10;break}return e.next=7,ce(n,"add");case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,ce(n,"edit",r);case 12:e.t0=e.sent;case 13:0===(i=e.t0).status?(b.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):b.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg),e.next=18;break;case 17:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 18:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.checkboxOnChange=function(e){a.setState({checkedList:e})},a.state={options:[],checkedList:a.props.isEdit?a.props.editDataRecord.package_ids.split(",").map(Number):[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPackageList()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.editDataRecord,i=a.isEdit;return r.a.createElement(v.a,{labelCol:{span:5},onSubmit:this.handleSubmit},r.a.createElement(v.a.Item,{label:"\u8d26\u53f7"},t("user_id",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:i?parseInt(n.user_id):""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u6635\u79f0"},t("nick_name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:i?n.nick_name:""})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,{label:"\u6388\u6743\u54c1\u724c"},t("package_ids",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u54c1\u724c!"}],initialValue:i&&n.package_ids.split(",").map(Number)})(r.a.createElement(lt.a.Group,{options:this.state.options,onChange:function(t){return e.checkboxOnChange(t)}}))),r.a.createElement(v.a.Item,{label:"\u662f\u5426\u663e\u793a"},t("status",{rules:[{required:!0}],initialValue:i?parseInt(n.status):1})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u662f"),r.a.createElement(ot.a,{value:0},"\u5426")))),r.a.createElement(v.a.Item,{label:"\u663e\u793a\u6392\u5e8f"},t("sort",{rules:[{required:!0}],initialValue:i&&n.sort})(r.a.createElement(f.a,{style:{width:"60%"}}))),r.a.createElement(v.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),Tt=v.a.create()(zt),Ut=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(1,20,a.input.input.value);case 2:0===(t=e.sent).status&&a.setState({data:t.data,count:parseInt(t.count)});case 4:case"end":return e.stop()}},e)})),a.addData=function(){a.setState({isAddDataShow:!0})},a.edit=function(){var e=Object(k.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onDelete=function(){var e=Object(k.a)(_.a.mark(function e(t){var n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,e.next=3,ce({user_id:n},"del");case 3:0===(r=e.sent).status?(b.a.success("\u5220\u9664\u6210\u529f"),a.refreshPage()):b.a.error("\u51fa\u9519\u4e86\uff1a"+r.msg);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refreshPage=function(){a.setState({data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1}),a.getUsers(1,20),a.input.handleReset()},a.initColumns=function(){return[{title:"\u8d26\u53f7",dataIndex:"user_id",width:150},{title:"\u6635\u79f0",dataIndex:"nick_name",width:150},{title:"\u54c1\u724cID",dataIndex:"package_ids",width:100},{title:"\u662f\u5426\u663e\u793a",dataIndex:"status",width:100,render:function(e,t){return 1===e?"\u662f":"\u5426"}},{title:"\u6392\u5e8f",dataIndex:"sort",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",width:200,render:et},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"update_time",width:200,render:et},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),r.a.createElement(Ne,null,r.a.createElement(Je.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return a.onDelete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},"\u5220\u9664")))}}]},a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("span",null,r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u652f\u4ed8\u540d\u79f0",style:{width:150},ref:function(t){return e.input=t}}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"})),"\xa0 \xa0",r.a.createElement("button",{onClick:this.addData},r.a.createElement(g.a,{type:"user-add"}),"\u6dfb\u52a0")),extra:r.a.createElement("button",{onClick:this.refreshPage},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(Fe.a,{bordered:!0,rowKey:"user_id",dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1200,y:"60vh"}}),r.a.createElement(E.a,{title:"\u65b0\u589e",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},r.a.createElement(Tt,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:this.refreshPage})),this.state.isEditDataShow&&r.a.createElement(E.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},r.a.createElement(Tt,{isEdit:!0,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(n.Component),Vt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){return"check"===a.props.action?[{title:"\u5ba1\u6838\u4eba",dataIndex:"review_name"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"review_at",render:et}]:"risk"===a.props.action?[{title:"user_id",dataIndex:"id"},{title:"\u4ea7\u751f\u6765\u6e90",dataIndex:"pay_account_name"},{title:"\u4f59\u989d(\u53d8\u52a8\u524d)",dataIndex:"total_balance"},{title:"\u53d8\u52a8\u91d1\u989d",dataIndex:"final_pay",sorter:function(e,t){return e.total_balance-t.total_balance}},{title:"\u7a0e\u6536",dataIndex:"tax"},{title:"\u4f59\u989d(\u53d8\u52a8\u540e)",dataIndex:"total_final_balance"},{title:"\u5907\u6ce8",dataIndex:"pay_reason"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"}]:[{title:"\u5907\u6ce8\u4eba",dataIndex:"remark_name"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u5907\u6ce8\u65f6\u95f4",dataIndex:"created_at",render:et}]},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.detailRecord.data;return console.log(e),r.a.createElement(Fe.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:e,columns:this.initColumns(),size:"small"})}}]),t}(n.Component),Mt=We.a.RangePicker,Nt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t,n,3);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:parseInt(r.count)}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(1,20,3,a.state);case 2:0===(t=e.sent).status?a.setState({data:t.data,count:parseInt(t.count)}):(a.setState({data:t.data,count:parseInt(t.count)}),b.a.error("\u8bf7\u68c0\u67e5\u8f93\u5165\u7684\u5173\u952e\u8bcd\u6216\u7f51\u7edc"));case 4:case"end":return e.stop()}},e)})),a.download=function(){xe(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:300},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:100},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u7533\u8bf7\u8d39\u7387",dataIndex:"handling_fee",width:100},{title:"\u5b9e\u9645\u8d39\u7387",dataIndex:"gold",width:100},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u5151\u6362\u65b9\u5f0f",dataIndex:"order_type",width:100},{title:"\u5151\u6362\u8d26\u53f7",dataIndex:"pay_account",width:200},{title:"\u8d26\u53f7\u540d\u79f0",dataIndex:"pay_name",width:100},{title:"\u72b6\u6001",dataIndex:"status",width:100,render:function(e,t,a){var n;switch(e){case"1":n="\u5f85\u5ba1\u6838";break;case"2":n="\u5904\u7406\u4e2d";break;case"3":n="\u5df2\u63d0\u4ea4";break;case"4":n="\u5df2\u6210\u529f";break;case"5":n="\u5df2\u5931\u8d25";break;default:n=""}return r.a.createElement("span",null,n)}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:150,render:et,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",width:150,render:function(e,t,a){return"0"!==e&&e?et(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}},{title:"\u98ce\u63a7",dataIndex:"",width:150,render:function(e){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.getDetail(e,"risk")}},"\u98ce\u63a7"),r.a.createElement(Ne,null,"\u6e38\u620f\u6570\u636e"))}},{title:"\u5ba1\u6838\u8be6\u60c5",dataIndex:"",width:100,render:function(e){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.getDetail(e,"check")}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8\u5185\u5bb9",dataIndex:"",render:function(e){return r.a.createElement("span",null,r.a.createElement(Dt.a,{content:e.user_remark,title:e.user_id+"\u7528\u6237\u5907\u6ce8",trigger:"click"},r.a.createElement(Ne,null,"\u7528\u6237\u5907\u6ce8")),r.a.createElement(Ne,{onClick:function(){return a.getDetail(e,"operatorRemark")}},"\u8fd0\u8425\u5907\u6ce8"))}}]},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({start_time:n,end_time:r})},a.getDetail=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.action=n,a.detailRecord={data:[],count:0,id:t.user_id},"risk"!==n){e.next=8;break}return e.next=5,q(1,20,t.user_id);case 5:e.t0=e.sent,e.next=18;break;case 8:if("check"!==n){e.next=14;break}return e.next=11,ve(1,20,t.order_id);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,ye(1,20,t.order_id);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:0===(r=e.t0).status&&(a.detailRecord.data=r.data,a.detailRecord.count=r.count),a.setState({isDetailShow:!0});case 21:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChange=a.handleChange.bind(Object(Ve.a)(a)),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",order_status:"",type:"",filed:"",inputParam:"",user_id:"",order_id:"",isBindInfoShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("div",null,r.a.createElement(Be.b,{locale:$e.a},r.a.createElement(Mt,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",r.a.createElement(Qe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:150},onSelect:function(t){return e.setState({filed:t})}},r.a.createElement(Qe.a.Option,{value:"order_id"},"\u8ba2\u5355id"),r.a.createElement(Qe.a.Option,{value:"user_id"},"user_id"),r.a.createElement(Qe.a.Option,{value:"create_time"},"\u521b\u5efa\u65f6\u95f4"),r.a.createElement(Qe.a.Option,{value:"arrival_time"},"\u5230\u8d26\u65f6\u95f4")),"\xa0 \xa0",r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},value:this.state.inputParam,onChange:this.handleChange}),"\xa0 \xa0",r.a.createElement(Qe.a,{defaultValue:"",style:{width:150},onSelect:function(t){return e.setState({order_status:t})}},r.a.createElement(Qe.a.Option,{value:""},"\u8ba2\u5355\u72b6\u6001"),r.a.createElement(Qe.a.Option,{value:"1"},"\u5f85\u5ba1\u6838"),r.a.createElement(Qe.a.Option,{value:"2"},"\u5904\u7406\u4e2d"),r.a.createElement(Qe.a.Option,{value:"3"},"\u5df2\u63d0\u4ea4"),r.a.createElement(Qe.a.Option,{value:"4"},"\u5df2\u6210\u529f"),r.a.createElement(Qe.a.Option,{value:"5"},"\u5df2\u5931\u8d25")),"\xa0 \xa0",r.a.createElement(Qe.a,{defaultValue:"",style:{width:150},onSelect:function(t){return e.setState({type:t})}},r.a.createElement(Qe.a.Option,{value:""},"\u5151\u6362\u65b9\u5f0f"),r.a.createElement(Qe.a.Option,{value:"1"},"alipay"),r.a.createElement(Qe.a.Option,{value:"2"},"bank")),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"}))),extra:r.a.createElement("span",null,r.a.createElement(h.a,{style:{float:"right"},onClick:function(){e.setState({data:[],count:0,pageSize:20},function(){e.getUsers(1,20)})},icon:"reload"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{onClick:this.download,icon:"download"},"\u4e0b\u8f7d\u5217\u8868"))},r.a.createElement(Fe.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:2400,y:"60vh"}}),r.a.createElement(E.a,{title:"check"===this.action?"\u5ba1\u6838\u4fe1\u606f":"risk"===this.action?"\u8d44\u91d1\u660e\u7ec6":"\u8fd0\u8425\u5907\u6ce8",visible:this.state.isDetailShow,onCancel:function(){e.setState({isDetailShow:!1})},footer:null,width:"70%"},r.a.createElement(Vt,{detailRecord:this.detailRecord,action:this.action})))}}]),t}(n.Component),Lt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){return"check"===a.props.action?[{title:"\u5ba1\u6838\u4eba",dataIndex:"review_name"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"review_at",render:et}]:"risk"===a.props.action?[{title:"user_id",dataIndex:"id"},{title:"\u4ea7\u751f\u6765\u6e90",dataIndex:"pay_account_name"},{title:"\u4f59\u989d(\u53d8\u52a8\u524d)",dataIndex:"total_balance"},{title:"\u53d8\u52a8\u91d1\u989d",dataIndex:"final_pay",sorter:function(e,t){return e.total_balance-t.total_balance}},{title:"\u7a0e\u6536",dataIndex:"tax"},{title:"\u4f59\u989d(\u53d8\u52a8\u540e)",dataIndex:"total_final_balance"},{title:"\u5907\u6ce8",dataIndex:"pay_reason"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"}]:[{title:"\u5907\u6ce8\u4eba",dataIndex:"remark_name"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u5907\u6ce8\u65f6\u95f4",dataIndex:"created_at",render:et}]},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.detailRecord.data;return console.log(e),r.a.createElement(Fe.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:e,columns:this.initColumns(),size:"small"})}}]),t}(n.Component),Kt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).submitRemark=function(){var e=Object(k.a)(_.a.mark(function e(t,a,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t,a,n);case 2:0===(r=e.sent).status?b.a.success("\u64cd\u4f5c\u6210\u529f:"+r.msg):b.a.error("\u64cd\u4f5c\u5931\u8d25:"+r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.editDataRecord;return r.a.createElement("div",null,r.a.createElement("div",null,"\u8ba2\u5355ID:",t.order_id),r.a.createElement("div",null,"\u7528\u6237ID:",t.user_id),r.a.createElement("div",null,"\u91d1\u989d:",t.amount),r.a.createElement("div",null,r.a.createElement("span",null,"\u5907\u6ce8[\u7528\u6237]:"),r.a.createElement(f.a,{type:"text",style:{width:"70%",margin:"0 10px"},placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u5185\u5bb9\uff0c\u7528\u6237\u67e5\u770b\u4f7f\u7528",onBlur:function(t){return e.userRemark=t.target.value}}),r.a.createElement(h.a,{type:"primary",className:"login-form-button",onClick:function(){return e.submitRemark(t.order_id,e.userRemark,1)}},"\u63d0\u4ea4")),r.a.createElement("div",null,r.a.createElement("span",null,"\u5907\u6ce8[\u8fd0\u8425]:"),r.a.createElement(f.a,{type:"text",style:{width:"70%",margin:"0 10px"},placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u5185\u5bb9\uff0c\u8fd0\u8425\u4eba\u5458\u8bb0\u5f55\u4f7f\u7528",onBlur:function(t){return e.operatorRemark=t.target.value}}),r.a.createElement(h.a,{type:"primary",className:"login-form-button",onClick:function(){return e.submitRemark(t.order_id,e.operatorRemark,2)}},"\u63d0\u4ea4")))}}]),t}(n.Component),qt=We.a.RangePicker,At=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(y.a)({inputParam:""},a.state),e.next=3,ke(t,n,1,r);case 3:0===(i=e.sent).status?a.setState({data:i.data,count:parseInt(i.count)}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(y.a)({inputParam:a.input.input.value},a.state),console.log(t),e.next=4,ke(1,20,1,t);case 4:0===(n=e.sent).status?a.setState({data:n.data,count:parseInt(n.count)}):(a.setState({data:n.data,count:parseInt(n.count)}),b.a.error("\u8bf7\u68c0\u67e5\u8f93\u5165\u7684\u5173\u952e\u8bcd\u6216\u7f51\u7edc"));case 6:case"end":return e.stop()}},e)})),a.download=function(){xe(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:300},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:150},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u5151\u6362\u65b9\u5f0f",dataIndex:"order_type",width:100},{title:"\u5151\u6362\u8d26\u53f7",dataIndex:"pay_account",width:200},{title:"\u8d26\u53f7\u540d\u79f0",dataIndex:"pay_name",width:100},{title:"\u72b6\u6001",dataIndex:"status",width:100,render:function(e,t,a){var n;switch(e){case"1":n="\u5f85\u5ba1\u6838";break;case"2":n="\u5904\u7406\u4e2d";break;case"3":n="\u5df2\u63d0\u4ea4";break;case"4":n="\u5df2\u6210\u529f";break;case"5":n="\u5df2\u5931\u8d25";break;default:n=""}return r.a.createElement("span",null,n)}},{title:"\u64cd\u4f5c",dataIndex:"",width:150,render:function(e){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.edit(e)}},"\u7f16\u8f91"))}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id",width:100},{title:"\u4ee3\u63d0ID",dataIndex:"replace_id",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:150,render:et,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",width:150,render:function(e,t,a){return"0"!==e&&e?et(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}},{title:"\u98ce\u63a7",dataIndex:"",width:150,render:function(e){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.getDetail(e,"risk")}},"\u98ce\u63a7"),r.a.createElement(Ne,null,"\u6e38\u620f\u6570\u636e"))}},{title:"\u5ba1\u6838\u8be6\u60c5",dataIndex:"",width:100,render:function(e){return r.a.createElement("span",null,r.a.createElement(Ne,{onClick:function(){return a.getDetail(e,"check")}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8\u5185\u5bb9",dataIndex:"",render:function(e){return r.a.createElement("span",null,r.a.createElement(Dt.a,{content:e.user_remark,title:e.user_id+"\u7528\u6237\u5907\u6ce8",trigger:"click"},r.a.createElement(Ne,null,"\u7528\u6237\u5907\u6ce8")),r.a.createElement(Ne,{onClick:function(){return a.getDetail(e,"operatorRemark")}},"\u8fd0\u8425\u5907\u6ce8"))}}]},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({start_time:n,end_time:r})},a.getDetail=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.action=n,a.detailRecord={data:[],count:0,id:t.user_id},"risk"!==n){e.next=8;break}return e.next=5,q(1,20,t.user_id);case 5:e.t0=e.sent,e.next=18;break;case 8:if("check"!==n){e.next=14;break}return e.next=11,ve(1,20,t.order_id);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,ye(1,20,t.order_id);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:0===(r=e.t0).status&&(a.detailRecord.data=r.data,a.detailRecord.count=r.count),a.setState({isDetailShow:!0});case 21:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.edit=function(){var e=Object(k.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isEditShow:!0}),a.editDataRecord=t;case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",order_status:"",type:3,filed:"",user_id:"",order_id:"",isBindInfoShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(Ye.a,{title:r.a.createElement("div",null,r.a.createElement(Be.b,{locale:$e.a},r.a.createElement(qt,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",r.a.createElement(Qe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:150},onSelect:function(t){return e.setState({filed:t})}},r.a.createElement(Qe.a.Option,{value:"order_id"},"\u8ba2\u5355id"),r.a.createElement(Qe.a.Option,{value:"user_id"},"user_id"),r.a.createElement(Qe.a.Option,{value:"replace_id"},"\u4ee3\u63d0ID"),r.a.createElement(Qe.a.Option,{value:"create_time"},"\u521b\u5efa\u65f6\u95f4"),r.a.createElement(Qe.a.Option,{value:"arrival_time"},"\u5230\u8d26\u65f6\u95f4")),"\xa0 \xa0",r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},ref:function(t){return e.input=t}}),"\xa0 \xa0",r.a.createElement(Qe.a,{defaultValue:"",style:{width:150},onSelect:function(t){return e.setState({order_status:t})}},r.a.createElement(Qe.a.Option,{value:""},"\u8ba2\u5355\u72b6\u6001"),r.a.createElement(Qe.a.Option,{value:"1"},"\u5f85\u5ba1\u6838"),r.a.createElement(Qe.a.Option,{value:"2"},"\u5904\u7406\u4e2d"),r.a.createElement(Qe.a.Option,{value:"3"},"\u5df2\u63d0\u4ea4"),r.a.createElement(Qe.a.Option,{value:"4"},"\u5df2\u6210\u529f"),r.a.createElement(Qe.a.Option,{value:"5"},"\u5df2\u5931\u8d25")),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"}))),extra:r.a.createElement("span",null,r.a.createElement(h.a,{style:{float:"right"},onClick:function(){e.setState({data:[],count:0,pageSize:20},function(){e.getUsers(1,20)})},icon:"reload"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(h.a,{onClick:this.download,icon:"download"},"\u4e0b\u8f7d\u5217\u8868"))},r.a.createElement(Fe.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:2500,y:"60vh"}}),r.a.createElement(E.a,{title:"check"===this.action?"\u5ba1\u6838\u4fe1\u606f":"risk"===this.action?"\u8d44\u91d1\u660e\u7ec6":"\u8fd0\u8425\u5907\u6ce8",visible:this.state.isDetailShow,onCancel:function(){e.setState({isDetailShow:!1})},footer:null,width:"70%"},r.a.createElement(Lt,{detailRecord:this.detailRecord,action:this.action})),this.state.isEditShow&&r.a.createElement(E.a,{title:"\u7f16\u8f91",visible:this.state.isEditShow,onCancel:function(){e.setState({isEditShow:!1})},footer:null,width:"40%"},r.a.createElement(Kt,{editDataRecord:this.editDataRecord})))}}]),t}(n.Component),Gt=(a(489),a(193)),Yt=(a(491),a(163)),Ft=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe();case 2:0===(r=e.sent).status?(a.initialData=r.data,a.setState({data:JSON.parse(r.data.conf_val)})):b.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(_.a.mark(function e(t,n){var r,i,c,s,l,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(l in r=a.initialData,i=r.id,c=r.name,s={},n.bankcard.channel.forEach(function(e,t){for(var a in e)s["bankcard[channel][".concat(t,"][").concat(a,"]")]=e[a]}),s["bankcard[is_close]"]=n.bankcard.is_close?"on":"off",s["alipay[is_close]"]=n.alipay.is_close?"on":"off",n.artificial)s["artificial[".concat(l,"]")]=n.artificial[l];if(t){e.next=13;break}return e.next=9,Ie(i,c,s);case 9:0===(o=e.sent).status?(b.a.success("\u63d0\u4ea4\u6210\u529f:"+o.msg),console.log(o),a.getUsers()):b.a.error("\u51fa\u9519\u4e86\uff1a"+o.msg),e.next=14;break;case 13:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={data:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.data;return r.a.createElement(Ye.a,{extra:r.a.createElement("span",null,r.a.createElement(h.a,{style:{float:"right"},icon:"reload",onClick:function(){window.location.reload()}}))},r.a.createElement(v.a,{labelCol:{span:4},wrapperCol:{span:20},onSubmit:this.handleSubmit},r.a.createElement(v.a.Item,{label:"\u63d0\u6b3e\u652f\u4ed8\u5b9d"},e("alipay[is_close]",{initialValue:!(!t||1!==t.alipay.is_close),valuePropName:"checked"})(r.a.createElement(Yt.a,{checkedChildren:"ON",unCheckedChildren:"OFF"}))),r.a.createElement(Gt.a,null),r.a.createElement(v.a.Item,{label:"\u63d0\u6b3e\u94f6\u884c\u5361"},e("bankcard[is_close]",{initialValue:!(!t||1!==t.bankcard.is_close),valuePropName:"checked"})(r.a.createElement(Yt.a,{checkedChildren:"ON",unCheckedChildren:"OFF"}))),r.a.createElement(v.a.Item,{label:"\u53e4\u90fd\u94f6\u884c\u5361\u72b6\u6001"},e("bankcard[channel][2][is_close]",{initialValue:t&&parseInt(t.bankcard.channel[0].is_close)})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u542f\u7528"),r.a.createElement(ot.a,{value:0},"\u505c\u7528")))),r.a.createElement(v.a.Item,{label:"\u663e\u793a\u540d\u79f0"},e("bankcard[channel][2][channel_name]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[0].channel_name})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(v.a.Item,{label:"\u63d0\u6b3e\u9650\u989d",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("bankcard[channel][2][min_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[0].min_amount})(r.a.createElement(f.a,{style:{width:"80%",marginRight:5}})),r.a.createElement("span",null,"-")),r.a.createElement(v.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("bankcard[channel][2][max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[0].max_amount})(r.a.createElement(f.a,{style:{width:"80%"}}))),r.a.createElement(v.a.Item,{label:"\u6e20\u9053\u6392\u5e8f"},e("bankcard[channel][2][sort]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[0].sort})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(v.a.Item,{label:"\u7b2c\u4e09\u65b9\u4ee3\u4ed8\u72b6\u6001"},e("bankcard[channel][3][is_close]",{initialValue:t&&parseInt(t.bankcard.channel[1].is_close)})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u542f\u7528"),r.a.createElement(ot.a,{value:0},"\u505c\u7528")))),r.a.createElement(v.a.Item,{label:"\u663e\u793a\u540d\u79f0"},e("bankcard[channel][3][channel_name]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[1].channel_name})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(v.a.Item,{label:"\u63d0\u6b3e\u9650\u989d",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("bankcard[channel][3][min_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[1].min_amount})(r.a.createElement(f.a,{style:{width:"80%",marginRight:5}})),r.a.createElement("span",null,"-")),r.a.createElement(v.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("bankcard[channel][3][max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[1].max_amount})(r.a.createElement(f.a,{style:{width:"80%"}}))),r.a.createElement(v.a.Item,{label:"\u6e20\u9053\u6392\u5e8f"},e("bankcard[channel][3][sort]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[1].sort})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(v.a.Item,{label:"onepay\u72b6\u6001"},e("bankcard[channel][7][is_close]",{initialValue:t&&parseInt(t.bankcard.channel[2].is_close)})(r.a.createElement(ot.a.Group,null,r.a.createElement(ot.a,{value:1},"\u542f\u7528"),r.a.createElement(ot.a,{value:0},"\u505c\u7528")))),r.a.createElement(v.a.Item,{label:"\u663e\u793a\u540d\u79f0"},e("bankcard[channel][7][channel_name]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[2].channel_name})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(v.a.Item,{label:"\u63d0\u6b3e\u9650\u989d",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("bankcard[channel][7][min_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[2].min_amount})(r.a.createElement(f.a,{style:{width:"80%",marginRight:5}})),r.a.createElement("span",null,"-")),r.a.createElement(v.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("bankcard[channel][7][max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[2].max_amount})(r.a.createElement(f.a,{style:{width:"80%"}}))),r.a.createElement(v.a.Item,{label:"\u6e20\u9053\u6392\u5e8f"},e("bankcard[channel][7][sort]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[2].sort})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(Gt.a,null),r.a.createElement(v.a.Item,{label:"\u4eba\u5de5\u5151\u6362"},e("artificial[is_close]",{initialValue:!(!t||1!==t.artificial.is_close),valuePropName:"checked"})(r.a.createElement(Yt.a,{checkedChildren:"ON",unCheckedChildren:"OFF"}))),r.a.createElement(v.a.Item,{label:"\u63d0\u6b3e\u9650\u989d",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("artificial[min_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.artificial.min_amount})(r.a.createElement(f.a,{style:{width:"80%",marginRight:5}})),r.a.createElement("span",null,"-")),r.a.createElement(v.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("artificial[max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.artificial.max_amount})(r.a.createElement(f.a,{style:{width:"80%"}}))),r.a.createElement(v.a.Item,{label:"\u8d39\u7387"},e("artificial[rate]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.artificial.rate})(r.a.createElement(f.a,{style:{width:"30%"}}))),r.a.createElement(v.a.Item,{wrapperCol:{offset:4}},r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4"))))}}]),t}(n.Component),Bt=v.a.create()(Ft),Jt=Object(p.g)(Bt),Qt=(a(223),a(94)),Wt=(a(224),a(57)),Ht=(a(494),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Qt.a,{className:"not-found"},r.a.createElement(Wt.a,{span:12,className:"left"}),r.a.createElement(Wt.a,{span:12,className:"right"},r.a.createElement("h1",null,"404"),r.a.createElement("h2",null,"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"),r.a.createElement("div",null,r.a.createElement(h.a,{type:"primary",onClick:function(){return e.props.history.replace("/home")}},"\u56de\u5230\u9996\u9875"))))}}]),t}(n.Component)),$t=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){if("getDateReport"===a.props.action)return[{title:"\u65e5\u671f",dataIndex:"date"},{title:"\u65b0\u589e\u7528\u6237",dataIndex:"regin_user_number",width:80},{title:"\u6d3b\u8dc3\u7528\u6237",dataIndex:"active_user_number",width:80},{title:"\u5b98\u65b9\u9996\u5145\u7528\u6237",dataIndex:"first_pay_user_number",width:150},{title:"\u5b98\u65b9\u9996\u5145\u91d1\u989d",dataIndex:"first_pay_money_total",width:150},{title:"\u5b98\u65b9\u5145\u503c\u7528\u6237",dataIndex:"pay_user_number",width:150},{title:"\u5b98\u65b9\u5145\u503c\u91d1\u989d",dataIndex:"pay_money_total",width:150},{title:"\u4eba\u5de5\u9996\u5145\u7528\u6237",dataIndex:"first_pay_user_number_res",width:150},{title:"\u4eba\u5de5\u9996\u5145\u91d1\u989d",dataIndex:"first_pay_money_total_res",width:150},{title:"\u4eba\u5de5\u5145\u503c\u7528\u6237",dataIndex:"pay_user_number_res",width:150},{title:"\u4eba\u5de5\u5145\u503c\u91d1\u989d",dataIndex:"pay_money_total_res",width:150},{title:"\u5b98\u65b9\u5151\u6362\u7528\u6237",dataIndex:"exchange_user_number",width:150},{title:"\u5b98\u65b9\u5151\u6362\u91d1\u989d",dataIndex:"exchange_money_total",width:150},{title:"\u4eba\u5de5\u5151\u6362\u7528\u6237",dataIndex:"exchange_user_number_res",width:150},{title:"\u4eba\u5de5\u5151\u6362\u91d1\u989d",dataIndex:"exchange_money_total_res",width:150},{title:"\u73a9\u5bb6\u603b\u8d62\u989d",dataIndex:"win_statement_total",width:150},{title:"\u73a9\u5bb6\u603b\u8f93\u989d",dataIndex:"lose_statement_total",width:150},{title:"\u73a9\u5bb6\u603b\u6d41\u6c34",dataIndex:"statement_total",width:150},{title:"\u76c8\u4e8f\u6bd4",dataIndex:"statement_ratio",width:150},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(h.a,{size:"small",onClick:function(){return a.getGameReport(t)}},"\u6e38\u620f"))}}]},a.footerData=function(e){return console.log(e),r.a.createElement("tr",null,r.a.createElement("td",null,"\u5408\u8ba1"),r.a.createElement("td",{style:{width:80}},"regin_user_number"),r.a.createElement("td",null,"regin_user_number"),r.a.createElement("td",null,"regin_user_number"),r.a.createElement("td",null,"regin_user_number"),r.a.createElement("td",null,"regin_user_number"))},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.reportData.data;return r.a.createElement(Fe.a,{border:!0,showSummary:!0,rowKey:function(e,t){return"".concat(t)},dataSource:e,columns:this.initColumns(),size:"small",scroll:{x:3e3},footer:this.footerData})}}]),t}(n.Component),Zt=We.a.RangePicker,Xt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).getInitialData=Object(k.a)(_.a.mark(function e(){var t;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:0===(t=e.sent).status?a.setState({packageList:t.data}):b.a.error("\u7f51\u7edc\u95ee\u9898:"+t.msg);case 4:case"end":return e.stop()}},e)})),a.initColumns=function(){return[{title:"\u54c1\u724c",dataIndex:"package_nick",width:120},{title:"\u65b0\u589e\u7528\u6237",dataIndex:"regin_user_number",width:80},{title:"\u6d3b\u8dc3\u7528\u6237",dataIndex:"active_user_number",width:80},{title:"\u5b98\u65b9\u9996\u5145\u7528\u6237",dataIndex:"first_pay_user_number",width:150},{title:"\u5b98\u65b9\u9996\u5145\u91d1\u989d",dataIndex:"first_pay_money_total",width:150},{title:"\u5b98\u65b9\u5145\u503c\u7528\u6237",dataIndex:"pay_user_number",width:150},{title:"\u5b98\u65b9\u5145\u503c\u91d1\u989d",dataIndex:"pay_money_total",width:150},{title:"\u4eba\u5de5\u9996\u5145\u7528\u6237",dataIndex:"first_pay_user_number_res",width:150},{title:"\u4eba\u5de5\u9996\u5145\u91d1\u989d",dataIndex:"first_pay_money_total_res",width:150},{title:"\u4eba\u5de5\u5145\u503c\u7528\u6237",dataIndex:"pay_user_number_res",width:150},{title:"\u4eba\u5de5\u5145\u503c\u91d1\u989d",dataIndex:"pay_money_total_res",width:150},{title:"\u5b98\u65b9\u5151\u6362\u7528\u6237",dataIndex:"exchange_user_number",width:150},{title:"\u5b98\u65b9\u5151\u6362\u91d1\u989d",dataIndex:"exchange_money_total",width:150},{title:"\u4eba\u5de5\u5151\u6362\u7528\u6237",dataIndex:"exchange_user_number_res",width:150},{title:"\u4eba\u5de5\u5151\u6362\u91d1\u989d",dataIndex:"exchange_money_total_res",width:150},{title:"\u73a9\u5bb6\u603b\u8d62\u989d",dataIndex:"win_statement_total",width:150},{title:"\u73a9\u5bb6\u603b\u8f93\u989d",dataIndex:"lose_statement_total",width:150},{title:"\u73a9\u5bb6\u603b\u6d41\u6c34",dataIndex:"statement_total",width:150},{title:"\u76c8\u4e8f\u6bd4",dataIndex:"statement_ratio",width:150},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(Ne,null,"\u65e5\u671f"),r.a.createElement(Ne,{onClick:function(){return a.getGameReport(t)}},"\u6e38\u620f"))}}]},a.dataPickerOnChange=function(e,t){a.startTime=t[0]+" 00:00:00",a.endTime=t[1]+" 00:00:00"},a.onSearchData=Object(k.a)(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(1,20,a.package_id,a.startTime,a.endTime);case 2:t=e.sent,n=a.parseData(t),console.log("newRes",n),a.setState({data:n.data,count:n.count});case 6:case"end":return e.stop()}},e)})),a.parseData=function(e){console.log("res:",e);var t=0,a=[];return 0===e.status&&e.data&&(e.data.user&&e.data.user.filter(function(e){return e&&e._id}).map(function(e){return e.package_id=parseInt(e._id.package_id),delete e._id}),e.data.order&&(e.data.order.filter(function(e){return e&&e._id}).map(function(e){return e.first_pay_user_number=e.first_pay_user.length,e.pay_user_number=e.pay_user.length,e.first_pay_user_number_res=e.first_pay_user_res.length,e.pay_user_number_res=e.pay_user_res.length,e.exchange_user_number=e.exchange_user.length,e.exchange_user_number_res=e.exchange_user_res.length,e.package_id=parseInt(e._id.package_id),delete e._id}),e.data.user.map(function(t){return Object.assign(t,e.data.order.find(function(e){return e.package_id===t.package_id}))})),e.data.game&&(e.data.game.filter(function(e){return e&&e._id}).map(function(e){return e.statement_ratio=((Math.abs(e.lose_statement_total)-e.win_statement_total)/(e.win_statement_total+Math.abs(e.lose_statement_total))).toFixed(4),e.win_statement_total=Math.round(1e4*e.win_statement_total)/1e4,e.lose_statement_total=Math.round(1e4*e.lose_statement_total)/1e4,e.statement_total=Math.round(1e4*(e.win_statement_total+Math.abs(e.lose_statement_total)))/1e4,e.package_id=parseInt(e._id.package_id),delete e._id}),e.data.user.map(function(t){return Object.assign(t,e.data.game.find(function(e){return e.package_id===t.package_id}))})),t=e.data.user.length,a=e.data.user,console.log("res.data.user assign\u540e",e.data.user)),{code:e.code,msg:e.msg,count:t,data:a}},a.parseDateData=function(e){console.log(e);var t=0,a=[];return 0===e.status&&e.data&&(e.data.user&&e.data.user.map(function(e){return e.date=e._id.create_time,delete e._id}),e.data.order&&(e.data.order.filter(function(e){return e&&e._id}).map(function(e){return e.first_pay_user_number=e.first_pay_user.length,e.pay_user_number=e.pay_user.length,e.first_pay_user_number_res=e.first_pay_user_res.length,e.pay_user_number_res=e.pay_user_res.length,e.exchange_user_number=e.exchange_user.length,e.exchange_user_number_res=e.exchange_user_res.length,e.date=e._id.create_time,delete e._id}),e.data.user.map(function(t){return Object.assign(t,e.data.order.find(function(e){return e.date===t.date}))})),e.data.game&&(e.data.game.filter(function(e){return e&&e._id}).map(function(e){return e.statement_ratio=((Math.abs(e.lose_statement_total)-e.win_statement_total)/(e.win_statement_total+Math.abs(e.lose_statement_total))).toFixed(4),e.win_statement_total=Math.round(1e4*e.win_statement_total)/1e4,e.lose_statement_total=Math.round(1e4*e.lose_statement_total)/1e4,e.statement_total=Math.round(1e4*(e.win_statement_total+Math.abs(e.lose_statement_total)))/1e4,e.date=e._id.create_time,delete e._id}),e.data.user.map(function(t){return Object.assign(t,e.data.game.find(function(e){return e.date===t.date}))})),e.data.user.sort(function(e,t){return parseInt(t.date.replace(/-/g,""))-parseInt(e.date.replace(/-/g,""))}),t=e.data.user.length,a=e.data.user,console.log(e.data.user)),{code:e.code,msg:e.msg,count:t,data:a}},a.getDateReport=function(){var e=Object(k.a)(_.a.mark(function e(t){var n,r;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(1,20,t.package_id,a.startTime,a.endTime);case 2:n=e.sent,r=a.parseDateData(n),a.reportData=r,console.log("reportData",r),a.action="getDateReport",a.setState({reportTable:!0});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getGameReport=function(e){},a.state={data:[],packageList:[],count:0,pageSize:20,reportTable:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData()}},{key:"render",value:function(){var e=this,t=this.state.packageList.map(function(e){return r.a.createElement(Qe.a.Option,{value:e.id,key:e.id},e.name)});return r.a.createElement(Ye.a,{title:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(Be.b,{locale:$e.a},r.a.createElement(Zt,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",r.a.createElement(Qe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:120},onSelect:function(t){return e.package_id=t}},t),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"})),"\xa0 \xa0"))},r.a.createElement("div",{style:{marginBottom:20,backgroundColor:"#ddd"}},r.a.createElement("span",{style:{border:"1px solid #ddd"}},r.a.createElement("b",null,"\u9ed8\u8ba4\u6240\u9009\u54c1\u724c7\u5929\u7684\u7edf\u8ba1\u6570\u636e")),"\xa0\xa0\xa0\xa0",r.a.createElement("span",{style:{border:"1px solid #ddd"}},r.a.createElement("b",null,"\u603b\u6d41\u6c34=\u73a9\u5bb6\u8d62\u989d+(abs)\u73a9\u5bb6\u8f93\u989d")),"\xa0\xa0\xa0\xa0",r.a.createElement("span",{style:{border:"1px solid #ddd"}},r.a.createElement("b",null,"\u76c8\u4e8f\u6bd4=(\u73a9\u5bb6\u8f93\u989d(abs) - \u73a9\u5bb6\u8d62\u989d) /(\u73a9\u5bb6\u8f93\u989d(abs) + \u73a9\u5bb6\u8d62\u989d)"))),r.a.createElement(Fe.a,{bordered:!0,rowKey:"package_id",dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:3e3,y:"60vh"}}),r.a.createElement(E.a,{title:"getDateReport"===this.action?"\u6309\u65e5\u671f\u67e5\u770b":"\u6e38\u620f\u6570\u636e",width:"80%",visible:this.state.reportTable,onCancel:function(){e.setState({reportTable:!1})},footer:null},r.a.createElement($t,{reportData:this.reportData,action:this.action})))}}]),t}(n.Component),ea=a(74),ta=a(500),aa=Pe.a.Sider,na=Pe.a.Content,ra=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=j.getUser();return t&&t.id?r.a.createElement(Pe.a,{style:{minHeight:"100%"}},r.a.createElement(aa,null,r.a.createElement(Ue,{onClick:function(t){e.child1.add&&e.child1.add(t)}})),r.a.createElement(Pe.a,null,r.a.createElement(Ae,{onRef:function(t){return e.child1=t}},"Header"),r.a.createElement(na,{style:{margin:5,backgroundColor:"#fff"}},r.a.createElement(ea.c,null,r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(p.d,null,r.a.createElement(p.a,{from:"/",exact:!0,to:"/home"}),r.a.createElement(p.b,{path:"/home",exact:!0,component:Ge},r.a.createElement(ta.a,{name:"Home"},r.a.createElement(Ge,null))),r.a.createElement(p.b,{path:"/user/user-list",exact:!0,component:st},r.a.createElement(ta.a,{name:"User"},r.a.createElement(st,null))),r.a.createElement(p.b,{path:"/customer_service/notice_list",exact:!0,component:Rt},r.a.createElement(ta.a,{name:"Notice_list"},r.a.createElement(Rt,null))),r.a.createElement(p.b,{path:"/customer_service/customer_list",exact:!0,component:Ut},r.a.createElement(ta.a,{name:"Customer_list"},r.a.createElement(Ut,null))),r.a.createElement(p.b,{path:"/admin_manage/list",exact:!0,component:mt},r.a.createElement(ta.a,{name:"Admin_manage_list"},r.a.createElement(mt,null))),r.a.createElement(p.b,{path:"/admin_manage/role",exact:!0,component:Et},r.a.createElement(ta.a,{name:"Role"},r.a.createElement(Et,null))),r.a.createElement(p.b,{path:"/list/daily-report",exact:!0},r.a.createElement(ta.a,{name:"DailyReport"},r.a.createElement(Xt,null))),r.a.createElement(p.b,{path:"/charge/order_list",exact:!0,component:wt},r.a.createElement(ta.a,{name:"Order_list"},r.a.createElement(wt,null))),r.a.createElement(p.b,{path:"/charge/channel-list",exact:!0,component:vt},r.a.createElement(ta.a,{name:"Channel_list"},r.a.createElement(vt,null))),r.a.createElement(p.b,{path:"/charge/bankcard-list",exact:!0,component:St},r.a.createElement(ta.a,{name:"Bankcard_list"},r.a.createElement(St,null))),r.a.createElement(p.b,{path:"/charge/recharge_order",exact:!0,component:It},r.a.createElement(ta.a,{name:"Recharge_order"},r.a.createElement(It,null))),r.a.createElement(p.b,{path:"/charge/recharge_channel",exact:!0,component:Ct},r.a.createElement(ta.a,{name:"Recharge_channel"},r.a.createElement(Ct,null))),r.a.createElement(p.b,{path:"/withdraw/withdraw_list",exact:!0,component:Nt},r.a.createElement(ta.a,{name:"Withdraw_list"},r.a.createElement(Nt,null))),r.a.createElement(p.b,{path:"/withdraw/daiti_list",exact:!0,component:At},r.a.createElement(ta.a,{name:"Daiti_list"},r.a.createElement(At,null))),r.a.createElement(p.b,{path:"/withdraw/channel",exact:!0,component:Jt},r.a.createElement(ta.a,{name:"Channel"},r.a.createElement(Jt,null))),r.a.createElement(p.b,{component:Ht}))))))):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),ia=a(247),ca=a(159),sa={inputValue:""},la=Object(ca.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"change_input":a.inputValue=t.value;break;case"resetPassword":a.inputValue=""}return a}),oa=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(ia.a,{store:la},r.a.createElement(m.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/login",component:je}),r.a.createElement(p.b,{path:"/",component:ra}))))}}]),t}(n.Component),ua=j.getUser();Le.user=ua,c.a.render(r.a.createElement(oa,null),document.getElementById("root"))}},[[250,1,2]]]);
//# sourceMappingURL=main.15d4b77a.chunk.js.map