(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,t,a){e.exports=a(521)},275:function(e,t,a){},419:function(e,t,a){},443:function(e,t,a){},518:function(e,t,a){},521:function(e,t,a){"use strict";a.r(t);a(41);var n=a(24),r=a(0),i=a.n(r),c=a(21),l=a.n(c),s=a(14),o=a(15),u=a(17),d=a(16),m=a(18),p=a(69),h=a(77),f=(a(35),a(20)),E=(a(34),a(10)),w=(a(45),a(9)),g=(a(33),a(8)),b=a(2),v=a.n(b),k=a(6),_=(a(52),a(5)),y=(a(275),a(38)),x=a(78),S=a(133),I=a.n(S);function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(n,r){var i;"GET"===a?i=I.a.get(e,{params:t}):(I.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",I.a.defaults.transformRequest=[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],i=I.a.post(e,t)),i.then(function(e){n(e.data)}).catch(function(e){g.a.error("\u8bf7\u6c42\u51fa\u9519\u4e86: "+e.message)})})}var C="http://operation.0717996.com/admin",D=localStorage.token||"",j=function(){D=localStorage.token},z=function(e,t,a){return O(C+"/login/login",{username:e,password:t,authcode:a},"POST")},R=function(e,t){return O(C+"/login/authCode",{username:e,password:t},"POST")},P=function(){var e=localStorage.token;return O(C+"/acl/navList",{token:e},"POST")},T=function(){return O(C+"/index/getAuthCode",{token:D},"POST")},V=function(e){return O(C+"/acl/editPass",{token:D,password:e},"POST")},F=function(e,t,a,n,r,i){var c;return O(C+"/user/index",(c={page:e,limit:t,start:a,end:n},Object(x.a)(c,r,i),Object(x.a)(c,"token",D),c),"POST")},U=function(e,t){return O(C+"/user/setGameUserNickName",{token:D,id:e,game_nick:t},"POST")},M=function(e,t){var a={},n="params[user_id]";return a[n]=e.id,a[n="params[amount]"]=t.gold,a[n="params[reason]"]=t.desc,a[n="params[user_name]"]=e.game_nick,a[n="params[proxy_user_id]"]=e.proxy_user_id,a[n="params[package_id]"]=e.package_id,O(C+"/user/changeGold",Object(y.a)({token:D,task_type:0},a),"POST")},G=function(e){return O(C+"/user/getGameUser",{page:1,limit:10,token:D,id:e},"POST")},K=function(e,t,a){return O(C+"/user/userDetail",{page:e,limit:t,token:D,id:a},"POST")},q=function(e,t,a){return O(C+"/user/bindInfo",{page:e,limit:t,token:D,user_id:a},"POST")},A=function(e,t){return O(C+"/trade/saveUserBlack",{token:D,type:1,user_id:e,action:t},"POST")},N=function(e,t){return O(C+"/tasks/createTask",{token:D,task_type:2,"params[id]":e,"params[account_pass]":t},"POST")},L=function(e,t){return O(C+"/acl/index",{page:e,limit:t,token:D},"POST")},J=function(e){return O(C+"/acl/index",{page:1,limit:20,token:D,name:e},"POST")},B=function(){return O(C+"/acl/roleList",{token:D},"POST")},Q=function(){return O(C+"/user/packageList",{token:D},"POST")},Y=function(e){var t={};e.packageList.forEach(function(e){t["group["+e+"]"]=e});var a=Object(y.a)({username:e.username,status:e.userStatus,group_id:e.userGroup,source:e.proxy?e.proxy:[]},t,{use_money:e.loadGold,pass:e.password,repass:e.confirmPssword,token:D});return O(C+"/acl/addUser",a,"POST")},H=function(e,t){var a={};e.packageList.forEach(function(e){a["group["+e+"]"]=e});var n=Object(y.a)({id:t,username:e.username,status:e.userStatus,group_id:e.userGroup,source:e.proxy?e.proxy:[]},a,{use_money:e.loadGold,pass:e.password?e.password:[],token:D});return O(C+"/acl/editUser",n,"POST")},W=function(e){return O(C+"/acl/resetAuthCode",{id:e,token:D},"POST")},$=function(){return O(C+"/acl/ruleList",{token:D},"POST")},Z=function(e){return O(C+"/acl/addRule",Object(y.a)({},e,{token:D}),"POST")},X=function(e,t){return console.log(t),O(C+"/acl/editRule",Object(y.a)({},t,{rule_id:e,token:D}),"POST")},ee=function(e){return O(C+"/acl/ruleDel",{id:e,token:D},"POST")},te=function(e,t){return O(C+"/acl/roleList",{page:e,limit:t,token:D},"POST")},ae=function(e,t,a){var n={};t.forEach(function(e){n["rules["+e+"]"]=e});var r=Object(y.a)({name:e},n,{desc:a,token:D});return O(C+"/acl/addRole",r,"POST")},ne=function(e,t,a,n){var r={};t.forEach(function(e){r["rules["+e+"]"]=e});var i=Object(y.a)({role_name:e,role_id:n},r,{desc:a,token:D});return O(C+"/acl/editRole",i,"POST")},re=function(e,t){return O(C+"/notice/getList",{page:e,limit:t,token:D},"POST")},ie=function(e){return O(C+"/notice/addNotice",Object(y.a)({token:D},e),"POST")},ce=function(e,t){return O(C+"/notice/updateNotice",Object(y.a)({token:D,id:t},e),"POST")},le=function(e){return O(C+"/notice/delNotice",{token:D,id:e},"POST")},se=function(e,t,a){return O(C+"/customer/customerList",{page:e,limit:t,token:D,user_id:a||""},"POST")},oe=function(e,t,a){return a&&(e.user_id=a),O(C+"/customer/saveCustomerService",Object(y.a)({token:D},e,{action:t}),"POST")},ue=function(e,t){return O(C+"/report/dailyReport",{page:e,limit:t,token:D},"POST")},de=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return O(C+"/report/dailyReport",{page:e,limit:t,token:D,package_id:a,start:n,end:r},"POST")},me=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return O(C+"/report/dateReport",{page:e,limit:t,token:D,package_id:a,start:n,end:r,group_by:"date"},"POST")},pe=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return O(C+"/report/gameReport",{page:e,limit:t,token:D,package_id:a,start:n,end:r,group_by:"game_id"},"POST")},he=function(e,t,a,n){return O(C+"/report/gameReport",{page:e,limit:t,token:D,package_id:a,date:n,group_by:"game_id"},"POST")},fe=function(e,t,a){return O(C+"/config/list",{page:e,limit:t,token:D,conf_key:a||""},"POST")},Ee=function(e,t){return O(C+"/config/saveConf",Object(y.a)({},e,{action:t,token:D}),"POST")},we=function(e,t,a){return O(C+"/tasks/tasksList",Object(y.a)({page:e,limit:t},a,{token:D}),"POST")},ge=function(e){return O(C+"/tasks/changeUserBalance",Object(y.a)({},e,{token:D}),"POST")},be=function(e,t,a){return O(C+"/trade/allAccountList",Object(y.a)({page:e,limit:t},a,{token:D}),"POST")},ve=function(e){return O(C+"/trade/resetPassword",{user_id:e,token:D},"POST")},ke=function(e){return O(C+"/trade/accountList",{user_id:e,token:D},"POST")},_e=function(e,t,a){return O(C+"/trade/sellGoldApplyList",Object(y.a)({page:e,limit:t},a,{token:D}),"POST")},ye=function(e){return O(C+"/trade/tradeRemark",Object(y.a)({},e,{token:D}),"POST")},xe=function(e,t,a){return O(C+"/order/sellGoldInfoList",{page:e,limit:t,user_id:a,token:D},"POST")},Se=function(e,t,a){return O(C+"/order/reviewInfo",{page:e,limit:t,id:a,type:3,token:D},"POST")},Ie=function(e,t,a){return O(C+"/order/remarkInfo",{page:e,limit:t,id:a,type:6,token:D},"POST")},Oe=function(e,t,a){return O(C+"/trade/sellGoldOrderList",Object(y.a)({page:e,limit:t},a,{token:D}),"POST")},Ce=function(e,t,a){return O(C+"/activity/activityConfigList",Object(y.a)({page:e,limit:t},a,{token:D}),"POST")},De=function(e){return O(C+"/activity/saveActivityConfig",Object(y.a)({},e,{token:D}),"POST")},je=function(e){return O(C+"/activity/delActivityConfig",{id:e,token:D},"POST")},ze=function(e,t,a){return O(C+"/activity/giftVoucherList",Object(y.a)({page:e,limit:t},a,{token:D}),"POST")},Re=function(e,t,a,n,r,i,c,l){return"1"!==c&&"2"!==c||(l=c,c="time_type"),O(C+"/order/recharge",Object(x.a)({start_time:a,end_time:n,order_status:r,type:i,token:D},c,l),"POST")},Pe=function(e,t,a,n){return O(C+"/order/recharge",{page:e,limit:t,order_id:n,user_id:a,token:D},"POST")},Te=function(e,t){return O(C+"/order/orderReview",{user_id:e,order_id:t,status:7,review_type:1,token:D},"POST")},Ve=function(e,t,a){return O(C+"/order/orderReview",{user_id:e,order_id:t,status:8,review_type:2,token:D,type:a},"POST")},Fe=function(e){var t=e.start_time,a=e.end_time,n=e.order_status,r=e.type,i=e.inputParam,c=e.paramKey;c&&""!==c||(c=0);var l=C+"/order/recharge/?export=2&"+("token="+D+"&filed="+c+"&keyword="+i+"&start_time="+t+"&end_time="+a+"&order_status="+n+"&type="+r);if(c)switch(c){case"user_id":l=l+"&user_id="+i;break;case"order_id":l=l+"&order_id="+i;break;case"create_time":l+="&time_type=1";break;case"arrival_time":l+="&time_type=2"}window.open(l)},Ue=function(e,t,a){return O(C+"/order/channelList",{page:e,limit:t,token:D,name:a||""},"POST")},Me=function(e){return O(C+"/order/addChannel",Object(y.a)({},e,{token:D,action:"add"}),"POST")},Ge=function(e,t){return O(C+"/order/editPayChannel",Object(y.a)({},e,{token:D,id:t,action:"edit"}),"POST")},Ke=function(e,t){return O(C+"/order/bankList",{page:e,limit:t,token:D},"POST")},qe=function(e,t){return t&&(e.id=t),O(C+"/order/saveBankCard",Object(y.a)({},e,{action:t?"edit":"add",token:D}),"POST")},Ae=function(e){return O(C+"/order/saveBankCard",{id:e,action:"del",token:D},"POST")},Ne=function(e,t,a,n,r,i,c){return O(C+"/order/rechargeOrder",Object(x.a)({page:e,limit:t,token:D,type:14,start_time:a,end_time:n,order_status:r},i,c),"POST")},Le=function(e,t){return O(C+"/order/getChannel",{page:e,limit:t,token:D},"POST")},Je=function(e){return O(C+"/order/getChannelInfo",{page:1,limit:20,token:D,channel_id:e},"POST")},Be=function(e,t){return O(C+"/order/editChannelInfo",{id:e,token:D,pay_code:t},"POST")},Qe=function(e,t,a,n){if(n){var r=n.start_time,i=n.end_time,c=n.order_status,l=n.type,s=n.inputParam,o=n.filed,u={};return"create_time"!==o&&"arrival_time"!==o?u[o]=s:"create_time"!==o?u.time_type=1:"arrival_time"!==o&&(u.time_type=2),O(C+"/order/withDraw",Object(y.a)({page:e,limit:t,token:D,start_time:r,end_time:i,order_status:c,type:l},u,{flag:a}),"POST")}return O(C+"/order/withDraw",{page:e,limit:t,token:D,flag:a},"POST")},Ye=function(e,t,a){return O(C+"/order/reviewInfo",{page:e,limit:t,token:D,id:a,type:2},"POST")},He=function(e,t,a){return O(C+"/order/remarkInfo",{page:e,limit:t,token:D,id:a,type:2},"POST")},We=function(e){var t=e.start_time,a=e.end_time,n=e.order_status,r=e.type,i=e.inputParam,c=e.filed,l=C+"/order/withDraw/?export=2&flag=2&"+("token="+D+"&filed="+c+"&keyword="+i+"&start_time="+t+"&end_time="+a+"&order_status="+n+"&type="+r);if(c)switch(c){case"user_id":l=l+"&user_id="+i;break;case"order_id":l=l+"&order_id="+i;break;case"create_time":l+="&time_type=1";break;case"arrival_time":l+="&time_type=2";break;case"replace_id":l=l+"&replace_id="+i}window.open(l)},$e=function(e,t,a){return O(C+"/order/withDrawRemark",{token:D,id:e,temarks:t,remark_type:a,type:2},"POST")},Ze=function(){return O(C+"/config/list",{conf_key:"withdraw_channel_info",get_val:1,token:D},"POST")},Xe=function(e,t,a){return O(C+"/config/saveWithDrawChannel",Object(y.a)({id:e,name:t},a,{"alipay[name]":"\u652f\u4ed8\u5b9d","alipay[withdraw_type]":1,"bankcard[name]":"\u94f6\u884c\u5361","bankcard[withdraw_type]":2,conf_key:"withdraw_channel_info",action:"edit",token:D}),"POST")},et=function(e,t,a){return O(C+"/order/withDraw",{token:D,order_id:e,review_status:a,user_id:t,review_type:1,is_pass:1},"POST")},tt=function(e,t,a,n){return O(C+"/user/index",Object(y.a)({page:e,limit:t,package_id:a},n,{token:D}),"POST")},at=function(e,t){return O(C+"/user/changeInternalUserBalance",{user_id:e,amount:t,token:D},"POST")},nt=_.a.Item,rt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,c=new Array(r),l=0;l<r;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(c)))).getMenuList=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:0===(t=e.sent).status&&((n=t.data).forEach(function(e){e.children&&e.children.forEach(function(e){e.title=e.title.slice(24)})}),localStorage.menuList=JSON.stringify(n),a.props.history.replace("/"));case 4:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i,c,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return r=n.username,i=n.password,c=n.authcode,e.next=4,z(r,i,c);case 4:0===(l=e.sent).status?(g.a.success("\u767b\u9646\u6210\u529f"),localStorage.token=l.data.token,localStorage.name=l.data.name,j(),a.getMenuList()):g.a.error(l.msg),e.next=9;break;case 8:console.log("\u68c0\u9a8c\u5931\u8d25!");case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleClick=function(){a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,a){var r,c,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}return r=a.username,c=a.password,e.next=4,R(r,c);case 4:l=e.sent,console.log("\u8bf7\u6c42\u6210\u529f",l),0===l.status&&l.data?n.a.info({title:"\u9996\u6b21\u767b\u5f55\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801",content:i.a.createElement("div",null,i.a.createElement("img",{src:l.data.qrurl,alt:"\u9a8c\u8bc1\u7801"}))}):g.a.error(l.msg),e.next=10;break;case 9:console.log("\u68c0\u9a8c\u5931\u8d25!");case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.validatePwd=function(e,t,a){console.log("validatePwd()",e,t),t?t.length<4?a("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e4\u4f4d"):t.length>12?a("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e12\u4f4d"):/^[a-zA-Z0-9_]+$/.test(t)?a():a("\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"):a("\u5bc6\u7801\u5fc5\u987b\u8f93\u5165")},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){if(localStorage.token)return i.a.createElement(h.a,{to:"/"});var e=this.props.form.getFieldDecorator;return i.a.createElement("div",{className:"login"},i.a.createElement("header",{className:"login-header"},i.a.createElement("h1",null,"QGame: \u540e\u53f0\u7ba1\u7406\u7cfb\u7edf")),i.a.createElement("section",{className:"login-content"},i.a.createElement("h2",null,"\u7528\u6237\u767b\u9646"),i.a.createElement(_.a,{onSubmit:this.handleSubmit,className:"login-form"},i.a.createElement(nt,null,e("username",{rules:[{required:!0,whitespace:!0,message:"\u7528\u6237\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:12,message:"\u7528\u6237\u540d\u6700\u591a12\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}]})(i.a.createElement(E.a,{prefix:i.a.createElement(w.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),i.a.createElement(_.a.Item,null,e("password",{rules:[{validator:this.validatePwd}]})(i.a.createElement(E.a,{prefix:i.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),i.a.createElement(_.a.Item,null,e("authcode",{rules:[]})(i.a.createElement(E.a,{prefix:i.a.createElement(w.a,{type:"qrcode",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u9a8c\u8bc1\u7801"}))),i.a.createElement("span",{style:{marginTop:5},onClick:this.handleClick},"\u9996\u6b21\u767b\u5f55\uff0c\u624b\u673a\u4e0b\u8f7dGoogle Authenticator \u5b89\u88c5\uff0c\u70b9\u51fb\u6b64\u5904\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801"),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u9646")))))}}]),t}(r.Component),it=_.a.create()(rt),ct=(a(415),a(134)),lt=a(57),st=(a(245),a(74)),ot=(a(419),st.a.SubMenu),ut=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).getMenuList=Object(k.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:0===(a=t.sent).status?e.setState({data:a.data}):g.a.error(a.msg);case 4:case"end":return t.stop()}},t)})),e.getMenuList=Object(k.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P();case 2:0===(a=t.sent).status?e.setState({data:a.data}):g.a.error("\u7f51\u7edc\u95ee\u9898\uff0c\u8bf7\u91cd\u65b0\u767b\u9646");case 4:case"end":return t.stop()}},t)})),e.getMenuNodes=function(t){var a=e.props.location.pathname;return t.reduce(function(t,n){n.children?(n.children.find(function(e){return 0===a.indexOf(e.key)})&&(e.openKey=n.key),t.push(i.a.createElement(ot,{key:n.key,title:i.a.createElement("span",null,i.a.createElement("span",null,n.title)),onClick:function(){e.openMenu=n.key}},n.children.reduce(function(t,a){return t.push(i.a.createElement(st.a.Item,{key:a.key,onClick:function(){e.props.onClick(a)}},i.a.createElement(p.b,{to:a.key},i.a.createElement("span",null,a.title)))),t},[])))):t.push(i.a.createElement(st.a.Item,{key:n.key,onClick:function(){e.props.onClick(n),e.openMenu=n.key}},i.a.createElement(p.b,{to:n.key},i.a.createElement("span",null,n.title))));return t},[])},e.state={data:[],openKey:""},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setState({openKey:this.openKey})}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("menuList")),a=this.getMenuNodes(t),n=this.props.location.pathname;return i.a.createElement("div",{className:"left-nav"},i.a.createElement(p.b,{to:"/",className:"left-nav-header",style:{justifyContent:"center"}},i.a.createElement("h1",null,"QGame\u540e\u53f0\u7ba1\u7406")),i.a.createElement(st.a,{mode:"inline",theme:"dark",selectedKeys:[n],onOpenChange:function(t){console.log(t),t[1]&&t[0]!==t[1]?e.setState({openKey:t[1]}):e.setState({openKey:null})},openKeys:[this.state.openKey]},a))}}]),t}(r.Component),dt=Object(h.g)(ut),mt=(a(225),a(122)),pt=a(70),ht=(a(226),a(124));function ft(e){return i.a.createElement(f.a,Object.assign({type:"primary",size:"small",style:{marginRight:10}},e))}var Et={user:{},token:""},wt=a(164),gt=a.n(wt),bt="user_key",vt={saveUser:function(e){gt.a.set(bt,e)},getUser:function(){return gt.a.get(bt)||{}},removeUser:function(){localStorage.removeItem(bt),gt.a.remove(bt)}},kt=a(158),_t=a.n(kt),yt=(a(443),ht.a.TabPane),xt=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){a.setState({activeKey:e})},a.onEdit=function(e,t){a[t](e)},a.add=function(e){var t,n=a.state.panes,r=!1;if(n.forEach(function(a){a.title===e.title&&(r=!0,t=a.key)}),r)a.onChange(t);else{var i="newTab".concat(a.newTabIndex++);n.push({title:e.title,content:"Content of new Tab",key:i,path:e.key}),a.onChange(i),a.setState({panes:n,activeKey:i})}},a.remove=function(e){var t,n=a.state.activeKey;a.state.panes.forEach(function(a,n){a.key===e&&(t=n-1)});var r=a.state.panes.filter(function(t){return t.key!==e});r.length&&n===e&&(t>=0?(n=r[t].key,a.props.history.push(r[t].path)):n=r[0].key),a.setState({panes:r,activeKey:n})},a.logout=function(){n.a.confirm({content:"\u786e\u5b9a\u9000\u51fa\u5417?",onOk:function(){console.log("OK",Object(pt.a)(a)),vt.removeUser(),Et.user={},localStorage.removeItem("menuList"),localStorage.removeItem("token"),localStorage.removeItem("name"),a.props.history.replace("/login")}})},a.authCode=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:0===(t=e.sent).status?n.a.info({title:"\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801",content:i.a.createElement(_t.a,{value:t.data.qrurl}),width:300}):g.a.error(t.msg);case 4:case"end":return e.stop()}},e)})),a.resetPWD=function(){a.setState({isEditFormShow:!0})},a.handleEditSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,a){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return e.next=3,V(a.editPass);case 3:0===(n=e.sent).status?g.a.success(n.msg):g.a.error(n.msg);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.newTabIndex=0;var r=[{title:"\u9996\u9875",content:"Content of Tab 1",key:"1",closable:!1,path:"/home"}];return a.state={activeKey:r[0].key,panes:r,isEditFormShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this);var e,t=this.state,a=this.props.location.pathname;"/home"!==a&&"/"!==a&&(JSON.parse(localStorage.getItem("menuList")).forEach(function(t){t.children||t.key!==a?t.children&&t.children.forEach(function(t){t.key===a&&(e=t.title)}):e=t.title}),t.activeKey="2",t.panes.push({title:e,key:"2",path:a}),this.setState(Object(y.a)({},t)))}},{key:"render",value:function(){var e=this,t=localStorage.getItem("name"),a=this.props.form,r=a.getFieldDecorator,c=a.getFieldValue;return i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"header-top"},i.a.createElement(mt.a,{overlay:i.a.createElement(st.a,null,i.a.createElement(st.a.Item,{key:"0"},i.a.createElement(f.a,{type:"link",onClick:this.authCode},"\u5b89\u5168\u7801\u8bbe\u7f6e")),i.a.createElement(st.a.Item,{key:"1"},i.a.createElement(f.a,{type:"link",onClick:this.resetPWD},"\u4fee\u6539\u5bc6\u7801"))),trigger:["click"]},i.a.createElement(f.a,{type:"link"},t," ",i.a.createElement(w.a,{type:"down"}))),i.a.createElement(ft,{onClick:this.logout,size:"default"},"\u9000\u51fa")),i.a.createElement("div",{className:"header-bottom"},i.a.createElement(ht.a,{onChange:this.onChange,activeKey:this.state.activeKey,type:"editable-card",onEdit:this.onEdit,hideAdd:!0},this.state.panes.map(function(e){return i.a.createElement(yt,{tab:i.a.createElement(p.b,{to:e.path},e.title),key:e.key,closable:e.closable,forceRender:!0})}))),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null},i.a.createElement(_.a,{labelCol:{span:6},labelAlign:"left",onSubmit:this.handleEditSubmit},i.a.createElement(_.a.Item,{label:"\u65b0\u5bc6\u7801"},r("editPass",{rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{whitespace:!0},{min:6,message:"\u5bc6\u7801\u81f3\u5c116\u4f4d"},{max:16,message:"\u5bc6\u7801\u6700\u591a16\u4f4d"}]})(i.a.createElement(E.a,{style:{width:"40%"},type:"password",placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),i.a.createElement(_.a.Item,{label:"\u91cd\u590d\u5bc6\u7801"},r("repeat",{rules:[{required:!0},{validator:function(e,t,a){t||a(),t===c("editPass")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(i.a.createElement(E.a,{style:{width:"40%"},type:"password",placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))))}}]),t}(r.Component),St=_.a.create()(xt),It=Object(h.g)(St),Ot=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).typing=function(){a.i<=a.str.length?a.setState({res:a.str.slice(0,a.i++)+"__"},function(){a.timer=setTimeout(function(){return a.typing()},200)}):(a.setState({res:a.str}),clearTimeout(a.timer))},a.state={res:""},a.i=0,a.timer=0,a.str="\u6b22\u8fce\u60a8\u6765\u5230QGame\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf",a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"componentDidMount",value:function(){this.typing()}},{key:"render",value:function(){return i.a.createElement("span",{style:{fontSize:"20px"}},this.state.res)}}]),t}(r.Component),Ct=(a(43),a(30)),Dt=(a(37),a(26)),jt=(a(92),a(54)),zt=(a(50),a(7)),Rt=a(29),Pt=a.n(Rt);function Tt(e){if(!e)return"";var t=parseInt(e);return 0===t?"":Pt()(1e3*t).format("YYYY-MM-DD HH:mm:ss")}var Vt=_.a.Item,Ft=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.isNickModal;return i.a.createElement(_.a,{className:"login-form"},i.a.createElement(Vt,{style:t?{}:{display:"none"}},e("name",{rules:[{required:t,message:"Please input your username!"}],initialValue:this.props.val})(i.a.createElement(E.a,{prefix:i.a.createElement(w.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"}))),i.a.createElement(Vt,{label:"\u91d1\u989d",style:t?{display:"none"}:{}},e("gold",{rules:[{required:!t,whitespace:!0,pattern:/^\d+(\.\d+)?$/,message:"\u5fc5\u987b\u4e3a\u6570\u5b57\uff0c\u51cf\u5c11\u65f6\u91d1\u989d\u4e3a\u8d1f"}]})(i.a.createElement(E.a,{placeholder:"\u5fc5\u987b\u4e3a\u6570\u5b57\uff0c\u51cf\u5c11\u65f6\u91d1\u989d\u4e3a\u8d1f"}))),i.a.createElement(Vt,{label:"\u5907\u6ce8",style:t?{display:"none"}:{}},e("desc",{rules:[{max:400,message:"\u6700\u591a400\u5b57"},{required:!t}]})(i.a.createElement(E.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u6587\u5b57",autosize:{minRows:2,maxRows:6}}))))}}]),t}(r.Component),Ut=_.a.create()(Ft),Mt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){return a.props.isBindInfo?[{title:"\u652f\u4ed8\u5b9d\u8d26\u53f7",dataIndex:"alipay_account"},{title:"\u7ed1\u5b9a\u652f\u4ed8\u5b9d\u65f6\u95f4",dataIndex:"bind_alipay_at"},{title:"\u5f00\u6237\u4eba\u59d3\u540d",dataIndex:"card_name"},{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bank_name"},{title:"\u94f6\u884c\u5361\u53f7",dataIndex:"bank_num"},{title:"\u7ed1\u5b9a\u94f6\u884c\u5361\u65f6\u95f4",dataIndex:"bind_bank_at"},{title:"\u662f\u5426\u7070\u540d\u5355",dataIndex:"is_gray"},{title:"\u7070\u540d\u5355\u5907\u6ce8",dataIndex:"black_remark"},{title:"\u5907\u6ce8\u4eba",dataIndex:"remark_name"},{title:"\u5907\u6ce8\u65f6\u95f4",dataIndex:"remark_at"},{title:"\u64cd\u4f5c",dataIndex:"option"}]:[{title:"user_id",dataIndex:"id"},{title:"\u4ea7\u751f\u6765\u6e90",dataIndex:"pay_account_name"},{title:"\u4f59\u989d(\u53d8\u52a8\u524d)",dataIndex:"total_balance"},{title:"\u53d8\u52a8\u91d1\u989d",dataIndex:"final_pay",sorter:function(e,t){return e.total_balance-t.total_balance}},{title:"\u7a0e\u6536",dataIndex:"tax"},{title:"\u4f59\u989d(\u53d8\u52a8\u540e)",dataIndex:"total_final_balance"},{title:"\u5907\u6ce8",dataIndex:"pay_reason"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"}]},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.GoldDetailRecord.data;return i.a.createElement(Dt.a,{bordered:!0,rowKey:"_id",dataSource:e,columns:this.initColumns(),size:"small"})}}]),t}(r.Component),Gt=(a(242),a(19)),Kt=(a(191),a(103)),qt=a(159),At=a.n(qt),Nt=(a(112),Kt.a.RangePicker);function Lt(e){return i.a.createElement(Gt.b,{locale:At.a},i.a.createElement(Nt,Object.assign({style:{width:300},showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm:00",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:function(t,a){e.handleValue(a)}},e)))}var Jt=zt.a.Option,Bt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){return[{title:"user_id",dataIndex:"id",key:"id",fixed:"left",width:150},{title:"\u6635\u79f0",dataIndex:"game_nick",key:"game_nick",fixed:"left",width:150,onCell:function(e,t){return{onClick:function(n){a.game_nick=e.game_nick,a.id=e.id,a.rowIndex=t,a.setState({isNickShow:!0})},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"game_gold",key:"game_gold",sorter:function(e,t){return e.game_gold-t.game_gold},width:150,onCell:function(e,t){return{onClick:function(t){a.goldRecord=e,a.setState({isGoldShow:!0})},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",key:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_nick",key:"proxy_nick",width:150},{title:"\u624b\u673a",dataIndex:"phone_number",key:"phone_number",width:150},{title:"\u8d26\u53f7",dataIndex:"role_name",key:"role_name",width:150},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"regin_time",render:Tt,key:"regin_time",sorter:function(e,t){return e.regin_time-t.regin_time},width:200},{title:"\u767b\u5f55IP",dataIndex:"login_ip",key:"login_ip",width:200},{title:"\u767b\u9646\u65f6\u95f4",dataIndex:"login_time",render:Tt,sorter:function(e,t){return e.login_time-t.login_time},width:200},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.getGoldDetail(e)},size:"small"},"\u8d44\u91d1\u660e\u7ec6"),i.a.createElement(ft,{onClick:function(){return a.getMoreDetail(e)},size:"small"},"\u66f4\u591a"))}},{title:"\u5b9e\u65f6\u4f59\u989d",width:100,render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{size:"small",onClick:function(){return a.getLoadGold(e)}},"\u67e5\u770b"))}}]},a.getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i,c,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n,a.state.startTime,a.state.endTime,a.inputKey,a.inputValue);case 2:0===(r=e.sent).status?(i=r.data,c=i.game_user,l=i.proxy_user,c.forEach(function(e){l.forEach(function(t){e.id===t.id&&(e.proxy_nick=t.proxy_pid)})}),a.setState({data:c,count:r.count})):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.changeNickName=function(){var e=a.refs.getFormValue;e.validateFields(function(){var t=Object(k.a)(v.a.mark(function t(n,r){var i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}if(a.setState({isNickShow:!1}),r.name===a.game_nick){t.next=7;break}return t.next=5,U(a.id,r.name);case 5:0===t.sent.status&&(g.a.success("\u4fee\u6539\u6210\u529f!"),i=a.rowIndex,a.state.data[i].game_nick=r.name,a.setState({data:a.state.data}));case 7:e.resetFields();case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())},a.changeGold=function(){a.setState({loading:!0});var e=a.refs.getFormValue,t=a.goldRecord;e.validateFields(function(){var n=Object(k.a)(v.a.mark(function n(r,i){var c;return v.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M(t,i);case 2:0===(c=n.sent).status?(g.a.success(c.msg),a.setState({isGoldShow:!1,loading:!1})):(a.setState({loading:!1}),g.a.error(c.msg)),e.resetFields();case 5:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())},a.getLoadGold=function(){var e=Object(k.a)(v.a.mark(function e(t){var a,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,G(a);case 3:0===(r=e.sent).status&&n.a.success({title:"\u5b9e\u65f6\u4f59\u989d",content:"\u7528\u6237".concat(t.id,"\u5b9e\u65f6\u4f59\u989d\u662f : ").concat(r.data[0].game_gold)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getGoldDetail=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.moreModal.destroy(),a.isBindInfo=n,a.GoldDetailRecord={data:[],count:0,id:t.id},n){e.next=9;break}return e.next=6,K(1,20,t.id);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,q(1,20,t.id);case 11:e.t0=e.sent;case 12:0===(r=e.t0).status&&(a.GoldDetailRecord.data=r.data,a.GoldDetailRecord.count=r.count),a.setState({isGoldDetailShow:!0});case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.saveUserBlack=function(){var e=Object(k.a)(v.a.mark(function e(t,a){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a?"add":"remove",e.next=3,A(t.id,n);case 3:0===(r=e.sent).status?g.a.success("\u64cd\u4f5c\u6210\u529f\uff01"):g.a.success("\u64cd\u4f5c\u5931\u8d25:"+r.msg);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.resetPwd=function(e){a.moreModal.destroy(),a.setState({isResetPwdShow:!0}),a.resetPwdId=e.id},a.handleResetpwd=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(a.resetPwdId,a.state.resetpwd);case 2:0===(t=e.sent).status?(g.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),a.setState({resetpwd:"",isResetPwdShow:!1})):g.a.success("\u64cd\u4f5c\u5931\u8d25:"+t.msg);case 4:case"end":return e.stop()}},e)})),a.getMoreDetail=function(e){a.moreModal=n.a.info({title:"\u66f4\u591a",okText:"\u5173\u95ed",content:i.a.createElement("div",null,i.a.createElement(ft,{onClick:function(){return a.getGoldDetail(e,!0)},size:"small"},"\u67e5\u770b\u7ed1\u5b9a\u4fe1\u606f"),i.a.createElement(jt.a,{title:"\u4ea4\u6613\u6240\u9ed1\u540d\u5355",onConfirm:function(){return a.saveUserBlack(e,!0)},onCancel:function(){return a.saveUserBlack(e,!1)},okText:"\u6dfb\u52a0",cancelText:"\u79fb\u9664"},i.a.createElement(ft,{size:"small"},"\u4ea4\u6613\u6240\u9ed1\u540d\u5355")),i.a.createElement(ft,{onClick:function(){return a.resetPwd(e)},size:"small"},"\u91cd\u7f6e\u5bc6\u7801"))})},a.state={data:[],count:0,pageSize:20,isNickShow:!1,isGoldShow:!1,isGoldDetailShow:!1,isBindInfoShow:!1,isResetPwdShow:!1,resetpwd:"",game_nick:"",startTime:"",endTime:"",loading:!1},a.inputKey="id",a.inputValue="",a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=Object.assign({},this.state.inputParam,{val:e.target.value});this.setState({inputParam:t})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,r=t.count,c=i.a.createElement("span",null,i.a.createElement(Lt,{handleValue:function(t){e.setState({startTime:t[0],endTime:t[1]})}}),"\xa0 \xa0",i.a.createElement(zt.a,{style:{width:200},placeholder:"Select a person",defaultValue:"id",onChange:function(t){e.inputKey=t}},i.a.createElement(Jt,{value:"id"},"user_id"),i.a.createElement(Jt,{value:"game_nick"},"\u6635\u79f0"),i.a.createElement(Jt,{value:"phone_number"},"\u624b\u673a\u53f7"),i.a.createElement(Jt,{value:"role_name"},"\u8d26\u53f7"),i.a.createElement(Jt,{value:"proxy_nick"},"\u6240\u5c5e\u4ee3\u7406"),i.a.createElement(Jt,{value:"package_nick"},"\u6240\u5c5e\u54c1\u724c")),"\xa0 \xa0",i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22",style:{width:150},ref:function(t){return e.input=t}}),"\xa0 \xa0",i.a.createElement(ft,{onClick:function(){e.inputValue=e.input.input.value,e.getUsers(1,e.state.pageSize)},size:"default"},i.a.createElement(w.a,{type:"search"}))),l=i.a.createElement(ft,{onClick:function(){window.location.reload()},size:"default"},i.a.createElement(w.a,{type:"reload"}));return i.a.createElement(Ct.a,{title:c,extra:l},i.a.createElement(Dt.a,{bordered:!0,rowKey:"_id",dataSource:a,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:r,onChange:function(t,a){e.getUsers(t,a)},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1900,y:"65vh"}}),i.a.createElement(n.a,{title:"\u4fee\u6539\u6635\u79f0",visible:this.state.isNickShow,onOk:this.changeNickName,onCancel:function(){e.setState({isNickShow:!1})}},i.a.createElement(Ut,{ref:"getFormValue",val:this.game_nick,isNickModal:!0})),i.a.createElement(n.a,{title:"\u4fee\u6539\u91d1\u989d",visible:this.state.isGoldShow,onCancel:function(){e.setState({isGoldShow:!1})},footer:[i.a.createElement(f.a,{key:"back",onClick:function(){e.setState({isGoldShow:!1})}},"\u53d6\u6d88"),i.a.createElement(f.a,{key:"submit",type:"primary",loading:this.state.loading,onClick:this.changeGold},"\u786e\u5b9a")]},i.a.createElement(Ut,{ref:"getFormValue",goldRecord:this.goldRecord})),i.a.createElement(n.a,{title:this.isBindInfo?"\u67e5\u770b\u7ed1\u5b9a\u4fe1\u606f":"\u8d44\u91d1\u660e\u7ec6",visible:this.state.isGoldDetailShow,onCancel:function(){e.setState({isGoldDetailShow:!1})},footer:null,width:"70%"},i.a.createElement(Mt,{GoldDetailRecord:this.GoldDetailRecord,isBindInfo:this.isBindInfo})),i.a.createElement(n.a,{title:"\u91cd\u7f6e\u5bc6\u7801",visible:this.state.isResetPwdShow,onOk:this.handleResetpwd,onCancel:function(){e.setState({isResetPwdShow:!1})}},i.a.createElement("span",null,"\u91cd\u7f6e\u5bc6\u7801"),i.a.createElement(E.a,{value:this.state.resetpwd,onChange:function(t){return e.setState({resetpwd:t.target.value})}})))}}]),t}(r.Component),Qt=(a(149),a(62)),Yt=(a(75),a(23)),Ht=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).checkboxOnChange=function(e){console.log(e),a.setState({checkedList:e,indeterminate:!!e.length&&e.length<a.props.packageList.length,checkAll:e.length===a.props.packageList.length})},a.onCheckAllChange=function(e){var t=a.props.packageList.map(function(e){return e.value});a.setState({checkedList:e.target.checked?t:[],indeterminate:!1,checkAll:e.target.checked},function(){a.props.form.setFieldsValue({packageList:a.state.checkedList})})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=14;break}if(a.props.isEdit){e.next=7;break}return e.next=4,Y(n);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,H(n,a.props.editDataRecord.id);case 9:e.t0=e.sent;case 10:0===(r=e.t0).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+r.msg),e.next=15;break;case 14:g.a.error("\u63d0\u4ea4\u5931\u8d25");case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={isBan:1,checkedList:[],indeterminate:!0,checkAll:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.props.isEdit&&this.props.editDataRecord.group){var e=this.props.editDataRecord.group.split(",");this.props.form.setFieldsValue({packageList:e.map(Number)})}}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,r=this.props,c=r.editDataRecord,l=r.isEdit,s=this.props.optionList.map(function(e){return i.a.createElement(zt.a.Option,{value:e.id,key:e.id},e.name)});return i.a.createElement(_.a,{labelCol:{span:4},onSubmit:this.handleSubmit,labelAlign:"left"},i.a.createElement(_.a.Item,{label:"\u767b\u5f55\u540d"},a("username",{rules:[{required:!0,whitespace:!0,message:"\u767b\u5f55\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:10,message:"\u7528\u6237\u540d\u6700\u591a10\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}],initialValue:l?c.name:""})(i.a.createElement(E.a,{prefix:i.a.createElement(w.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),style:{width:"60%"},placeholder:"\u5c06\u4f1a\u6210\u4e3a\u60a8\u552f\u4e00\u7684\u767b\u5165\u540d"}))),i.a.createElement(_.a.Item,{label:"\u7528\u6237\u72b6\u6001"},a("userStatus",{initialValue:l?c.status:1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u542f\u7528"),i.a.createElement(Yt.a,{value:0},"\u7981\u7528")))),i.a.createElement(_.a.Item,{label:"\u7528\u6237\u7ec4"},a("userGroup",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7528\u6237\u7ec4!"}],initialValue:l&&c.group_id})(i.a.createElement(zt.a,{style:{width:" 40%"},placeholder:"\u9009\u62e9\u7528\u6237\u7ec4"},s))),i.a.createElement(_.a.Item,{label:"\u6388\u6743\u54c1\u724c"},i.a.createElement(Qt.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"\u5168\u9009"),a("packageList",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6388\u6743\u54c1\u724c!"}]})(i.a.createElement(Qt.a.Group,{options:this.props.packageList,onChange:function(t){return e.checkboxOnChange(t)}}))),i.a.createElement(_.a.Item,{label:"\u6388\u6743\u4ee3\u7406"},a("proxy",{rules:[{whitespace:!0,message:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}],initialValue:l?c.proxy:""})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}))),i.a.createElement(_.a.Item,{label:"\u643a\u5e26\u91d1\u989d"},a("loadGold",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"},{pattern:/^\d+(\.\d+)?$/,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}],initialValue:l&&c.use_balance})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u8bf7\u8f93\u5165\u6570\u5b57"}))),i.a.createElement(_.a.Item,{label:"\u5bc6\u7801",style:l?{display:"none"}:{}},a("password",{rules:[{required:!l,whitespace:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{min:6,message:"\u5bc6\u7801\u81f3\u5c116\u4f4d"},{max:16,message:"\u5bc6\u7801\u6700\u591a16\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}]})(i.a.createElement(E.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),i.a.createElement(_.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801",style:l?{display:"none"}:{}},a("confirmPssword",{rules:[{required:!l,whitespace:!0},{validator:function(e,t,a){t||a(),t===n("password")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(i.a.createElement(E.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),i.a.createElement(_.a.Item,{label:"\u5bc6\u7801(\u9009\u586b)",style:l?{}:{display:"none"}},a("editPassword",{rules:[{whitespace:!0},{validator:function(e,t,a){t||a(),t===n("password")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(i.a.createElement(E.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26\uff0c\u91cd\u7f6e\u5bc6\u7801\u65f6\u4f7f\u7528"}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(r.Component),Wt=_.a.create()(Ht),$t=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){return[{title:"user_id",dataIndex:"id"},{title:"\u7528\u6237\u540d",dataIndex:"name",render:function(e,t){return i.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u89d2\u8272",dataIndex:"role_name"},{title:"\u6388\u6743\u54c1\u724c",dataIndex:"group"},{title:"\u6388\u6743\u4ee3\u7406",dataIndex:"proxy"},{title:"\u53ef\u4f7f\u7528\u91d1\u989d",dataIndex:"use_balance"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",render:function(e,t){return i.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updated_at",render:function(e,t){return i.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u72b6\u6001",dataIndex:"status",align:"center",render:function(e,t,a){return i.a.createElement("span",null,1===e?"\u542f\u7528":"\u7981\u7528")}},{title:"\u64cd\u4f5c",dataIndex:"handle",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),i.a.createElement(ft,{onClick:function(){return a.resetAuthCode(t)}},"AuthCode\u91cd\u7f6e"))}}]},a.getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(a.state.inputParam);case 2:t=e.sent,a.setState({data:t.data,count:1});case 4:case"end":return e.stop()}},e)})),a.addData=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:return t=e.sent,e.next=5,Q();case 5:n=e.sent,0===t.status&&0===n.status&&(a.optionList=t.data,a.packageList=n.data.map(function(e){return{label:e.name,value:e.id}}),a.setState({isAddDataShow:!0}));case 7:case"end":return e.stop()}},e)})),a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a.editDataRecord=t,e.next=4,B();case 4:return n=e.sent,e.next=7,Q();case 7:r=e.sent,0===n.status&&0===r.status&&(a.optionList=n.data,a.packageList=r.data.map(function(e){return{label:e.name,value:e.id}}),a.setState({isEditDataShow:!0}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.resetAuthCode=function(e){n.a.confirm({title:"\u4fe1\u606f",content:"\u771f\u7684\u8981\u91cd\u7f6e\u4e48?",onOk:function(){var t=Object(k.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(e.id);case 2:(a=t.sent).status,g.a.success(a.msg);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})},a.handleChange=a.handleChange.bind(Object(pt.a)(a)),a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("span",null,i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:{width:150},value:this.state.inputParam,onChange:this.handleChange}),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.onSearchData,size:"default"},i.a.createElement(w.a,{type:"search"})),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.addData,size:"default"},i.a.createElement(w.a,{type:"user-add"}),"\u6dfb\u52a0\u8d26\u6237")),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()},size:"default"},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a)},onShowSizeChange:function(t,a){e.getUsers(t,a)}}}),i.a.createElement(n.a,{title:"\u6dfb\u52a0\u7528\u6237",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},i.a.createElement(Wt,{optionList:this.optionList,packageList:this.packageList,cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})),this.state.isEditDataShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},i.a.createElement(Wt,{isEdit:"true",optionList:this.optionList,packageList:this.packageList,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(r.Component),Zt=(a(503),a(198)),Xt=Zt.a.TreeNode,ea=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getTreeNodes=function(e){return e.map(function(e){return e.children?i.a.createElement(Xt,{key:e.id,title:e.title.replace(/&nbsp;/g,"")},a.getTreeNodes(e.children)):i.a.createElement(Xt,{key:e.id,title:e.title.replace(/&nbsp;/g,"")})})},a.onSelect=function(e,t){var n=t.node,r=a.state.expandedKeys;n.props.isLeaf?a.setState({selectedKeys:e}):a.setState({expandedKeys:n.props.expanded?r.filter(function(e){return e!==n.props.eventKey}):r.concat(n.props.eventKey)})},a.onCheck=function(e,t){a.setState({checkedKeys:e.map(Number)})},a.onExpand=function(e,t){a.setState({expandedKeys:e})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i,c,l,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=17;break}if(r=n.name,i=n.desc,c=a.state.checkedKeys,l=a.props.editDataRecord?a.props.editDataRecord.id:"",a.props.isEdit){e.next=10;break}return e.next=7,ae(r,c,i);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,ne(r,c,i,l);case 12:e.t0=e.sent;case 13:0===(s=e.t0).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields(),a.setState({checkedKeys:[]})):g.a.error("\u51fa\u9519\u4e86\uff1a"+s.msg),e.next=18;break;case 17:g.a.error("\u63d0\u4ea4\u5931\u8d25");case 18:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={expandedKeys:[],selectedKeys:[],checkedKeys:a.props.isEdit?a.props.editDataRecord.rules.split(","):[],defaultCheckedKeys:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("menuList")),t=this.getTreeNodes(e),a=this.props.form.getFieldDecorator,n=this.props,r=n.editDataRecord,c=n.isEdit;return i.a.createElement(_.a,{labelCol:{span:4},onSubmit:this.handleSubmit,labelAlign:"left"},i.a.createElement(_.a.Item,{label:"\u89d2\u8272\u540d"},a("name",{rules:[{required:!0,message:"\u89d2\u8272\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"}],initialValue:c?r.name:""})(i.a.createElement(E.a,{prefix:i.a.createElement(w.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u5206\u914d\u6743\u9650"},i.a.createElement("br",null),i.a.createElement(Zt.a,{checkable:!0,defaultCheckedKeys:c?r.rules.split(","):[],expandedKeys:this.state.expandedKeys,selectedKeys:this.state.selectedKeys,onSelect:this.onSelect,onCheck:this.onCheck,onExpand:this.onExpand},t)),i.a.createElement(_.a.Item,{label:"\u63cf\u8ff0"},a("desc",{rules:[{max:400,message:"\u6700\u591a400\u5b57"}],initialValue:c?r.description:""})(i.a.createElement(E.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u6587\u5b57",autosize:{minRows:2,maxRows:6}}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(r.Component),ta=_.a.create()(ea),aa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){return[{title:"user_id",dataIndex:"id",width:80},{title:"\u89d2\u8272\u540d",dataIndex:"name",render:function(e,t){return i.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u63cf\u8ff0",dataIndex:"description"},{title:"\u72b6\u6001",dataIndex:"status",align:"center",render:function(e,t,a){return i.a.createElement("span",null,1===e?"\u5df2\u542f\u7528":"\u7981\u7528")}},{title:"\u64cd\u4f5c",dataIndex:"handle",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"))}}]},a.getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addData=Object(k.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isAddDataShow:!0});case 1:case"end":return e.stop()}},e)})),a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("span",null,i.a.createElement(ft,{onClick:this.addData,size:"default"},i.a.createElement(w.a,{type:"user-add"}),"\u6dfb\u52a0\u8d26\u6237")),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()},size:"default"},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}}}),i.a.createElement(n.a,{title:"\u6dfb\u52a0\u89d2\u8272",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},i.a.createElement(ta,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})),this.state.isEditDataShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},i.a.createElement(ta,{isEdit:"true",editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(r.Component),na=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){return[{title:"\u8ba2\u5355Id",dataIndex:"order_id"},{title:"user_id",dataIndex:"user_id"},{title:"\u91d1\u989d",dataIndex:"amount"},{title:"\u4e0b\u5355\u65f6\u95f4",dataIndex:"created_at",render:Tt},{title:"\u64cd\u4f5c",dataIndex:"status",render:function(e,t,n){return"6"!==e&&"7"!==e&&"9"!==e?i.a.createElement(f.a,{size:"small",onClick:function(){return a.handleRecieveSubmit(t)}},"\u624b\u52a8\u5230\u8d26\u63d0\u4ea4"):void 0}}]},a.handleClick=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(1,50,a.state.user_id,a.state.order_id);case 2:0===(t=e.sent).status?a.setState({data:t.data}):g.a.error(t.msg);case 4:case"end":return e.stop()}},e)})),a.handleRecieveSubmit=function(){var e=Object(k.a)(v.a.mark(function e(t){var n,r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,r=t.order_id,e.next=3,Te(n,r);case 3:0===(i=e.sent).status?g.a.success(i.msg):g.a.error(i.msg),a.handleClick();case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],user_id:"",order_id:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(E.a,{type:"text",placeholder:"user_id",style:{width:150},value:this.state.user_id,onChange:function(t){return e.setState({user_id:t.target.value})}}),"\xa0 \xa0",i.a.createElement(E.a,{type:"text",placeholder:"\u8ba2\u5355Id",style:{width:300},value:this.state.order_id,onChange:function(t){return e.setState({order_id:t.target.value})}}),"\xa0 \xa0",i.a.createElement(f.a,{onClick:this.handleClick},i.a.createElement(w.a,{type:"search"})),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small"}))}}]),t}(r.Component),ra=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t,n,a.state.start_time,a.state.end_time,a.order_status,a.type,a.inputKey,a.inputValue);case 2:r=e.sent,a.setState({data:r.data,count:parseInt(r.count)});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isQueryShow:!0});case 1:case"end":return e.stop()}},e)})),a.download=function(){Fe(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:300},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:150},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id",width:100},{title:"\u652f\u4ed8\u6e20\u9053",dataIndex:"channel_type",width:100,render:function(e,t,a){var n;switch(e){case"0":n=t.replace_id;break;case"5":n="\u5145\u63d0UC";break;case"12":n="onePay";break;case"11":n="\u53e4\u90fd";break;case["10","13","14","15","16"]:n="\u805a\u946b";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u652f\u4ed8\u7c7b\u578b",dataIndex:"type",width:100,render:function(e,t,a){var n;switch(e){case"1":n="alipay";break;case"2":n="\u94f6\u884c\u5361\u8f6c\u8d26";break;case"3":n="\u4eba\u5de5\u4ee3\u5145";break;case"4":n="\u4eba\u5de5\u4ee3\u63d0";break;case"5":n="\u88ab\u8d60\u9001";break;case"6":n="\u5fae\u4fe1\u652f\u4ed8";break;case"7":n="\u94f6\u8054\u652f\u4ed8";break;case"8":n="\u7f51\u94f6\u652f\u4ed8";break;case"9":n="\u5feb\u6377\u652f\u4ed8";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",width:130,render:function(e,t,a){var n;switch(e){case"1":n="\u672a\u652f\u4ed8";break;case"2":n="\u5df2\u8fc7\u671f";break;case"3":n="\u5df2\u5206\u914d";break;case"4":n="\u5df2\u64a4\u9500";break;case"5":n="\u5df2\u652f\u4ed8";break;case"6":n="\u5df2\u5b8c\u6210";break;case"7":n="\u8865\u5355\u521d\u5ba1\u901a\u8fc7";break;case"8":n="\u521d\u5ba1\u62d2\u7edd";break;case"9":n="\u8865\u5355\u590d\u5ba1\u901a\u8fc7";break;case"10":n="\u590d\u5ba1\u62d2\u7edd";break;case"11":n="\u5145\u503c\u5931\u8d25";break;case"12":n="\u5ba2\u670d\u62d2\u7edd";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:200,render:Tt,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",width:200,render:function(e,t,a){return"0"!==e&&e?Tt(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}},{title:"\u64cd\u4f5c",dataIndex:"",width:100,render:function(e,t,n){return"7"===t.status?i.a.createElement(ft,{size:"small",onClick:function(){return a.edit(t)}},"\u7f16\u8f91"):void 0}},{title:"\u5907\u6ce8",dataIndex:"remark"}]},a.edit=function(e){a.setState({isEditShow:!0,editUser_id:e.user_id,editMount:e.amount}),a.user_id=e.user_id,a.order_id=e.order_id,a.editType=e.type},a.editRefused=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(a.user_id,a.order_id,a.editType);case 2:0===(t=e.sent).status?(g.a.success(t.msg),a.setState({isEditShow:!1}),a.getUsers(1,a.pageSize)):g.a.error(t.msg);case 4:case"end":return e.stop()}},e)})),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",order_status:"",type:"",user_id:"",order_id:"",isQueryShow:!1,isEditShow:!1},a.inputKey="",a.inputValue="",a.order_status="",a.type="",a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(zt.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:120},onSelect:function(t){return e.inputKey=t}},i.a.createElement(zt.a.Option,{value:"order_id"},"\u8ba2\u5355id"),i.a.createElement(zt.a.Option,{value:"user_id"},"user_id"),i.a.createElement(zt.a.Option,{value:"1"},"\u521b\u5efa\u65f6\u95f4"),i.a.createElement(zt.a.Option,{value:"2"},"\u5230\u8d26\u65f6\u95f4")),"\xa0 \xa0",i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},ref:function(t){return e.input=t}}),"\xa0 \xa0",i.a.createElement(Lt,{handleValue:function(t){e.setState({start_time:t[0],end_time:t[1]})}}),"\xa0 \xa0",i.a.createElement(zt.a,{defaultValue:"",style:{width:200},onSelect:function(t){return e.order_status=t}},i.a.createElement(zt.a.Option,{value:""},"\u8ba2\u5355\u72b6\u6001"),i.a.createElement(zt.a.Option,{value:"0"},"\u5168\u90e8"),i.a.createElement(zt.a.Option,{value:"1"},"\u672a\u652f\u4ed8"),i.a.createElement(zt.a.Option,{value:"4"},"\u5df2\u64a4\u9500"),i.a.createElement(zt.a.Option,{value:"5"},"\u5df2\u652f\u4ed8"),i.a.createElement(zt.a.Option,{value:"6"},"\u5df2\u5b8c\u6210"),i.a.createElement(zt.a.Option,{value:"7"},"\u8865\u5355\u521d\u5ba1\u901a\u8fc7"),i.a.createElement(zt.a.Option,{value:"8"},"\u8865\u5355\u521d\u5ba1\u62d2\u7edd"),i.a.createElement(zt.a.Option,{value:"9"},"\u8865\u5355\u590d\u5ba1\u901a\u8fc7"),i.a.createElement(zt.a.Option,{value:"10"},"\u8865\u5355\u590d\u5ba1\u62d2\u7edd"),i.a.createElement(zt.a.Option,{value:"11"},"\u5145\u503c\u5931\u8d25")),"\xa0 \xa0",i.a.createElement(zt.a,{defaultValue:"",style:{width:120},onSelect:function(t){return e.type=t}},i.a.createElement(zt.a.Option,{value:""},"\u8ba2\u5355\u7c7b\u578b"),i.a.createElement(zt.a.Option,{value:"0"},"\u5168\u90e8"),i.a.createElement(zt.a.Option,{value:"1"},"alipay"),i.a.createElement(zt.a.Option,{value:"2"},"\u94f6\u884c\u5361\u8f6c\u8d26"),i.a.createElement(zt.a.Option,{value:"3"},"\u4eba\u5de5\u4ee3\u5145"),i.a.createElement(zt.a.Option,{value:"4"},"\u4eba\u5de5\u4ee3\u63d0"),i.a.createElement(zt.a.Option,{value:"6"},"\u5fae\u4fe1\u652f\u4ed8"),i.a.createElement(zt.a.Option,{value:"7"},"\u94f6\u8054\u652f\u4ed8"),i.a.createElement(zt.a.Option,{value:"8"},"\u7f51\u94f6\u652f\u4ed8"),i.a.createElement(zt.a.Option,{value:"9"},"\u5feb\u6377\u652f\u4ed8")),"\xa0 \xa0",i.a.createElement(ft,{onClick:function(){e.inputValue=e.input.input.value,e.getUsers(1,e.state.pageSize)},size:"default"},i.a.createElement(w.a,{type:"search"})),"\xa0 \xa0"),i.a.createElement("div",{style:{marginTop:10}},i.a.createElement(ft,{onClick:this.onSearchData,size:"default"},i.a.createElement(w.a,{type:"search"}),"\u73a9\u5bb6\u6389\u5355\u67e5\u8be2"))),extra:i.a.createElement("span",null,i.a.createElement(ft,{style:{float:"right"},onClick:function(){return window.location.reload()},icon:"reload",size:"default"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(ft,{size:"default",style:{float:"right"},onClick:this.download,icon:"download"}))},i.a.createElement(Dt.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:1900,y:"60vh"}}),i.a.createElement(n.a,{title:"\u73a9\u5bb6\u8c03\u5355\u67e5\u8be2",visible:this.state.isQueryShow,onCancel:function(){e.setState({isQueryShow:!1})},footer:null,width:"70%"},i.a.createElement(na,null)),i.a.createElement(n.a,{title:"\u7f16\u8f91",visible:this.state.isEditShow,onCancel:function(){e.setState({isEditShow:!1})},footer:null,width:"50%"},i.a.createElement("div",null,i.a.createElement("div",null,"\u7528\u6237ID\uff1a",this.state.editUser_id),i.a.createElement("br",null),i.a.createElement("div",null,"\u91d1\u989d\uff1a",this.state.editMount),i.a.createElement("br",null),i.a.createElement("div",null,"\u624b\u52a8\u5230\u8d26\u590d\u5ba1\uff1a",i.a.createElement(f.a,{type:"primary"},"\u901a\u8fc7")," ",i.a.createElement(f.a,{type:"primary",onClick:this.editRefused},"\u62d2\u7edd")))))}}]),t}(r.Component),ia=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.editDataRecord?a.props.editDataRecord.id:"",t){e.next=15;break}if(a.props.isEdit){e.next=8;break}return e.next=5,Me(n);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Ge(n,r);case 10:e.t0=e.sent;case 11:0===(i=e.t0).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg),e.next=16;break;case 15:g.a.error("\u63d0\u4ea4\u5931\u8d25");case 16:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.editDataRecord,n=t.isEdit;return i.a.createElement(_.a,{labelCol:{span:7},wrapperCol:{span:17},onSubmit:this.handleSubmit},i.a.createElement(_.a.Item,{label:"\u652f\u4ed8\u540d\u79f0"},e("name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.name:""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u6240\u5c5e\u6e20\u9053ID"},e("channel_id",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.channel_id:""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u652f\u4ed8\u540d\u79f0"},e("nick_name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.nick_name:""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u72b6\u6001"},e("status",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?parseInt(a.status):1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u5f00\u542f"),i.a.createElement(Yt.a,{value:0},"\u5173\u95ed")))),i.a.createElement(_.a.Item,{label:"\u652f\u4ed8\u65b9\u5f0f"},e("pay_type",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u652f\u4ed8\u65b9\u5f0f!"}],initialValue:n&&a.pay_type})(i.a.createElement(zt.a,{style:{width:" 40%"},placeholder:"\u9009\u62e9\u652f\u4ed8\u65b9\u5f0f"},i.a.createElement(zt.a.Option,{value:"7"},"\u652f\u4ed8\u5b9dH5"),i.a.createElement(zt.a.Option,{value:"8"},"\u652f\u4ed8\u5b9d\u626b\u7801"),i.a.createElement(zt.a.Option,{value:"2"},"\u5feb\u6377\u652f\u4ed8"),i.a.createElement(zt.a.Option,{value:"4"},"\u5fae\u4fe1H5"),i.a.createElement(zt.a.Option,{value:"5"},"\u5fae\u4fe1\u626b\u7801"),i.a.createElement(zt.a.Option,{value:"1"},"\u7f51\u94f6\u652f\u4ed8"),i.a.createElement(zt.a.Option,{value:"13"},"\u94f6\u8054\u626b\u7801"),i.a.createElement(zt.a.Option,{value:"17"},"\u8f6c\u8d26\u94f6\u884c\u5361")))),i.a.createElement(_.a.Item,{label:"\u652f\u4ed8\u9650\u989d\u6700\u5c0f\u9762\u503c"},e("min_amount",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.min_amount:""})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement(_.a.Item,{label:"\u652f\u4ed8\u9650\u989d\u6700\u5927\u9762\u503c"},e("max_amount",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.max_amount:""})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement(_.a.Item,{label:"\u56fa\u5b9a\u9762\u503c"},e("span_amount",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}],initialValue:n&&a.span_amount})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u5355\u7b14\u95f4\u9694"},e("seed",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}],initialValue:n&&a.seed})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u73a9\u5bb6\u627f\u62c5\u8d39\u7387%"},e("rate",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n&&a.rate})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u663e\u793a\u6392\u5e8f"},e("sort",{initialValue:n?a.sort:"0"})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(r.Component),ca=_.a.create()(ia),la=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(1,20,a.state.inputParam);case 2:0===(t=e.sent).status?a.setState({data:t.data,count:parseInt(t.count)}):g.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)})),a.addData=function(){a.setState({isAddDataShow:!0})},a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refreshPage=function(){a.setState({data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1}),a.getUsers(1,20)},a.initColumns=function(){return[{title:"ID",dataIndex:"id",width:80},{title:"\u652f\u4ed8\u540d\u79f0",dataIndex:"name",width:120},{title:"\u6e20\u9053\u6635\u79f0",dataIndex:"nick_name",width:100},{title:"\u5355\u7b14-\u6700\u5c0f\u9650\u989d",dataIndex:"min_amount",width:120},{title:"\u5355\u7b14-\u6700\u5927\u9650\u989d",dataIndex:"max_amount",width:120},{title:"\u5355\u7b14\u95f4\u9694",dataIndex:"seed",width:100},{title:"\u73a9\u5bb6\u627f\u62c5\u7684\u8d39\u7387%",dataIndex:"rate",width:150},{title:"\u56fa\u5b9a\u9762\u503c",dataIndex:"span_amount",width:250},{title:"\u652f\u4ed8\u65b9\u5f0f",dataIndex:"pay_type",width:100,render:function(e,t,a){var n;switch(e){case"7":n="\u652f\u4ed8\u5b9dH5";break;case"8":n="\u652f\u4ed8\u5b9d\u626b\u7801";break;case"2":n="\u5feb\u6377\u652f\u4ed8";break;case"4":n="\u5fae\u4fe1H5";break;case"5":n="\u5fae\u4fe1\u626b\u7801";break;case"1":n="\u7f51\u94f6\u652f\u4ed8";break;case"13":n="\u94f6\u8054\u626b\u7801";break;case"17":n="\u8f6c\u8d26\u94f6\u884c\u5361";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u72b6\u6001",dataIndex:"status",width:80,render:function(e,t,a){return i.a.createElement("span",null,"1"===e?"\u5f00\u542f":"\u5173\u95ed")}},{title:"\u663e\u793a\u987a\u5e8f",width:100,dataIndex:"sort"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:200,render:Tt},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updated_at",width:200,render:Tt},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"))}}]},a.state={data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("span",null,i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u652f\u4ed8\u540d\u79f0",style:{width:150},value:this.state.inputParam,onChange:function(t){return e.setState({inputParam:t.target.value})}}),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.onSearchData},i.a.createElement(w.a,{type:"search"})),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.addData},i.a.createElement(w.a,{type:"user-add"}),"\u6dfb\u52a0")),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()}},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1900,y:"60vh"}}),i.a.createElement(n.a,{title:"\u6dfb\u52a0\u89d2\u8272",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},i.a.createElement(ca,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:this.refreshPage})),this.state.isEditDataShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},i.a.createElement(ca,{isEdit:!0,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(r.Component),sa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.editDataRecord?a.props.editDataRecord.id:"",t){e.next=15;break}if(a.props.isEdit){e.next=8;break}return e.next=5,qe(n);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,qe(n,r);case 10:e.t0=e.sent;case 11:0===(i=e.t0).status?(g.a.success("\u63d0\u4ea4\u6210\u529f:"+i.msg),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg),e.next=16;break;case 15:g.a.error("\u63d0\u4ea4\u5931\u8d25");case 16:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.editDataRecord,n=t.isEdit;return i.a.createElement(_.a,{labelCol:{span:7},wrapperCol:{span:17},onSubmit:this.handleSubmit},i.a.createElement(_.a.Item,{label:"\u5f00\u6237\u4eba"},e("card_name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.card_name:""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u94f6\u884c\u540d\u79f0"},e("bank_name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?a.bank_name:""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u5361\u53f7"},e("card_num",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"},{min:15,max:20,message:"\u8bf7\u8f93\u516515-20\u4f4d\u6b63\u786e\u5361\u53f7"}],initialValue:n?a.card_num:""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u7528\u9014"},e("type",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?parseInt(a.type):1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u6536\u6b3e\u5361"),i.a.createElement(Yt.a,{value:0},"\u51fa\u6b3e\u5361")))),i.a.createElement(_.a.Item,{label:"\u72b6\u6001"},e("status",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:n?parseInt(a.status):2})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u7a7a\u95f2"),i.a.createElement(Yt.a,{value:2},"\u4f7f\u7528\u4e2d"),i.a.createElement(Yt.a,{value:3},"\u505c\u7528")))),i.a.createElement(_.a.Item,{label:"\u652f\u4ed8\u5bc6\u7801"},e("pay_password",{})(i.a.createElement(E.a,{placeholder:"\u51fa\u6b3e\u5361\u65f6\u5fc5\u586b",style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u67e5\u8be2\u5bc6\u7801"},e("query_password",{})(i.a.createElement(E.a,{placeholder:"\u51fa\u6b3e\u5361\u65f6\u5fc5\u586b",style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"U\u76fe\u5bc6\u7801"},e("u_code",{})(i.a.createElement(E.a,{placeholder:"\u51fa\u6b3e\u5361\u65f6\u5fc5\u586b",style:{width:"60%"}}))),i.a.createElement(_.a.Item,{wrapperCol:{offset:18}},i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(r.Component),oa=_.a.create()(sa),ua=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ke(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error("\u7f51\u7edc\u95ee\u9898:"+r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addData=function(){a.setState({isAddDataShow:!0})},a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.delete=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(t.id);case 2:0===(n=e.sent).status?(g.a.success(n.msg),a.refreshPage(1,20)):g.a.error("\u7f51\u7edc\u95ee\u9898:"+n.msg);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refreshPage=function(){a.setState({data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1}),a.getUsers(1,20)},a.initColumns=function(){return[{title:"ID",dataIndex:"id",width:50},{title:"\u5361\u4f7f\u7528\u7c7b\u578b",dataIndex:"type",width:100,render:function(e,t,a){return i.a.createElement("span",null,"1"===e?"\u6536\u6b3e\u5361":"\u51fa\u6b3e\u5361")}},{title:"\u94f6\u884c\u5361\u53f7",dataIndex:"card_num",width:200},{title:"\u5f00\u6237\u4eba\u59d3\u540d",dataIndex:"card_name",width:100,render:function(e,t){return i.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bank_name",width:100},{title:"\u72b6\u6001",dataIndex:"status",width:100,render:function(e,t,a){return i.a.createElement("span",null,"1"===e?"\u7a7a\u95f2":"2"===e?"\u4f7f\u7528\u4e2d":"\u505c\u7528")}},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updated_at",width:200,render:Tt},{title:"\u64cd\u4f5c",dataIndex:"",width:150,render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),i.a.createElement(jt.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417",onConfirm:function(){return a.delete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},i.a.createElement(ft,null,"\u5220\u9664")))}}]},a.state={data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("span",null,i.a.createElement(ft,{onClick:this.addData},i.a.createElement(w.a,{type:"user-add"}),"\u6dfb\u52a0")),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()}},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1e3,y:"60vh"}}),i.a.createElement(n.a,{title:"\u6dfb\u52a0\u89d2\u8272",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},i.a.createElement(oa,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:this.refreshPage})),this.state.isEditDataShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},i.a.createElement(oa,{isEdit:!0,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(r.Component),da=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(t,n,a.state.start_time,a.state.end_time,a.order_status,a.inputKey,a.inputValue);case 2:r=e.sent,a.setState({data:r.data,count:parseInt(r.count)});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.download=function(){Fe(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:280},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:200},{title:"\u4ee3\u5145ID",dataIndex:"replace_id",width:100},{title:"\u4ee3\u5145\u6635\u79f0",dataIndex:"replace_name",width:100},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u8ba2\u5355\u72b6\u6001",dataIndex:"status",width:130,render:function(e,t,a){var n;switch(e){case"1":n="\u672a\u652f\u4ed8";break;case"2":n="\u5df2\u8fc7\u671f";break;case"3":n="\u5df2\u5206\u914d";break;case"4":n="\u5df2\u64a4\u9500";break;case"5":n="\u5df2\u652f\u4ed8";break;case"6":n="\u5df2\u5b8c\u6210";break;case"7":n="\u8865\u5355\u521d\u5ba1\u901a\u8fc7";break;case"8":n="\u521d\u5ba1\u62d2\u7edd";break;case"9":n="\u8865\u5355\u590d\u5ba1\u901a\u8fc7";break;case"10":n="\u590d\u5ba1\u62d2\u7edd";break;case"11":n="\u5145\u503c\u5931\u8d25";break;case"12":n="\u5ba2\u670d\u62d2\u7edd";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:150,render:Tt,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",render:function(e,t,a){return"0"!==e&&e?Tt(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}}]},a.handleChange=a.handleChange.bind(Object(pt.a)(a)),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",type:"14",paramKey:"",inputParam:"",user_id:"",order_id:""},a.inputKey="",a.inputValue="",a.order_status="",a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(Lt,{handleValue:function(t){e.setState({start_time:t[0],end_time:t[1]})}}),"\xa0 \xa0",i.a.createElement(zt.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:120},onSelect:function(t){return e.inputKey=t}},i.a.createElement(zt.a.Option,{value:"order_id"},"\u8ba2\u5355id"),i.a.createElement(zt.a.Option,{value:"user_id"},"user_id")),"\xa0 \xa0",i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},ref:function(t){return e.input=t}}),"\xa0 \xa0",i.a.createElement(zt.a,{defaultValue:"",style:{width:100},onSelect:function(t){return e.order_status=t}},i.a.createElement(zt.a.Option,{value:""},"\u72b6\u6001"),i.a.createElement(zt.a.Option,{value:"0"},"\u672a\u6210\u529f"),i.a.createElement(zt.a.Option,{value:"1"},"\u5df2\u5206\u914d"),i.a.createElement(zt.a.Option,{value:"4"},"\u5df2\u64a4\u9500"),i.a.createElement(zt.a.Option,{value:"6"},"\u5df2\u5b8c\u6210"),i.a.createElement(zt.a.Option,{value:"7"},"\u521d\u5ba1\u901a\u8fc7"),i.a.createElement(zt.a.Option,{value:"8"},"\u521d\u5ba1\u62d2\u7edd"),i.a.createElement(zt.a.Option,{value:"9"},"\u590d\u5ba1\u901a\u8fc7"),i.a.createElement(zt.a.Option,{value:"10"},"\u590d\u5ba1\u62d2\u7edd")),"\xa0 \xa0",i.a.createElement(ft,{onClick:function(){e.inputValue=e.input.input.value,e.getUsers(1,e.state.pageSize)}},i.a.createElement(w.a,{type:"search"})),"\xa0 \xa0")),extra:i.a.createElement("span",null,i.a.createElement(f.a,{style:{float:"right"},onClick:function(){return window.location.reload()},icon:"reload"}),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(f.a,{onClick:this.download,icon:"download"},"\u4e0b\u8f7d\u5217\u8868"))},i.a.createElement(Dt.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:1500,y:"60vh"}}))}}]),t}(r.Component),ma=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:parseInt(r.count)}):g.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"ID",dataIndex:"id"},{title:"\u6e20\u9053\u540d",dataIndex:"name"},{title:"\u5546\u6237\u53f7",dataIndex:"member_id"}]},a.expandedRowRender=function(e,t,n,r){var c=[{title:"\u652f\u4ed8\u65b9\u5f0f\u540d\u79f0",dataIndex:"pay_name",width:200},{title:"\u6240\u5c5e\u652f\u4ed8\u6e20\u9053",dataIndex:"channel_name",width:200},{title:"pay_code",dataIndex:"pay_code",width:200},{title:"\u64cd\u4f5c",dataIndex:"action",render:function(e,t,n){return i.a.createElement(f.a,{onClick:function(){return a.edit(t)}},"\u4fee\u6539pay_code")}}];return i.a.createElement(Dt.a,{columns:c,dataSource:a.state.childData,pagination:!1})},a.onExpandRow=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],!t){e.next=10;break}return r.push(n.id),a.setState({expandedRowKeys:r}),e.next=6,Je(n.id);case 6:0===(i=e.sent).status?(i.data.forEach(function(e,t){e.key=t}),a.setState({childData:i.data})):(g.a.error("\u7f51\u7edc\u95ee\u9898"),a.setState({childData:[]})),e.next=11;break;case 10:a.setState({expandedRowKeys:[]});case 11:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.edit=function(e){console.log(e.pay_code),a.setState({recordId:e.id,inputParam:e.pay_code,isEditDataShow:!0})},a.handleEditData=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Be(a.state.recordId,a.state.inputParam);case 2:0===(t=e.sent).status?(g.a.success(t.msg),a.setState({isEditDataShow:!1,expandedRowKeys:[]})):g.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)})),a.state={data:[],childData:[],expandedRowKeys:[],count:0,pageSize:20,inputParam:"",isEditDataShow:!1,recordId:""},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{extra:i.a.createElement("span",null,i.a.createElement(f.a,{style:{float:"right"},onClick:function(){return window.location.reload()},icon:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,size:"middle",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),expandedRowRender:this.expandedRowRender,expandRowByClick:!0,onExpand:this.onExpandRow,expandedRowKeys:this.state.expandedRowKeys,pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}}}),i.a.createElement(n.a,{title:"\u4fee\u6539",visible:this.state.isEditDataShow,onOk:this.handleEditData,onCancel:function(){e.setState({isEditDataShow:!1})}},i.a.createElement("span",null,"pay_code:"),i.a.createElement(E.a,{type:"text",value:this.state.inputParam,onChange:function(t){return e.setState({inputParam:t.target.value})}})))}}]),t}(r.Component),pa=(a(129),a(93)),ha=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getPackageList=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:0===(t=e.sent).status&&(n=[],t.data.forEach(function(e){n.push({label:e.name,value:e.id})}),a.setState({options:n}));case 4:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),r=a.props.editDataRecord?a.props.editDataRecord._id.$oid:"",t){e.next=20;break}if(n.packageList.forEach(function(e){n["group["+e+"]"]=e}),n.start_time=n.start_time.format("YYYY-MM-DD HH:mm:ss"),n.end_time=n.end_time.format("YYYY-MM-DD HH:mm:ss"),delete n.packageList,a.props.isEdit){e.next=13;break}return e.next=10,ie(n);case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,ce(n,r);case 15:e.t0=e.sent;case 16:0===(i=e.t0).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg),e.next=21;break;case 20:g.a.error("\u63d0\u4ea4\u5931\u8d25");case 21:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.checkboxOnChange=function(e){a.setState({checkedList:e})},a.state={options:[],checkedList:a.props.isEdit?a.props.editDataRecord.package_ids:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getPackageList()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.editDataRecord,r=a.isEdit;return i.a.createElement(_.a,{labelCol:{span:5},onSubmit:this.handleSubmit},i.a.createElement(_.a.Item,{label:"\u5f00\u5173"},t("is_open",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:r?parseInt(n.is_open):1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u5f00\u542f"),i.a.createElement(Yt.a,{value:0},"\u5173\u95ed")))),i.a.createElement(_.a.Item,{label:"\u6807\u9898"},t("title",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:r?n.title:""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u54c1\u724c"},t("packageList",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u54c1\u724c!"}],initialValue:r&&n.package_ids})(i.a.createElement(Qt.a.Group,{options:this.state.options,onChange:function(t){return e.checkboxOnChange(t)}}))),i.a.createElement(_.a.Item,{label:"\u516c\u544a\u7c7b\u578b"},t("type",{rules:[{required:!0}],initialValue:r?parseInt(n.type):1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u6d3b\u52a8"),i.a.createElement(Yt.a,{value:2},"\u516c\u544a")))),i.a.createElement(_.a.Item,{label:"\u662f\u5426\u8dd1\u9a6c\u706f"},t("is_slider",{rules:[{required:!0}],initialValue:r?parseInt(n.type):1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u662f"),i.a.createElement(Yt.a,{value:0},"\u5426")))),i.a.createElement(_.a.Item,{label:"\u6392\u5e8f"},t("sort",{rules:[{required:!0}],initialValue:r&&n.sort})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u5185\u5bb9"},t("words",{rules:[{required:!0}],initialValue:r?n.words:""})(i.a.createElement(E.a.TextArea,{autosize:{minRows:2,maxRows:6},style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u5f00\u59cb\u65e5\u671f"},t("start_time",{rules:[{required:!0}],initialValue:r&&Pt()(1e3*n.start_time)})(i.a.createElement(Kt.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}))),i.a.createElement(_.a.Item,{label:"\u622a\u6b62\u65e5\u671f"},t("end_time",{rules:[{required:!0}],initialValue:r&&Pt()(1e3*n.end_time)})(i.a.createElement(Kt.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(r.Component),fa=_.a.create()(ha),Ea=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.addData=function(){a.setState({isAddDataShow:!0})},a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onDelete=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t._id.$oid);case 2:0===(n=e.sent).status?(g.a.success("\u5220\u9664\u6210\u529f"),a.refreshPage()):g.a.error("\u51fa\u9519\u4e86\uff1a"+n.msg);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refreshPage=function(){a.setState({data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1}),a.getUsers(1,20)},a.initColumns=function(){return[{title:"\u6807\u9898",dataIndex:"title"},{title:"\u54c1\u724c",dataIndex:"package_ids",render:function(e,t){return i.a.createElement("span",null,e.join(","))}},{title:"\u4ee3\u7406",dataIndex:"proxy_user_id"},{title:"\u516c\u544a\u7c7b\u578b",dataIndex:"type",render:function(e,t){return i.a.createElement("span",null,"1"===e||1===e?"\u6d3b\u52a8":"\u516c\u544a")}},{title:"\u662f\u5426\u8dd1\u9a6c\u706f",dataIndex:"is_slider",render:function(e,t){return i.a.createElement("span",null,"1"===e?"\u662f":"\u5426")}},{title:"\u516c\u544a\u5185\u5bb9",dataIndex:"words",render:function(e,t){return i.a.createElement(pa.a,{content:e,trigger:"click",overlayStyle:{width:"30%"}},i.a.createElement("div",{style:{width:"100px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},e))},onCell:function(e,t){return{onClick:function(e){},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"start_time",render:Tt},{title:"\u622a\u6b62\u65f6\u95f4",dataIndex:"end_time",render:Tt},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",render:Tt},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(f.a,{type:"primary",onClick:function(){return a.edit(t)},size:"small"},"\u7f16\u8f91"),"\xa0\xa0\xa0",i.a.createElement(jt.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return a.onDelete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},i.a.createElement(f.a,{type:"danger",size:"small"},"\u5220\u9664")))}}]},a.state={data:[],count:0,pageSize:20,inputParam:"",isAddDataShow:!1,isEditDataShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("span",null,i.a.createElement(ft,{onClick:this.addData,size:"default"},"\u6dfb\u52a0")),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()},size:"default"},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e){return e._id.$oid},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:2e3}}),i.a.createElement(n.a,{title:"\u65b0\u589e\u516c\u544a",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},i.a.createElement(fa,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:this.refreshPage})),this.state.isEditDataShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},i.a.createElement(fa,{isEdit:!0,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(r.Component),wa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getPackageList=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:0===(t=e.sent).status&&(n=[],t.data.forEach(function(e){n.push({label:e.name,value:e.id})}),a.setState({options:n}));case 4:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.props.editDataRecord?a.props.editDataRecord.user_id:"",t){e.next=17;break}if(n.package_ids.forEach(function(e){n["group["+e+"]"]=e}),delete n.package_ids,a.props.isEdit){e.next=10;break}return e.next=7,oe(n,"add");case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,oe(n,"edit",r);case 12:e.t0=e.sent;case 13:0===(i=e.t0).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg),e.next=18;break;case 17:g.a.error("\u63d0\u4ea4\u5931\u8d25");case 18:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.checkboxOnChange=function(e){a.setState({checkedList:e})},a.state={options:[],checkedList:a.props.isEdit?a.props.editDataRecord.package_ids.split(",").map(Number):[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getPackageList()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.editDataRecord,r=a.isEdit;return i.a.createElement(_.a,{labelCol:{span:5},onSubmit:this.handleSubmit},i.a.createElement(_.a.Item,{label:"\u8d26\u53f7"},t("user_id",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:r?parseInt(n.user_id):""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u6635\u79f0"},t("nick_name",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:r?n.nick_name:""})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,{label:"\u6388\u6743\u54c1\u724c"},t("package_ids",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u54c1\u724c!"}],initialValue:r&&n.package_ids.split(",").map(Number)})(i.a.createElement(Qt.a.Group,{options:this.state.options,onChange:function(t){return e.checkboxOnChange(t)}}))),i.a.createElement(_.a.Item,{label:"\u662f\u5426\u663e\u793a"},t("status",{rules:[{required:!0}],initialValue:r?parseInt(n.status):1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u662f"),i.a.createElement(Yt.a,{value:0},"\u5426")))),i.a.createElement(_.a.Item,{label:"\u663e\u793a\u6392\u5e8f"},t("sort",{rules:[{required:!0}],initialValue:r&&n.sort})(i.a.createElement(E.a,{style:{width:"60%"}}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(r.Component),ga=_.a.create()(wa),ba=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(1,20,a.input.input.value);case 2:0===(t=e.sent).status&&a.setState({data:t.data,count:parseInt(t.count)});case 4:case"end":return e.stop()}},e)})),a.addData=function(){a.setState({isAddDataShow:!0})},a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditDataShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onDelete=function(){var e=Object(k.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,e.next=3,oe({user_id:n},"del");case 3:0===(r=e.sent).status?(g.a.success("\u5220\u9664\u6210\u529f"),a.refreshPage()):g.a.error("\u51fa\u9519\u4e86\uff1a"+r.msg);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refreshPage=function(){a.setState({data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1}),a.getUsers(1,20),a.input.handleReset()},a.initColumns=function(){return[{title:"\u8d26\u53f7",dataIndex:"user_id",width:150},{title:"\u6635\u79f0",dataIndex:"nick_name",width:150},{title:"\u54c1\u724cID",dataIndex:"package_ids",width:100},{title:"\u662f\u5426\u663e\u793a",dataIndex:"status",width:100,render:function(e,t){return 1===e?"\u662f":"\u5426"}},{title:"\u6392\u5e8f",dataIndex:"sort",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",width:200,render:function(e,t){return i.a.createElement("span",null,Tt(t.create_time/1e3))}},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"update_time",width:200,render:function(e,t){return i.a.createElement("span",null,Tt(t.create_time/1e3))}},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(f.a,{type:"primary",onClick:function(){return a.edit(t)},size:"small"},"\u7f16\u8f91"),"\xa0\xa0\xa0",i.a.createElement(jt.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return a.onDelete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},i.a.createElement(f.a,{type:"danger",size:"small"},"\u5220\u9664")))}}]},a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("span",null,i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u652f\u4ed8\u540d\u79f0",style:{width:150},ref:function(t){return e.input=t}}),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.onSearchData,size:"default"},i.a.createElement(w.a,{type:"search"})),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.addData,size:"default"},i.a.createElement(w.a,{type:"user-add"}),"\u6dfb\u52a0")),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()},size:"default"},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:"user_id",dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})},onShowSizeChange:function(t,a){e.getUsers(t,a)}},scroll:{x:1200,y:"60vh"}}),i.a.createElement(n.a,{title:"\u65b0\u589e",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},i.a.createElement(ga,{cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:this.refreshPage})),this.state.isEditDataShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},i.a.createElement(ga,{isEdit:!0,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(r.Component),va=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){return"check"===a.props.action?[{title:"\u5ba1\u6838\u4eba",dataIndex:"review_name"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"review_at",render:Tt}]:"risk"===a.props.action?[{title:"user_id",dataIndex:"id"},{title:"\u4ea7\u751f\u6765\u6e90",dataIndex:"pay_account_name"},{title:"\u4f59\u989d(\u53d8\u52a8\u524d)",dataIndex:"total_balance"},{title:"\u53d8\u52a8\u91d1\u989d",dataIndex:"final_pay",sorter:function(e,t){return e.total_balance-t.total_balance}},{title:"\u7a0e\u6536",dataIndex:"tax"},{title:"\u4f59\u989d(\u53d8\u52a8\u540e)",dataIndex:"total_final_balance"},{title:"\u5907\u6ce8",dataIndex:"pay_reason"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"}]:[{title:"\u5907\u6ce8\u4eba",dataIndex:"remark_name"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u5907\u6ce8\u65f6\u95f4",dataIndex:"created_at",render:Tt}]},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.detailRecord.data;return console.log(e),i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:e,columns:this.initColumns(),size:"small"})}}]),t}(r.Component),ka=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t,n,3);case 2:r=e.sent,a.setState({data:r.data,count:parseInt(r.count)});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(1,20,3,a.state);case 2:t=e.sent,a.setState({data:t.data,count:parseInt(t.count)});case 4:case"end":return e.stop()}},e)})),a.download=function(){We(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:300},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:100},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u7533\u8bf7\u8d39\u7387",dataIndex:"handling_fee",width:100},{title:"\u5b9e\u9645\u8d39\u7387",dataIndex:"gold",width:100},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u5151\u6362\u65b9\u5f0f",dataIndex:"order_type",width:100},{title:"\u5151\u6362\u8d26\u53f7",dataIndex:"pay_account",width:200},{title:"\u8d26\u53f7\u540d\u79f0",dataIndex:"pay_name",width:100},{title:"\u72b6\u6001",dataIndex:"status",width:100,render:function(e,t,a){var n;switch(e){case"1":n="\u5f85\u5ba1\u6838";break;case"2":n="\u5904\u7406\u4e2d";break;case"3":n="\u5df2\u63d0\u4ea4";break;case"4":n="\u5df2\u6210\u529f";break;case"5":n="\u5df2\u5931\u8d25";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:150,render:Tt,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",width:150,render:function(e,t,a){return"0"!==e&&e?Tt(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}},{title:"\u98ce\u63a7",dataIndex:"",width:200,render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.getDetail(e,"risk")}},"\u98ce\u63a7"),i.a.createElement(ft,null,"\u6e38\u620f\u6570\u636e"))}},{title:"\u5ba1\u6838\u8be6\u60c5",dataIndex:"",width:100,render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.getDetail(e,"check")}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8\u5185\u5bb9",dataIndex:"",render:function(e){return i.a.createElement("span",null,i.a.createElement(pa.a,{content:e.user_remark,title:e.user_id+"\u7528\u6237\u5907\u6ce8",trigger:"click"},i.a.createElement(ft,null,"\u7528\u6237\u5907\u6ce8")),i.a.createElement(ft,{onClick:function(){return a.getDetail(e,"operatorRemark")}},"\u8fd0\u8425\u5907\u6ce8"))}}]},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({start_time:n,end_time:r})},a.getDetail=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.action=n,a.detailRecord={data:[],count:0,id:t.user_id},"risk"!==n){e.next=8;break}return e.next=5,K(1,20,t.user_id);case 5:e.t0=e.sent,e.next=18;break;case 8:if("check"!==n){e.next=14;break}return e.next=11,Ye(1,20,t.order_id);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,He(1,20,t.order_id);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:0===(r=e.t0).status&&(a.detailRecord.data=r.data,a.detailRecord.count=r.count),a.setState({isDetailShow:!0});case 21:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleChange=a.handleChange.bind(Object(pt.a)(a)),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",order_status:"",type:"",filed:"",inputParam:"",user_id:"",order_id:"",isBindInfoShow:!1},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(zt.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:150},onSelect:function(t){return e.setState({filed:t})}},i.a.createElement(zt.a.Option,{value:"order_id"},"\u8ba2\u5355id"),i.a.createElement(zt.a.Option,{value:"user_id"},"user_id"),i.a.createElement(zt.a.Option,{value:"create_time"},"\u521b\u5efa\u65f6\u95f4"),i.a.createElement(zt.a.Option,{value:"arrival_time"},"\u5230\u8d26\u65f6\u95f4")),"\xa0 \xa0",i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},value:this.state.inputParam,onChange:this.handleChange}),"\xa0 \xa0",i.a.createElement(Lt,{handleValue:function(t){e.setState({start_time:t[0],end_time:t[1]})}}),"\xa0 \xa0",i.a.createElement(zt.a,{defaultValue:"",style:{width:150},onSelect:function(t){return e.setState({order_status:t})}},i.a.createElement(zt.a.Option,{value:""},"\u8ba2\u5355\u72b6\u6001"),i.a.createElement(zt.a.Option,{value:"1"},"\u5f85\u5ba1\u6838"),i.a.createElement(zt.a.Option,{value:"2"},"\u5904\u7406\u4e2d"),i.a.createElement(zt.a.Option,{value:"3"},"\u5df2\u63d0\u4ea4"),i.a.createElement(zt.a.Option,{value:"4"},"\u5df2\u6210\u529f"),i.a.createElement(zt.a.Option,{value:"5"},"\u5df2\u5931\u8d25")),"\xa0 \xa0",i.a.createElement(zt.a,{defaultValue:"",style:{width:150},onSelect:function(t){return e.setState({type:t})}},i.a.createElement(zt.a.Option,{value:""},"\u5151\u6362\u65b9\u5f0f"),i.a.createElement(zt.a.Option,{value:"1"},"alipay"),i.a.createElement(zt.a.Option,{value:"2"},"bank")),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.onSearchData,size:"default"},i.a.createElement(w.a,{type:"search"}))),extra:i.a.createElement("span",null,i.a.createElement(ft,{style:{float:"right"},onClick:function(){window.location.reload()},icon:"reload",size:"default"}))},i.a.createElement(Dt.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:2400,y:"60vh"}}),i.a.createElement(n.a,{title:"check"===this.action?"\u5ba1\u6838\u4fe1\u606f":"risk"===this.action?"\u8d44\u91d1\u660e\u7ec6":"\u8fd0\u8425\u5907\u6ce8",visible:this.state.isDetailShow,onCancel:function(){e.setState({isDetailShow:!1})},footer:null,width:"70%"},i.a.createElement(va,{detailRecord:this.detailRecord,action:this.action})))}}]),t}(r.Component),_a=(a(505),a(259)),ya=a(254),xa=(a(507),a(508),a(509),a(510),a(511),a(512),i.a.Component,{lineNumbers:!0,mode:{name:"javascript",json:!0},theme:"rubyblue"}),Sa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=JSON.stringify([JSON.parse(this.props.conf_val)],null,2),t=this.props.onChange;return i.a.createElement("div",{className:"json-editor"},i.a.createElement(ya.UnControlled,{value:e,onChange:function(e,a,n){return t(JSON.stringify(JSON.parse(n)[0]))},options:xa}))}}]),t}(r.Component),Ia=_.a.create()(function(e){var t=e.form.getFieldDecorator,a=e.record;return i.a.createElement(_.a,{labelCol:{span:3},labelAlign:"left",onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(){var t=Object(k.a)(v.a.mark(function t(n,r){var i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(r),n){t.next=7;break}return"edit"===e.action&&(r.id=a.id),t.next=5,Ee(r,e.action);case 5:0===(i=t.sent).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"),e.finished(),e.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg);case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}},i.a.createElement(_.a.Item,{label:"\u914d\u7f6e\u540d"},t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u914d\u7f6e\u540d"}],initialValue:"add"===e.action?"":e.record.name})(i.a.createElement(E.a,{style:{width:"50%"}}))),i.a.createElement(_.a.Item,{label:"\u914d\u7f6eKey"},t("conf_key",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u914d\u7f6eKey"}],initialValue:"add"===e.action?"":e.record.conf_key})(i.a.createElement(E.a,{style:{width:"50%"}}))),i.a.createElement(_.a.Item,{label:"\u914d\u7f6eVal"},t("conf_val",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u914d\u7f6eVal"}]})("add"===e.action?i.a.createElement(E.a,{style:{width:"50%"}}):i.a.createElement(Sa,{conf_val:e.record.conf_val}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u63d0\u4ea4")))}),Oa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"ID",dataIndex:"id"},{title:"\u914d\u7f6e\u540d",dataIndex:"name"},{title:"\u914d\u7f6eKey",dataIndex:"conf_key"},{title:"\u914d\u7f6e\u503c",dataIndex:"conf_val",width:150},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"created_at",render:Tt},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(f.a,{type:"primary",onClick:function(){return a.edit(t)},size:"small"},"\u7f16\u8f91"),"\xa0\xa0\xa0",i.a.createElement(jt.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return a.onDelete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},i.a.createElement(f.a,{type:"danger",size:"small"},"\u5220\u9664")))}}]},a.onSearch=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.input.input.value,e.next=3,fe(1,20,t);case 3:n=e.sent,a.setState({data:n.data,count:n.count});case 5:case"end":return e.stop()}},e)})),a.onDelete=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee({id:t.id},"del");case 2:0===(n=e.sent).status?(g.a.success("\u5220\u9664\u6210\u529f:"+n.msg),a.getInitialData(a.state.page,a.state.pageSize)):g.a.error("\u51fa\u9519\u4e86\uff1a"+n.msg);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onAdd=Object(k.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="add",a.setState({isEditFormShow:!0});case 2:case"end":return e.stop()}},e)})),a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="edit",a.editDataRecord=t,a.setState({isEditFormShow:!0});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,page:1,pageSize:20,isEditFormShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(E.a,{style:{width:120},placeholder:"\u8bf7\u8f93\u5165\u914d\u7f6eKey",ref:function(t){e.input=t}}),"\xa0\xa0\xa0",i.a.createElement(ft,{size:"default",type:"primary",onClick:this.onSearch,icon:"search"}),"\xa0\xa0\xa0",i.a.createElement(ft,{type:"primary",onClick:this.onAdd,size:"default"},"\u6dfb\u52a0")),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()},size:"default"},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.setState({page:t}),e.getInitialData(t,a)},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.getInitialData(t,a)}}}),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"add"===this.action?"\u6dfb\u52a0\u914d\u7f6e":"\u7f16\u8f91\u914d\u7f6e",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null,width:"50%"},i.a.createElement(Ia,{finished:function(){e.getInitialData(e.state.page,e.state.pageSize),e.setState({isEditFormShow:!1})},record:this.editDataRecord,action:this.action})))}}]),t}(r.Component),Ca=_.a.create()(function(e){var t=e.form.getFieldDecorator,a=e.record,n=JSON.parse(a.params);return i.a.createElement("div",null,i.a.createElement("span",null,"ID:",n.user_id," \u8d44\u91d1\u53d8\u52a8\uff1a",n.amount," \u590d\u5ba1","review"===e.action?"\u5907\u6ce8":"\u62d2\u7edd"),i.a.createElement(_.a,{labelCol:{span:4},labelAlign:"left",onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(){var t=Object(k.a)(v.a.mark(function t(n,r){var i,c;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}return i={"data[id]":a.id,"data[params]":a.params,"data[status]":2},"review"===e.action&&(i["data[pay_reason]"]=r.reason,i["data[status]"]=1),t.next=5,ge(i);case 5:0===(c=t.sent).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"+c.msg),e.finished(),e.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+c.msg);case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}},i.a.createElement(_.a.Item,{style:{display:"review"===e.action?"block":"none"}},t("reason",{initialValue:n.reason})(i.a.createElement(E.a.TextArea,{autosize:{minRows:5,maxRows:10}}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))}),Da=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"\u4efb\u52a1ID",dataIndex:"id"},{title:"\u4efb\u52a1\u4fe1\u606f",dataIndex:"params",render:function(e,t){return i.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u4efb\u52a1\u6765\u6e90",dataIndex:"task_type",render:function(e,t,a){return i.a.createElement("span",null,0===e?"\u7528\u6237\u5217\u8868\u8d44\u91d1\u53d8\u52a8":"\u4ee3\u7406\u914d\u7f6e\u5217\u8868\u8d44\u91d1\u53d8\u52a8")}},{title:"\u521b\u5efa\u4eba\u6635\u79f0",dataIndex:"operator_nick",width:150},{title:"\u590d\u5ba1\u4eba\u6635\u79f0",dataIndex:"review_nick"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at"},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updated_at"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e,t,n){var r;switch(e){case 0:r=i.a.createElement("div",null,i.a.createElement(ft,{size:"small",onClick:function(){return a.review(t)}},"\u590d\u5ba1"),i.a.createElement(ft,{size:"small",type:"danger",onClick:function(){return a.refuse(t)}},"\u62d2\u7edd"));break;case 1:r=i.a.createElement(ft,{size:"small"},"\u5df2\u590d\u5ba1");break;case 2:r=i.a.createElement(ft,{size:"small",type:"danger"},"\u590d\u5ba1\u62d2\u7edd")}return r}}]},a.onSearch=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={end_time:a.start_time||"",start_time:a.start_time||"",status:a.status||"",operator_nick:a.input.input.value||""},e.next=3,we(a.state.page,a.state.pageSize,t);case 3:n=e.sent,a.setState({data:n.data,count:n.count});case 5:case"end":return e.stop()}},e)})),a.review=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="review",a.editDataRecord=t,a.setState({isEditFormShow:!0});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refuse=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="refuse",a.editDataRecord=t,a.setState({isEditFormShow:!0});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,page:1,pageSize:20,isEditFormShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(Lt,{handleValue:function(t){e.start_time=t[0],e.end_time=t[1]}}),"\xa0\xa0\xa0",i.a.createElement(zt.a,{placeholder:"\u4efb\u52a1\u72b6\u6001",style:{width:150},onChange:function(t){return e.status=t}},i.a.createElement(zt.a.Option,{value:"0"},"\u5f85\u64cd\u4f5c"),i.a.createElement(zt.a.Option,{value:"1"},"\u5df2\u590d\u5ba1"),i.a.createElement(zt.a.Option,{value:"2"},"\u590d\u5ba1\u62d2\u7edd")),"\xa0\xa0\xa0",i.a.createElement(E.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165\u521b\u5efa\u4eba\u6635\u79f0",ref:function(t){e.input=t}}),"\xa0\xa0\xa0",i.a.createElement(ft,{type:"primary",onClick:this.onSearch,icon:"search"})),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()}},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.setState({page:t}),e.getInitialData(t,a)},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.getInitialData(t,a)}},scroll:{x:1800}}),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"review"===this.action?"\u590d\u5ba1":"\u62d2\u7edd",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null},i.a.createElement(Ca,{finished:function(){e.getInitialData(e.state.page,e.state.pageSize),e.setState({isEditFormShow:!1})},record:this.editDataRecord,action:this.action})))}}]),t}(r.Component),ja=function(e){var t=e.record;var a=[{title:"\u8d26\u53f7\u7c7b\u578b",dataIndex:"type",render:function(e,t,a){var n;switch(e){case 1:n="\u5fae\u4fe1";break;case 2:n="alipay";break;case 3:n="\u94f6\u884c\u5361";break;case 4:n="\u82b1\u5457";break;case 5:n="\u4fe1\u7528\u5361";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u8d26\u6237\u540d",dataIndex:"account_name"},{title:"\u8d26\u53f7",dataIndex:"account_num"},{title:"\u5f00\u6237\u884c",dataIndex:"bank_name"},{title:"\u6536\u6b3e\u7801",dataIndex:"pay_url",render:function(e,t,a){if(e&&e.length>0)return i.a.createElement(ft,{onClick:function(){return function(e){n.a.success({title:"\u6536\u6b3e\u7801",content:i.a.createElement("div",null,i.a.createElement(_t.a,{value:e.pay_url})),width:250})}(t)}},"\u9884\u89c8")}},{title:"\u72b6\u6001[\u6536\u6b3e\u7801\u5ba1\u6838]",dataIndex:"status"},{title:"\u7ed1\u5b9a\u65f6\u95f4",dataIndex:"created_at"},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updated_at"}];return i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:t,columns:a,size:"small"})},za=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:parseInt(r.count)}):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"user_id",dataIndex:"user_id"},{title:"\u6635\u79f0",dataIndex:"user_name"},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick"},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id"},{title:"\u8d44\u91d1\u5bc6\u7801\u64cd\u4f5c",dataIndex:"",render:function(e,t){return i.a.createElement(ft,{size:"small",onClick:function(){a.resetPassword(t)}},"\u91cd\u7f6e")}},{title:"\u7ed1\u5b9a\u8d26\u53f7",dataIndex:"",render:function(e,t){return i.a.createElement(ft,{size:"small",onClick:function(){a.checkAccount(t)}},"\u67e5\u770b")}}]},a.onSearch=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={user_id:a.input.input.value},e.next=3,be(a.state.page,a.state.pageSize,t);case 3:n=e.sent,a.setState({data:n.data,count:parseInt(n.count)});case 5:case"end":return e.stop()}},e)})),a.resetPassword=function(){var e=Object(k.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t.user_id);case 2:0===(a=e.sent).status?g.a.success(a.msg):g.a.error(a.msg);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.checkAccount=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t.user_id);case 2:n=e.sent,a.editDataRecord=n.data,0!==n.status&&g.a.error(n.msg),a.setState({isEditFormShow:!0});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,page:1,pageSize:20,isEditFormShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(zt.a,{defaultValue:"user_id",style:{width:150}},i.a.createElement(zt.a.Option,{value:"user_id"},"user_id")),"\xa0\xa0\xa0",i.a.createElement(E.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165user_id",ref:function(t){e.input=t}}),"\xa0\xa0\xa0",i.a.createElement(ft,{type:"primary",onClick:this.onSearch,icon:"search"})),extra:i.a.createElement("span",null,i.a.createElement(ft,{style:{float:"right"},onClick:function(){return window.location.reload()},icon:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.setState({page:t}),e.getInitialData(t,a)},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.getInitialData(t,a)}}}),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"\u7ed1\u5b9a\u6536\u4ed8\u6b3e\u8d26\u6237\u8be6\u60c5",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},width:"60%",footer:null},i.a.createElement(ja,{finished:function(){e.getInitialData(e.state.page,e.state.pageSize),e.setState({isEditFormShow:!1})},record:this.editDataRecord,action:this.action})))}}]),t}(r.Component),Ra=function(e){var t=e.record||[],a=[];switch(e.action){case"detail":a=[{title:"user_id",dataIndex:"user_id"},{title:"\u7533\u8bf7\u6570\u91cf",dataIndex:""},{title:"\u6210\u4ea4\u6570\u91cf",dataIndex:""},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:""}];break;case"check":a=[{title:"\u5ba1\u6838\u4eba",dataIndex:"review_name"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"review_at",render:Tt}];break;case"operatorRemark":a=[{title:"\u5907\u6ce8\u4eba",dataIndex:"remark_name"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u5907\u6ce8\u65f6\u95f4",dataIndex:"created_at",render:Tt}]}return i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:t,columns:a,size:"small"})},Pa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"ID",dataIndex:"id"},{title:"user_id",dataIndex:"user_id"},{title:"\u6635\u79f0",dataIndex:"user_name",width:150},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick"},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id"},{title:"\u5151\u6362\u5355\u4ef7",dataIndex:"exchange_price"},{title:"\u4e0a\u67b6\u91d1\u5e01\u6570",dataIndex:"gold"},{title:"\u4e0a\u67b6\u91d1\u5e01\u4f59\u989d",dataIndex:"last_gold"},{title:"\u6700\u4f4e\u5151\u6362\u989d",dataIndex:"min_gold"},{title:"\u72b6\u6001",dataIndex:"status",render:function(e,t,a){var n;switch(parseInt(e)){case 1:n=i.a.createElement("span",null,i.a.createElement(ft,{size:"small"},"\u521d\u5ba1\u901a\u8fc7"),i.a.createElement(ft,{size:"small"},"\u521d\u5ba1\u62d2\u7edd"));break;case 2:n=i.a.createElement("span",null,i.a.createElement(ft,{size:"small"},"\u590d\u5ba1\u901a\u8fc7"),i.a.createElement(ft,{size:"small"},"\u590d\u5ba1\u62d2\u7edd"));break;case 3:n=i.a.createElement("span",null,"\u4e00\u5ba1\u62d2\u7edd");break;case 4:n=i.a.createElement("span",null,"\u5df2\u4e0a\u67b6");break;case 5:n=i.a.createElement("span",null,"\u4e8c\u5ba1\u62d2\u7edd");break;case 6:n=i.a.createElement("span",null,"\u5df2\u4e0b\u67b6")}return n}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",render:Tt},{title:"\u98ce\u63a7",dataIndex:"",render:function(e,t,a){return i.a.createElement("span",null,i.a.createElement(ft,{size:"small",type:"dashed"},"\u98ce\u63a7"),i.a.createElement(ft,{size:"small",type:"dashed"},"\u6e38\u620f\u6570\u636e"))}},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(ft,{size:"small",onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),i.a.createElement(ft,{size:"small",onClick:function(){return a.checkDetail(t,"detail")}},"\u8be6\u60c5"))}},{title:"\u5ba1\u6838\u8be6\u60c5",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(ft,{size:"small",type:"default",onClick:function(){return a.checkDetail(t,"check")}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8\u5185\u5bb9",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(ft,{size:"small",type:"default",onClick:function(){return a.checkDetail(t,"userRemark")}},"\u7528\u6237\u5907\u6ce8"),i.a.createElement(ft,{size:"small",type:"default",onClick:function(){return a.checkDetail(t,"operatorRemark")}},"\u8fd0\u8425\u5907\u6ce8"))}}]},a.onSearch=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(x.a)({end_time:a.start_time||"",start_time:a.start_time||"",status:a.status||""},a.filed,a.input.input.value),e.next=3,_e(a.state.page,a.state.pageSize,t);case 3:n=e.sent,a.setState({data:n.data,count:n.count});case 5:case"end":return e.stop()}},e)})),a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.a.info({title:"\u7f16\u8f91",okText:"\u5173\u95ed",okType:"default",width:"50%",content:i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("span",null,"\u5907\u6ce8[\u7528\u6237]\xa0\xa0\xa0"),i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u5185\u5bb9\uff0c\u7528\u6237\u67e5\u770b\u4f7f\u7528",ref:function(e){a.userRemarkInput=e}}),i.a.createElement("span",null,"\xa0\xa0\xa0"),i.a.createElement(ft,{onClick:function(){a.editComfirm(t,1)}},"\u786e\u5b9a")),i.a.createElement("br",null),i.a.createElement("div",null,i.a.createElement("span",null,"\u5907\u6ce8[\u8fd0\u8425]\xa0\xa0\xa0"),i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u5185\u5bb9\uff0c\u8fd0\u8425\u4eba\u5458\u8bb0\u5f55\u4f7f\u7528",ref:function(e){a.operatorRemarkInput=e}}),i.a.createElement("span",null,"\xa0\xa0\xa0"),i.a.createElement(ft,{onClick:function(){a.editComfirm(t,2)}},"\u786e\u5b9a")))});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.editComfirm=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t.id,temarks:1===n?a.userRemarkInput.input.value:a.operatorRemarkInput.input.value,remark_type:n},2===n&&(r.type=6),e.next=4,ye(r);case 4:0===(i=e.sent).status?g.a.success(i.msg):g.a.error(i.msg);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.checkDetail=function(){var e=Object(k.a)(v.a.mark(function e(t,r){var c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("userRemark"!==r){e.next=4;break}n.a.info({title:"\u8ba2\u5355ID\u4e3a\u3010".concat(t.id,"\u3011\u7684\u7528\u6237\u5907\u6ce8"),content:i.a.createElement("div",null,t.user_remark||"\u65e0"),okText:"\u5173\u95ed"}),e.next=23;break;case 4:e.t0=r,e.next="detail"===e.t0?7:"check"===e.t0?11:"operatorRemark"===e.t0?15:19;break;case 7:return e.next=9,xe(1,100,t.id);case 9:return c=e.sent,e.abrupt("break",20);case 11:return e.next=13,Se(1,100,t.id);case 13:return c=e.sent,e.abrupt("break",20);case 15:return e.next=17,Ie(1,100,t.id);case 17:return c=e.sent,e.abrupt("break",20);case 19:return e.abrupt("break",20);case 20:a.editDataRecord=c.data,a.action=r,a.setState({isEditFormShow:!0});case 23:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.state={data:[],count:0,page:1,pageSize:20,isEditFormShow:!1},a.filed="id",a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(Lt,{handleValue:function(t){e.start_time=t[0],e.end_time=t[1]}}),"\xa0\xa0\xa0",i.a.createElement(zt.a,{defaultValue:"id",style:{width:150},onChange:function(t){return e.filed=t}},i.a.createElement(zt.a.Option,{value:"id"},"ID"),i.a.createElement(zt.a.Option,{value:"user_id"},"user_id"),i.a.createElement(zt.a.Option,{value:"source"},"\u6240\u5c5e\u4ee3\u7406"),i.a.createElement(zt.a.Option,{value:"group"},"\u6240\u5c5e\u54c1\u724c")),"\xa0\xa0\xa0",i.a.createElement(E.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22",ref:function(t){e.input=t}}),"\xa0\xa0\xa0",i.a.createElement(zt.a,{defaultValue:"",style:{width:150},onChange:function(t){return e.status=t}},i.a.createElement(zt.a.Option,{value:""},"\u72b6\u6001"),i.a.createElement(zt.a.Option,{value:"1"},"\u5f85\u521d\u5ba1"),i.a.createElement(zt.a.Option,{value:"2"},"\u521d\u5ba1\u901a\u8fc7"),i.a.createElement(zt.a.Option,{value:"3"},"\u521d\u5ba1\u62d2\u7edd"),i.a.createElement(zt.a.Option,{value:"4"},"\u590d\u5ba1\u901a\u8fc7"),i.a.createElement(zt.a.Option,{value:"5"},"\u590d\u5ba1\u62d2\u7edd"),i.a.createElement(zt.a.Option,{value:"6"},"\u5df2\u4e0b\u67b6")),"\xa0\xa0\xa0",i.a.createElement(ft,{type:"primary",onClick:this.onSearch,icon:"search"})),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()}},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:parseInt(this.state.count),onChange:function(t,a){e.setState({page:t}),e.getInitialData(t,a)},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.getInitialData(t,a)}},scroll:{x:1800}}),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"detail"===this.action?"\u8be6\u60c5":"check"===this.action?"\u5ba1\u6838\u8be6\u60c5":"\u8fd0\u8425\u5907\u6ce8\u8be6\u60c5",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null},i.a.createElement(Ra,{finished:function(){e.getInitialData(e.state.page,e.state.pageSize),e.setState({isEditFormShow:!1})},record:this.editDataRecord,action:this.action})))}}]),t}(r.Component),Ta=_.a.create()(function(e){var t=e.form.getFieldDecorator,a=e.record,n=JSON.parse(a.params);return i.a.createElement("div",null,i.a.createElement("span",null,"ID:",n.user_id," \u8d44\u91d1\u53d8\u52a8\uff1a",n.amount," \u590d\u5ba1","review"===e.action?"\u5907\u6ce8":"\u62d2\u7edd"),i.a.createElement(_.a,{labelCol:{span:4},labelAlign:"left",onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(){var t=Object(k.a)(v.a.mark(function t(n,r){var i,c;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}return i={"data[id]":a.id,"data[params]":a.params,"data[status]":2},"review"===e.action&&(i["data[pay_reason]"]=r.reason,i["data[status]"]=1),t.next=5,ge(i);case 5:0===(c=t.sent).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"+c.msg),e.finished(),e.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+c.msg);case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}},i.a.createElement(_.a.Item,{style:{display:"review"===e.action?"block":"none"}},t("reason",{initialValue:n.reason})(i.a.createElement(E.a.TextArea,{autosize:{minRows:5,maxRows:10}}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))}),Va=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe(t,n);case 2:0===(r=e.sent).status&&a.setState({data:r.data,count:r.count});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:""},{title:"ID",dataIndex:""},{title:"\u4e70\u5bb6ID",dataIndex:""},{title:"\u4e70\u5bb6\u6635\u79f0",dataIndex:""},{title:"\u5356\u5bb6ID",dataIndex:""},{title:"\u5356\u5bb6\u6635\u79f0",dataIndex:""},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:""},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:""},{title:"\u5151\u6362\u5355\u4ef7",dataIndex:""},{title:"\u652f\u4ed8\u91d1\u989d",dataIndex:""},{title:"\u5151\u6362\u91d1\u989d",dataIndex:""},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:""},{title:"\u72b6\u6001",dataIndex:""},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:""},{title:"\u5b8c\u6210\u65f6\u95f4",dataIndex:""}]},a.review=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="review",a.editDataRecord=t,a.setState({isEditFormShow:!0});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.refuse=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="refuse",a.editDataRecord=t,a.setState({isEditFormShow:!0});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,page:1,pageSize:20,isEditFormShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(Lt,{handleValue:function(t){e.start_time=t[0],e.end_time=t[1]}}),"\xa0\xa0\xa0",i.a.createElement(zt.a,{placeholder:"\u4efb\u52a1\u72b6\u6001",style:{width:150},onChange:function(t){return e.status=t}},i.a.createElement(zt.a.Option,{value:"0"},"\u5f85\u64cd\u4f5c"),i.a.createElement(zt.a.Option,{value:"1"},"\u5df2\u590d\u5ba1"),i.a.createElement(zt.a.Option,{value:"2"},"\u590d\u5ba1\u62d2\u7edd")),"\xa0\xa0\xa0",i.a.createElement(E.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165\u521b\u5efa\u4eba\u6635\u79f0",ref:function(t){e.input=t}}),"\xa0\xa0\xa0",i.a.createElement(ft,{type:"primary",onClick:this.onSearch,icon:"search"})),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()}},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.setState({page:t}),e.getInitialData(t,a)},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.getInitialData(t,a)}},scroll:{x:1800}}),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"review"===this.action?"\u590d\u5ba1":"\u62d2\u7edd",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null},i.a.createElement(Ta,{finished:function(){e.getInitialData(e.state.page,e.state.pageSize),e.setState({isEditFormShow:!1})},record:this.editDataRecord,action:this.action})))}}]),t}(r.Component),Fa=_.a.create()(function(e){var t=e.form.getFieldDecorator,a=e.record,n=e.action;return i.a.createElement("div",null,i.a.createElement(_.a,{labelCol:{span:6},labelAlign:"left",onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(){var t=Object(k.a)(v.a.mark(function t(r,i){var c;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=6;break}return"edit"===n&&(i.id=a.id),t.next=4,De(i);case 4:0===(c=t.sent).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"+c.msg),e.finished(),e.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+c.msg);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}},i.a.createElement(_.a.Item,{label:"\u6d3b\u52a8\u540d\u79f0"},t("name",{rules:[{required:!0}],initialValue:"add"===n?"":a.name})(i.a.createElement(E.a,{style:{width:"40%"}}))),i.a.createElement(_.a.Item,{label:"\u54c1\u724c"},t("package_id",{rules:[{required:!0}],initialValue:"add"===n?"":a.package_id})(i.a.createElement(zt.a,{style:{width:"40%"}},i.a.createElement(zt.a.Option,{value:"1"},"\u535a\u81e3\u5a31\u4e50"),i.a.createElement(zt.a.Option,{value:"2"},"\u673a\u5668\u4eba\u9996\u9886")))),i.a.createElement(_.a.Item,{label:"\u72b6\u6001"},t("is_close",{rules:[{required:!0}],initialValue:"add"===n?"":a.is_close})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:"1"},"\u5173\u95ed"),i.a.createElement(Yt.a,{value:"2"},"\u5f00\u542f")))),i.a.createElement(_.a.Item,{label:"\u9700\u8981\u7ed1\u5b9a\u7535\u8bdd"},t("need_mobile",{rules:[{required:!0}],initialValue:"add"===n?"":a.need_mobile})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:"1"},"\u662f"),i.a.createElement(Yt.a,{value:"2"},"\u5426")))),i.a.createElement(_.a.Item,{label:"\u9700\u8981\u7ed1\u5b9a\u94f6\u884c\u5361"},t("need_bankcard",{rules:[{required:!0}],initialValue:"add"===n?"":a.need_bankcard})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:"1"},"\u662f"),i.a.createElement(Yt.a,{value:"2"},"\u5426")))),i.a.createElement(_.a.Item,{label:"\u6392\u5e8f"},t("order_by",{rules:[{required:!0}],initialValue:"add"===n?"":a.order_by})(i.a.createElement(E.a,{style:{width:"40%"}}))),i.a.createElement(_.a.Item,{label:"\u6d3b\u52a8\u5185\u5bb9"},t("info",{rules:[{required:!0}],initialValue:"add"===n?"":a.info})(i.a.createElement(E.a.TextArea,{style:{width:"70%"},autosize:{maxRows:10}}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))}),Ua=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:parseInt(r.count)}):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"ID",dataIndex:"id"},{title:"\u6d3b\u52a8\u540d\u79f0",dataIndex:"name"},{title:"\u54c1\u724cID",dataIndex:"package_id"},{title:"\u6d3b\u52a8\u72b6\u6001",dataIndex:"is_close",render:function(e){return i.a.createElement("span",null,"1"===e?"\u5173\u95ed":"\u5f00\u542f")}},{title:"\u9700\u8981\u7ed1\u5b9a\u7535\u8bdd",dataIndex:"need_mobile",render:function(e){return i.a.createElement("span",null,"1"===e?"\u662f":"\u5426")}},{title:"\u9700\u8981\u7ed1\u5b9a\u94f6\u884c\u5361",dataIndex:"need_bankcard",render:function(e){return i.a.createElement("span",null,"1"===e?"\u662f":"\u5426")}},{title:"\u6d3b\u52a8\u5185\u5bb9",dataIndex:"info",width:200},{title:"\u6392\u5e8f",dataIndex:"order_by"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",render:Tt},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t){return i.a.createElement("span",null,i.a.createElement(ft,{size:"small",onClick:function(){a.edit(t)}},"\u7f16\u8f91"),i.a.createElement(jt.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return a.delete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},i.a.createElement(ft,{type:"danger",size:"small"},"\u5220\u9664")))}}]},a.onSearch=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={user_id:a.input.input.value},e.next=3,Ce(a.state.page,a.state.pageSize,t);case 3:n=e.sent,a.setState({data:n.data,count:parseInt(n.count)});case 5:case"end":return e.stop()}},e)})),a.add=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="add",a.setState({isEditFormShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="edit",a.editDataRecord=t,a.setState({isEditFormShow:!0});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.delete=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t.id);case 2:0===(n=e.sent).status?g.a.success(n.msg):g.a.error(n.msg),a.getInitialData(1,20);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,page:1,pageSize:20,isEditFormShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(Lt,{handleValue:function(t){e.setState({start_time:t[0],end_time:t[1]})}}),"\xa0\xa0\xa0",i.a.createElement(E.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165\u6d3b\u52a8id",ref:function(t){e.input=t}}),"\xa0\xa0\xa0",i.a.createElement(ft,{onClick:this.onSearch,icon:"search",size:"default"}),"\xa0\xa0\xa0",i.a.createElement(ft,{onClick:this.add,size:"default"},"\u6dfb\u52a0")),extra:i.a.createElement("span",null,i.a.createElement(ft,{style:{float:"right"},onClick:function(){return window.location.reload()},icon:"reload",size:"default"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.setState({page:t}),e.getInitialData(t,a)},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.getInitialData(t,a)}}}),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"add"===this.action?"\u6dfb\u52a0":"\u7f16\u8f91",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null},i.a.createElement(Fa,{finished:function(){e.getInitialData(e.state.page,e.state.pageSize),e.setState({isEditFormShow:!1})},record:this.editDataRecord,action:this.action})))}}]),t}(r.Component),Ma=_.a.create()(function(e){var t=e.form.getFieldDecorator,a=e.record,n=e.action;return i.a.createElement("div",null,i.a.createElement(_.a,{labelCol:{span:6},labelAlign:"left",onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(){var t=Object(k.a)(v.a.mark(function t(r,i){var c;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=6;break}return"edit"===n&&(i.id=a.id),t.next=4,De(i);case 4:0===(c=t.sent).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"+c.msg),e.finished(),e.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+c.msg);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}},i.a.createElement(_.a.Item,{label:"\u6d3b\u52a8\u540d\u79f0"},t("name",{rules:[{required:!0}],initialValue:"add"===n?"":a.name})(i.a.createElement(E.a,{style:{width:"40%"}}))),i.a.createElement(_.a.Item,{label:"\u54c1\u724c"},t("package_id",{rules:[{required:!0}],initialValue:"add"===n?"":a.package_id})(i.a.createElement(zt.a,{style:{width:"40%"}},i.a.createElement(zt.a.Option,{value:"1"},"\u535a\u81e3\u5a31\u4e50"),i.a.createElement(zt.a.Option,{value:"2"},"\u673a\u5668\u4eba\u9996\u9886")))),i.a.createElement(_.a.Item,{label:"\u72b6\u6001"},t("is_close",{rules:[{required:!0}],initialValue:"add"===n?"":a.is_close})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:"1"},"\u5173\u95ed"),i.a.createElement(Yt.a,{value:"2"},"\u5f00\u542f")))),i.a.createElement(_.a.Item,{label:"\u9700\u8981\u7ed1\u5b9a\u7535\u8bdd"},t("need_mobile",{rules:[{required:!0}],initialValue:"add"===n?"":a.need_mobile})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:"1"},"\u662f"),i.a.createElement(Yt.a,{value:"2"},"\u5426")))),i.a.createElement(_.a.Item,{label:"\u9700\u8981\u7ed1\u5b9a\u94f6\u884c\u5361"},t("need_bankcard",{rules:[{required:!0}],initialValue:"add"===n?"":a.need_bankcard})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:"1"},"\u662f"),i.a.createElement(Yt.a,{value:"2"},"\u5426")))),i.a.createElement(_.a.Item,{label:"\u6392\u5e8f"},t("order_by",{rules:[{required:!0}],initialValue:"add"===n?"":a.order_by})(i.a.createElement(E.a,{style:{width:"40%"}}))),i.a.createElement(_.a.Item,{label:"\u6d3b\u52a8\u5185\u5bb9"},t("info",{rules:[{required:!0}],initialValue:"add"===n?"":a.info})(i.a.createElement(E.a.TextArea,{style:{width:"70%"},autosize:{maxRows:10}}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit"},"\u786e\u5b9a"))))}),Ga=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ze(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:parseInt(r.count)}):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"ID",dataIndex:"id"},{title:"\u9886\u53d6\u4ebaID",dataIndex:""},{title:"\u9886\u53d6\u4eba\u6635\u79f0",dataIndex:""},{title:"\u4ee3\u7406ID",dataIndex:"",render:function(e){return i.a.createElement("span",null,"1"===e?"\u5173\u95ed":"\u5f00\u542f")}},{title:"code",dataIndex:"",render:function(e){return i.a.createElement("span",null,"1"===e?"\u662f":"\u5426")}},{title:"\u9886\u53d6\u91d1\u989d",dataIndex:"",render:function(e){return i.a.createElement("span",null,"1"===e?"\u662f":"\u5426")}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"",width:200},{title:"\u9886\u53d6\u65f6\u95f4",dataIndex:"order_by"},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t){return i.a.createElement("span",null,i.a.createElement(ft,{size:"small",onClick:function(){a.edit(t)}},"\u7f16\u8f91"),i.a.createElement(jt.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return a.delete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},i.a.createElement(ft,{type:"danger",size:"small"},"\u5220\u9664")))}}]},a.onSearch=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={user_id:a.input.input.value},e.next=3,ze(a.state.page,a.state.pageSize,t);case 3:n=e.sent,a.setState({data:n.data,count:parseInt(n.count)});case 5:case"end":return e.stop()}},e)})),a.add=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="add",a.setState({isEditFormShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.action="edit",a.editDataRecord=t,a.setState({isEditFormShow:!0});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.delete=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t.id);case 2:0===(n=e.sent).status?g.a.success(n.msg):g.a.error(n.msg),a.getInitialData(1,20);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,page:1,pageSize:20,isEditFormShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(Lt,{handleValue:function(t){e.setState({start_time:t[0],end_time:t[1]})}}),"\xa0\xa0\xa0",i.a.createElement(E.a,{style:{width:150},placeholder:"\u8bf7\u8f93\u5165\u6d3b\u52a8id",ref:function(t){e.input=t}}),"\xa0\xa0\xa0",i.a.createElement(ft,{onClick:this.onSearch,icon:"search",size:"default"}),"\xa0\xa0\xa0",i.a.createElement(ft,{onClick:this.add,size:"default"},"\u6dfb\u52a0")),extra:i.a.createElement("span",null,i.a.createElement(ft,{style:{float:"right"},onClick:function(){return window.location.reload()},icon:"reload",size:"default"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.setState({page:t}),e.getInitialData(t,a)},onShowSizeChange:function(t,a){e.setState({pageSize:a}),e.getInitialData(t,a)}}}),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"add"===this.action?"\u6dfb\u52a0":"\u7f16\u8f91",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null},i.a.createElement(Ma,{finished:function(){e.getInitialData(e.state.page,e.state.pageSize),e.setState({isEditFormShow:!1})},record:this.editDataRecord,action:this.action})))}}]),t}(r.Component),Ka=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){return"check"===a.props.action?[{title:"\u5ba1\u6838\u4eba",dataIndex:"review_name"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"review_at",render:Tt}]:"risk"===a.props.action?[{title:"user_id",dataIndex:"id"},{title:"\u4ea7\u751f\u6765\u6e90",dataIndex:"pay_account_name"},{title:"\u4f59\u989d(\u53d8\u52a8\u524d)",dataIndex:"total_balance"},{title:"\u53d8\u52a8\u91d1\u989d",dataIndex:"final_pay",sorter:function(e,t){return e.total_balance-t.total_balance}},{title:"\u7a0e\u6536",dataIndex:"tax"},{title:"\u4f59\u989d(\u53d8\u52a8\u540e)",dataIndex:"total_final_balance"},{title:"\u5907\u6ce8",dataIndex:"pay_reason"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"}]:[{title:"\u5907\u6ce8\u4eba",dataIndex:"remark_name"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u5907\u6ce8\u65f6\u95f4",dataIndex:"created_at",render:Tt}]},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.detailRecord.data;return console.log(e),i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:e,columns:this.initColumns(),size:"small"})}}]),t}(r.Component),qa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).orderStatus=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et(t.order_id,t.user_id,a.state.review_status);case 2:n=e.sent,g.a.info(n.msg);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={review_status:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.record;return i.a.createElement("div",null,i.a.createElement("div",null,"\u8ba2\u5355ID:",t.order_id),i.a.createElement("div",null,"\u7528\u6237ID:",t.user_id),i.a.createElement("div",null,"\u91d1\u989d:",t.amount),i.a.createElement("div",null,"\u8ba2\u5355\u72b6\u6001:",i.a.createElement(Yt.a.Group,{onChange:function(t){e.setState({review_status:t.target.value})},value:this.state.review_status},i.a.createElement(Yt.a,{value:2},"\u5df2\u6210\u529f"),i.a.createElement(Yt.a,{value:3},"\u5df2\u5931\u8d25")),i.a.createElement(f.a,{onClick:function(){return e.orderStatus(t)}},"\u786e\u8ba4")))}}]),t}(r.Component),Aa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t,n,1,a.state);case 2:r=e.sent,a.setState({data:r.data,count:parseInt(r.count)});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(1,20,1,a.state);case 2:t=e.sent,a.setState({data:t.data,count:parseInt(t.count)});case 4:case"end":return e.stop()}},e)})),a.download=function(){We(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:300},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:100},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u7533\u8bf7\u8d39\u7387",dataIndex:"handling_fee",width:100},{title:"\u5b9e\u9645\u8d39\u7387",dataIndex:"gold",width:100},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u5151\u6362\u65b9\u5f0f",dataIndex:"order_type",width:100},{title:"\u88ab\u8d60\u4ebaID",dataIndex:"replace_id",width:100},{title:"\u88ab\u8d60\u4eba\u6635\u79f0",dataIndex:"replace_name",width:100},{title:"\u72b6\u6001",dataIndex:"status",width:100,render:function(e,t,a){var n;switch(e){case"1":n="\u5f85\u5ba1\u6838";break;case"2":n="\u5904\u7406\u4e2d";break;case"3":n="\u5df2\u63d0\u4ea4";break;case"4":n="\u5df2\u6210\u529f";break;case"5":n="\u5df2\u5931\u8d25";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:150,render:Tt,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",width:150,render:function(e,t,a){return"0"!==e&&e?Tt(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}},{title:"\u64cd\u4f5c",dataIndex:"",width:200,render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.edit(e)}},"\u7f16\u8f91"))}},{title:"\u5ba1\u6838\u8be6\u60c5",dataIndex:"",width:100,render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.getDetail(e,"check")}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8\u5185\u5bb9",dataIndex:"",render:function(e){return i.a.createElement("span",null,i.a.createElement(pa.a,{content:e.user_remark,title:e.user_id+"\u7528\u6237\u5907\u6ce8",trigger:"click"},i.a.createElement(ft,null,"\u7528\u6237\u5907\u6ce8")),i.a.createElement(ft,{onClick:function(){return a.getDetail(e,"operatorRemark")}},"\u8fd0\u8425\u5907\u6ce8"))}}]},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({start_time:n,end_time:r})},a.getDetail=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.action=n,a.detailRecord={data:[],count:0,id:t.user_id},"risk"!==n){e.next=8;break}return e.next=5,K(1,20,t.user_id);case 5:e.t0=e.sent,e.next=18;break;case 8:if("check"!==n){e.next=14;break}return e.next=11,Ye(1,20,t.order_id);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,He(1,20,t.order_id);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:0===(r=e.t0).status&&(a.detailRecord.data=r.data,a.detailRecord.count=r.count),a.setState({isDetailShow:!0});case 21:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.edit=function(e){console.log(123),a.editRecord=e,a.setState({isEditFormShow:!0})},a.handleChange=a.handleChange.bind(Object(pt.a)(a)),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",order_status:"",type:5,filed:"",inputParam:"",user_id:"",order_id:"",isBindInfoShow:!1,isEditFormShow:!1},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(zt.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:150},onSelect:function(t){return e.setState({filed:t})}},i.a.createElement(zt.a.Option,{value:"order_id"},"\u8ba2\u5355id"),i.a.createElement(zt.a.Option,{value:"user_id"},"user_id"),i.a.createElement(zt.a.Option,{value:"replace_id"},"\u88ab\u8d60\u4ebaID"),i.a.createElement(zt.a.Option,{value:"create_time"},"\u521b\u5efa\u65f6\u95f4"),i.a.createElement(zt.a.Option,{value:"arrival_time"},"\u5230\u8d26\u65f6\u95f4")),"\xa0 \xa0",i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},value:this.state.inputParam,onChange:this.handleChange}),"\xa0 \xa0",i.a.createElement(Lt,{handleValue:function(t){e.setState({start_time:t[0],end_time:t[1]})}}),"\xa0 \xa0",i.a.createElement(zt.a,{defaultValue:"",style:{width:150},onSelect:function(t){return e.setState({order_status:t})}},i.a.createElement(zt.a.Option,{value:""},"\u8ba2\u5355\u72b6\u6001"),i.a.createElement(zt.a.Option,{value:"1"},"\u5f85\u5ba1\u6838"),i.a.createElement(zt.a.Option,{value:"2"},"\u5904\u7406\u4e2d"),i.a.createElement(zt.a.Option,{value:"3"},"\u5df2\u63d0\u4ea4"),i.a.createElement(zt.a.Option,{value:"4"},"\u5df2\u6210\u529f"),i.a.createElement(zt.a.Option,{value:"5"},"\u5df2\u5931\u8d25")),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.onSearchData,size:"default"},i.a.createElement(w.a,{type:"search"}))),extra:i.a.createElement("span",null,i.a.createElement(ft,{style:{float:"right"},onClick:function(){window.location.reload()},icon:"reload",size:"default"}))},i.a.createElement(Dt.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:2400,y:"60vh"}}),i.a.createElement(n.a,{title:"check"===this.action?"\u5ba1\u6838\u4fe1\u606f":"risk"===this.action?"\u8d44\u91d1\u660e\u7ec6":"\u8fd0\u8425\u5907\u6ce8",visible:this.state.isDetailShow,onCancel:function(){e.setState({isDetailShow:!1})},footer:null,width:"70%"},i.a.createElement(Ka,{detailRecord:this.detailRecord,action:this.action})),this.state.isEditFormShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null,width:"70%"},i.a.createElement(qa,{record:this.editRecord})))}}]),t}(r.Component),Na=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:0===(r=e.sent).status?(a.initialData=r.data,a.setState({data:JSON.parse(r.data.conf_val)})):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){e.preventDefault()},a.state={data:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;this.state.data;return i.a.createElement(Ct.a,{extra:i.a.createElement("span",null,i.a.createElement(f.a,{style:{float:"right"},icon:"reload",onClick:function(){window.location.reload()}}))},i.a.createElement(_.a,{labelCol:{span:4},wrapperCol:{span:20},onSubmit:this.handleSubmit},i.a.createElement(_.a.Item,{label:"\u54c1\u724c"},e("package_id",{initialValue:1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u535a\u81e3\u5a31\u4e50"),i.a.createElement(Yt.a,{value:0},"\u673a\u5668\u4eba\u9996\u9886")))),i.a.createElement(_.a.Item,{label:"\u5f00\u5173"},e("is_close",{initialValue:1})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u542f\u7528"),i.a.createElement(Yt.a,{value:0},"\u505c\u7528")))),i.a.createElement(_.a.Item,{label:"\u8d60\u9001\u533a\u95f4",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("qujian",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:""})(i.a.createElement(E.a,{style:{width:"80%",marginRight:5}})),i.a.createElement("span",null,"-")),i.a.createElement(_.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("bankcard[channel][2][max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:""})(i.a.createElement(E.a,{style:{width:"80%"}}))),i.a.createElement(_.a.Item,{wrapperCol:{offset:4}},i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4"))))}}]),t}(r.Component),La=_.a.create()(Na),Ja=Object(h.g)(La),Ba=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t,n,5);case 2:r=e.sent,a.setState({data:r.data.game_user,count:parseInt(r.count)});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(x.a)({},a.filed,a.input.input.value),e.next=3,tt(1,20,5,t);case 3:n=e.sent,a.setState({data:n.data.game_user,count:parseInt(n.count)});case 5:case"end":return e.stop()}},e)})),a.initColumns=function(){return[{title:"user_id",dataIndex:"id"},{title:"\u6635\u79f0",dataIndex:"game_nick"},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"game_gold"},{title:"\u5b9e\u65f6\u4f59\u989d",dataIndex:"",render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.check(e)}},"\u67e5\u770b"))}}]},a.rowSelection=function(){return{onChange:function(e,t){a.selectedRows=t},getCheckboxProps:function(e){return{}}}},a.check=function(){var e=Object(k.a)(v.a.mark(function e(t){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(t.id);case 2:a=e.sent,g.a.info(a.data[0].game_gold);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.changeGold=Object(k.a)(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.selectedRows&&a.selectedRows[0]?(console.log(a.selectedRows),n.a.confirm({title:"\u6dfb\u52a0\u91d1\u989d\u533a\u95f4",okText:"\u63d0\u4ea4",okType:"primary",width:"30%",onOk:function(){var e=a.state,t=e.minGold,n=e.maxGold;t&&n?t>n?g.a.error("\u8bf7\u786e\u8ba4\u6700\u5927\u503c\u5927\u4e8e\u6700\u5c0f\u503c"):a.handleOk(t,n):g.a.error("\u8bf7\u8f93\u5165\u6709\u6548\u503c")},content:i.a.createElement("div",null,i.a.createElement("div",null,"\u91d1\u989d\u533a\u95f4\uff1a"),i.a.createElement(E.a,{type:"text",style:{width:"40%"},placeholder:"\uffe5\u6700\u5c0f\u503c",onBlur:function(e){return a.setState({minGold:e.target.value})}}),"--",i.a.createElement(E.a,{type:"text",style:{width:"40%"},placeholder:"\uffe5\u6700\u5927\u503c",onBlur:function(e){return a.setState({maxGold:e.target.value})}}))})):g.a.error("user_id\u4e3a\u7a7a\uff0c\u8bf7\u81f3\u5c11\u9009\u62e91\u4f4duser_id");case 1:case"end":return e.stop()}},e)})),a.handleOk=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i,c,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=a.randNum(t,n),i=0;case 2:if(!(i<a.selectedRows.length)){e.next=11;break}return c=a.selectedRows[i].id,e.next=6,at(c,r);case 6:l=e.sent,g.a.info(l.msg);case 8:i++,e.next=2;break;case 11:a.getUsers(1,20);case 12:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.randNum=function(e,t){e=parseInt(e);var a=(t=parseInt(t))-e,n=Math.random();return e+Math.round(n*a)},a.changeNickname=Object(k.a)(v.a.mark(function e(){var t,n,r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.selectedRows||!a.selectedRows[0]){e.next=15;break}t=0;case 2:if(!(t<a.selectedRows.length)){e.next=12;break}return n=a.selectedRows[t].id,r="VIP"+a.randNum(1e5,999999),e.next=7,U(n,r);case 7:i=e.sent,g.a.info(i.msg);case 9:t++,e.next=2;break;case 12:a.getUsers(1,20),e.next=16;break;case 15:g.a.error("user_id\u4e3a\u7a7a\uff0c\u8bf7\u81f3\u5c11\u9009\u62e91\u4f4duser_id");case 16:case"end":return e.stop()}},e)})),a.state={data:[],count:0,minGold:"",maxGold:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(zt.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:150},onSelect:function(t){return e.filed=t}},i.a.createElement(zt.a.Option,{value:"game_nick"},"\u6635\u79f0"),i.a.createElement(zt.a.Option,{value:"user_id"},"user_id")),"\xa0 \xa0",i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},ref:function(t){return e.input=t}})),extra:i.a.createElement("span",null,i.a.createElement(ft,{style:{float:"right"},onClick:function(){window.location.reload()},icon:"reload",size:"default"}))},i.a.createElement(ft,{onClick:this.changeGold},"\u6279\u91cf\u589e\u51cf\u91d1\u5e01"),i.a.createElement(ft,{onClick:this.changeNickname},"\u6279\u91cf\u4fee\u6539\u6635\u79f0"),i.a.createElement("br",null),i.a.createElement(Dt.a,{rowSelection:this.rowSelection(),bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns()}))}}]),t}(r.Component),Qa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){return"check"===a.props.action?[{title:"\u5ba1\u6838\u4eba",dataIndex:"review_name"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"review_at",render:Tt}]:"risk"===a.props.action?[{title:"user_id",dataIndex:"id"},{title:"\u4ea7\u751f\u6765\u6e90",dataIndex:"pay_account_name"},{title:"\u4f59\u989d(\u53d8\u52a8\u524d)",dataIndex:"total_balance"},{title:"\u53d8\u52a8\u91d1\u989d",dataIndex:"final_pay",sorter:function(e,t){return e.total_balance-t.total_balance}},{title:"\u7a0e\u6536",dataIndex:"tax"},{title:"\u4f59\u989d(\u53d8\u52a8\u540e)",dataIndex:"total_final_balance"},{title:"\u5907\u6ce8",dataIndex:"pay_reason"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time"}]:[{title:"\u5907\u6ce8\u4eba",dataIndex:"remark_name"},{title:"\u5185\u5bb9",dataIndex:"content"},{title:"\u5907\u6ce8\u65f6\u95f4",dataIndex:"created_at",render:Tt}]},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.detailRecord.data;return console.log(e),i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:e,columns:this.initColumns(),size:"small"})}}]),t}(r.Component),Ya=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).submitRemark=function(){var e=Object(k.a)(v.a.mark(function e(t,a,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e(t,a,n);case 2:0===(r=e.sent).status?g.a.success("\u64cd\u4f5c\u6210\u529f:"+r.msg):g.a.error("\u64cd\u4f5c\u5931\u8d25:"+r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.editDataRecord;return i.a.createElement("div",null,i.a.createElement("div",null,"\u8ba2\u5355ID:",t.order_id),i.a.createElement("div",null,"\u7528\u6237ID:",t.user_id),i.a.createElement("div",null,"\u91d1\u989d:",t.amount),i.a.createElement("div",null,i.a.createElement("span",null,"\u5907\u6ce8[\u7528\u6237]:"),i.a.createElement(E.a,{type:"text",style:{width:"70%",margin:"0 10px"},placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u5185\u5bb9\uff0c\u7528\u6237\u67e5\u770b\u4f7f\u7528",onBlur:function(t){return e.userRemark=t.target.value}}),i.a.createElement(f.a,{type:"primary",className:"login-form-button",onClick:function(){return e.submitRemark(t.order_id,e.userRemark,1)}},"\u63d0\u4ea4")),i.a.createElement("div",null,i.a.createElement("span",null,"\u5907\u6ce8[\u8fd0\u8425]:"),i.a.createElement(E.a,{type:"text",style:{width:"70%",margin:"0 10px"},placeholder:"\u8bf7\u8f93\u5165\u5907\u6ce8\u5185\u5bb9\uff0c\u8fd0\u8425\u4eba\u5458\u8bb0\u5f55\u4f7f\u7528",onBlur:function(t){return e.operatorRemark=t.target.value}}),i.a.createElement(f.a,{type:"primary",className:"login-form-button",onClick:function(){return e.submitRemark(t.order_id,e.operatorRemark,2)}},"\u63d0\u4ea4")))}}]),t}(r.Component),Ha=Kt.a.RangePicker,Wa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(y.a)({inputParam:""},a.state),e.next=3,Qe(t,n,1,r);case 3:0===(i=e.sent).status?a.setState({data:i.data,count:parseInt(i.count)}):g.a.error("\u7f51\u7edc\u95ee\u9898");case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(y.a)({inputParam:a.input.input.value},a.state),console.log(t),e.next=4,Qe(1,20,1,t);case 4:0===(n=e.sent).status?a.setState({data:n.data,count:parseInt(n.count)}):(a.setState({data:n.data,count:parseInt(n.count)}),g.a.error("\u8bf7\u68c0\u67e5\u8f93\u5165\u7684\u5173\u952e\u8bcd\u6216\u7f51\u7edc"));case 6:case"end":return e.stop()}},e)})),a.download=function(){We(a.state)},a.initColumns=function(){return[{title:"\u8ba2\u5355ID",dataIndex:"order_id",width:300},{title:"user_id",dataIndex:"user_id",width:100},{title:"\u6635\u79f0",dataIndex:"user_name",width:150},{title:"\u4e0b\u5355\u91d1\u989d",dataIndex:"amount",width:100,sorter:function(e,t){return e.amount-t.amount}},{title:"\u5230\u8d26\u91d1\u989d",dataIndex:"arrival_amount",width:100,sorter:function(e,t){return e.arrival_amount-t.arrival_amount}},{title:"\u5151\u6362\u65b9\u5f0f",dataIndex:"order_type",width:100},{title:"\u5151\u6362\u8d26\u53f7",dataIndex:"pay_account",width:200},{title:"\u8d26\u53f7\u540d\u79f0",dataIndex:"pay_name",width:100},{title:"\u72b6\u6001",dataIndex:"status",width:100,render:function(e,t,a){var n;switch(e){case"1":n="\u5f85\u5ba1\u6838";break;case"2":n="\u5904\u7406\u4e2d";break;case"3":n="\u5df2\u63d0\u4ea4";break;case"4":n="\u5df2\u6210\u529f";break;case"5":n="\u5df2\u5931\u8d25";break;default:n=""}return i.a.createElement("span",null,n)}},{title:"\u64cd\u4f5c",dataIndex:"",width:150,render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.edit(e)}},"\u7f16\u8f91"))}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_user_id",width:100},{title:"\u4ee3\u63d0ID",dataIndex:"replace_id",width:100},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:150,render:Tt,sorter:function(e,t){return e.created_at-t.created_at}},{title:"\u5230\u8d26\u65f6\u95f4",dataIndex:"arrival_at",width:150,render:function(e,t,a){return"0"!==e&&e?Tt(e):""},sorter:function(e,t){return e.arrival_at-t.arrival_at}},{title:"\u98ce\u63a7",dataIndex:"",width:180,render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.getDetail(e,"risk")}},"\u98ce\u63a7"),i.a.createElement(ft,null,"\u6e38\u620f\u6570\u636e"))}},{title:"\u5ba1\u6838\u8be6\u60c5",dataIndex:"",width:100,render:function(e){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.getDetail(e,"check")}},"\u67e5\u770b"))}},{title:"\u5907\u6ce8\u5185\u5bb9",dataIndex:"",render:function(e){return i.a.createElement("span",null,i.a.createElement(pa.a,{content:e.user_remark,title:e.user_id+"\u7528\u6237\u5907\u6ce8",trigger:"click"},i.a.createElement(ft,null,"\u7528\u6237\u5907\u6ce8")),i.a.createElement(ft,{onClick:function(){return a.getDetail(e,"operatorRemark")}},"\u8fd0\u8425\u5907\u6ce8"))}}]},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({start_time:n,end_time:r})},a.getDetail=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.action=n,a.detailRecord={data:[],count:0,id:t.user_id},"risk"!==n){e.next=8;break}return e.next=5,K(1,20,t.user_id);case 5:e.t0=e.sent,e.next=18;break;case 8:if("check"!==n){e.next=14;break}return e.next=11,Ye(1,20,t.order_id);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,He(1,20,t.order_id);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:0===(r=e.t0).status&&(a.detailRecord.data=r.data,a.detailRecord.count=r.count),a.setState({isDetailShow:!0});case 21:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({isEditShow:!0}),a.editDataRecord=t;case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,pageSize:20,start_time:"",end_time:"",order_status:"",type:3,filed:"",user_id:"",order_id:"",isBindInfoShow:!1},a.initColumns(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(Gt.b,{locale:At.a},i.a.createElement(Ha,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",i.a.createElement(zt.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:150},onSelect:function(t){return e.setState({filed:t})}},i.a.createElement(zt.a.Option,{value:"order_id"},"\u8ba2\u5355id"),i.a.createElement(zt.a.Option,{value:"user_id"},"user_id"),i.a.createElement(zt.a.Option,{value:"replace_id"},"\u4ee3\u63d0ID"),i.a.createElement(zt.a.Option,{value:"create_time"},"\u521b\u5efa\u65f6\u95f4"),i.a.createElement(zt.a.Option,{value:"arrival_time"},"\u5230\u8d26\u65f6\u95f4")),"\xa0 \xa0",i.a.createElement(E.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:150},ref:function(t){return e.input=t}}),"\xa0 \xa0",i.a.createElement(zt.a,{defaultValue:"",style:{width:150},onSelect:function(t){return e.setState({order_status:t})}},i.a.createElement(zt.a.Option,{value:""},"\u8ba2\u5355\u72b6\u6001"),i.a.createElement(zt.a.Option,{value:"1"},"\u5f85\u5ba1\u6838"),i.a.createElement(zt.a.Option,{value:"2"},"\u5904\u7406\u4e2d"),i.a.createElement(zt.a.Option,{value:"3"},"\u5df2\u63d0\u4ea4"),i.a.createElement(zt.a.Option,{value:"4"},"\u5df2\u6210\u529f"),i.a.createElement(zt.a.Option,{value:"5"},"\u5df2\u5931\u8d25")),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.onSearchData,size:"default"},i.a.createElement(w.a,{type:"search"}))),extra:i.a.createElement("span",null,i.a.createElement(ft,{style:{float:"right"},onClick:function(){window.location.reload()},icon:"reload",size:"default"}))},i.a.createElement(Dt.a,{bordered:!0,size:"small",rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){t&&a&&(e.setState({pageSize:a}),e.getUsers(t,a))},onShowSizeChange:function(t,a){a&&e.getUsers(t,a)}},scroll:{x:2500,y:"60vh"}}),i.a.createElement(n.a,{title:"check"===this.action?"\u5ba1\u6838\u4fe1\u606f":"risk"===this.action?"\u8d44\u91d1\u660e\u7ec6":"\u8fd0\u8425\u5907\u6ce8",visible:this.state.isDetailShow,onCancel:function(){e.setState({isDetailShow:!1})},footer:null,width:"70%"},i.a.createElement(Qa,{detailRecord:this.detailRecord,action:this.action})),this.state.isEditShow&&i.a.createElement(n.a,{title:"\u7f16\u8f91",visible:this.state.isEditShow,onCancel:function(){e.setState({isEditShow:!1})},footer:null,width:"40%"},i.a.createElement(Ya,{editDataRecord:this.editDataRecord})))}}]),t}(r.Component),$a=(a(513),a(196)),Za=(a(515),a(165)),Xa=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getUsers=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze();case 2:0===(r=e.sent).status?(a.initialData=r.data,a.setState({data:JSON.parse(r.data.conf_val)})):g.a.error(r.msg);case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i,c,l,s,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(s in r=a.initialData,i=r.id,c=r.name,l={},n.bankcard.channel.forEach(function(e,t){for(var a in e)l["bankcard[channel][".concat(t,"][").concat(a,"]")]=e[a]}),l["bankcard[is_close]"]=n.bankcard.is_close?"on":"off",l["alipay[is_close]"]=n.alipay.is_close?"on":"off",n.artificial)l["artificial[".concat(s,"]")]=n.artificial[s];if(t){e.next=13;break}return e.next=9,Xe(i,c,l);case 9:0===(o=e.sent).status?(g.a.success("\u63d0\u4ea4\u6210\u529f:"+o.msg),console.log(o),a.getUsers()):g.a.error("\u51fa\u9519\u4e86\uff1a"+o.msg),e.next=14;break;case 13:g.a.error("\u63d0\u4ea4\u5931\u8d25");case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={data:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.data;return i.a.createElement(Ct.a,{extra:i.a.createElement("span",null,i.a.createElement(f.a,{style:{float:"right"},icon:"reload",onClick:function(){window.location.reload()}}))},i.a.createElement(_.a,{labelCol:{span:4},wrapperCol:{span:20},onSubmit:this.handleSubmit},i.a.createElement(_.a.Item,{label:"\u63d0\u6b3e\u652f\u4ed8\u5b9d"},e("alipay[is_close]",{initialValue:!(!t||1!==t.alipay.is_close),valuePropName:"checked"})(i.a.createElement(Za.a,{checkedChildren:"ON",unCheckedChildren:"OFF"}))),i.a.createElement($a.a,null),i.a.createElement(_.a.Item,{label:"\u63d0\u6b3e\u94f6\u884c\u5361"},e("bankcard[is_close]",{initialValue:!(!t||1!==t.bankcard.is_close),valuePropName:"checked"})(i.a.createElement(Za.a,{checkedChildren:"ON",unCheckedChildren:"OFF"}))),i.a.createElement(_.a.Item,{label:"\u53e4\u90fd\u94f6\u884c\u5361\u72b6\u6001"},e("bankcard[channel][2][is_close]",{initialValue:t&&parseInt(t.bankcard.channel[0].is_close)})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u542f\u7528"),i.a.createElement(Yt.a,{value:0},"\u505c\u7528")))),i.a.createElement(_.a.Item,{label:"\u663e\u793a\u540d\u79f0"},e("bankcard[channel][2][channel_name]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[0].channel_name})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement(_.a.Item,{label:"\u63d0\u6b3e\u9650\u989d",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("bankcard[channel][2][min_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[0].min_amount})(i.a.createElement(E.a,{style:{width:"80%",marginRight:5}})),i.a.createElement("span",null,"-")),i.a.createElement(_.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("bankcard[channel][2][max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[0].max_amount})(i.a.createElement(E.a,{style:{width:"80%"}}))),i.a.createElement(_.a.Item,{label:"\u6e20\u9053\u6392\u5e8f"},e("bankcard[channel][2][sort]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[0].sort})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement(_.a.Item,{label:"\u7b2c\u4e09\u65b9\u4ee3\u4ed8\u72b6\u6001"},e("bankcard[channel][3][is_close]",{initialValue:t&&parseInt(t.bankcard.channel[1].is_close)})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u542f\u7528"),i.a.createElement(Yt.a,{value:0},"\u505c\u7528")))),i.a.createElement(_.a.Item,{label:"\u663e\u793a\u540d\u79f0"},e("bankcard[channel][3][channel_name]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[1].channel_name})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement(_.a.Item,{label:"\u63d0\u6b3e\u9650\u989d",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("bankcard[channel][3][min_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[1].min_amount})(i.a.createElement(E.a,{style:{width:"80%",marginRight:5}})),i.a.createElement("span",null,"-")),i.a.createElement(_.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("bankcard[channel][3][max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[1].max_amount})(i.a.createElement(E.a,{style:{width:"80%"}}))),i.a.createElement(_.a.Item,{label:"\u6e20\u9053\u6392\u5e8f"},e("bankcard[channel][3][sort]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[1].sort})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement(_.a.Item,{label:"onepay\u72b6\u6001"},e("bankcard[channel][7][is_close]",{initialValue:t&&parseInt(t.bankcard.channel[2].is_close)})(i.a.createElement(Yt.a.Group,null,i.a.createElement(Yt.a,{value:1},"\u542f\u7528"),i.a.createElement(Yt.a,{value:0},"\u505c\u7528")))),i.a.createElement(_.a.Item,{label:"\u663e\u793a\u540d\u79f0"},e("bankcard[channel][7][channel_name]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[2].channel_name})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement(_.a.Item,{label:"\u63d0\u6b3e\u9650\u989d",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("bankcard[channel][7][min_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[2].min_amount})(i.a.createElement(E.a,{style:{width:"80%",marginRight:5}})),i.a.createElement("span",null,"-")),i.a.createElement(_.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("bankcard[channel][7][max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[2].max_amount})(i.a.createElement(E.a,{style:{width:"80%"}}))),i.a.createElement(_.a.Item,{label:"\u6e20\u9053\u6392\u5e8f"},e("bankcard[channel][7][sort]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.bankcard.channel[2].sort})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement($a.a,null),i.a.createElement(_.a.Item,{label:"\u4eba\u5de5\u5151\u6362"},e("artificial[is_close]",{initialValue:!(!t||1!==t.artificial.is_close),valuePropName:"checked"})(i.a.createElement(Za.a,{checkedChildren:"ON",unCheckedChildren:"OFF"}))),i.a.createElement(_.a.Item,{label:"\u63d0\u6b3e\u9650\u989d",style:{display:"inline-block",width:"25%"},labelCol:{span:9,offset:7},wrapperCol:{span:8}},e("artificial[min_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.artificial.min_amount})(i.a.createElement(E.a,{style:{width:"80%",marginRight:5}})),i.a.createElement("span",null,"-")),i.a.createElement(_.a.Item,{style:{display:"inline-block",width:"25%"},wrapperCol:{span:8}},e("artificial[max_amount]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.artificial.max_amount})(i.a.createElement(E.a,{style:{width:"80%"}}))),i.a.createElement(_.a.Item,{label:"\u8d39\u7387"},e("artificial[rate]",{rules:[{required:!0,message:"\u8be5\u9879\u4e0d\u80fd\u4e3a\u7a7a"}],initialValue:t&&t.artificial.rate})(i.a.createElement(E.a,{style:{width:"30%"}}))),i.a.createElement(_.a.Item,{wrapperCol:{offset:4}},i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4"))))}}]),t}(r.Component),en=_.a.create()(Xa),tn=Object(h.g)(en),an=(a(231),a(97)),nn=(a(232),a(60)),rn=(a(518),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(an.a,{className:"not-found"},i.a.createElement(nn.a,{span:12,className:"left"}),i.a.createElement(nn.a,{span:12,className:"right"},i.a.createElement("h1",null,"404"),i.a.createElement("h2",null,"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"),i.a.createElement("div",null,i.a.createElement(f.a,{type:"primary",onClick:function(){return e.props.history.replace("/home")}},"\u56de\u5230\u9996\u9875"))))}}]),t}(r.Component)),cn=function(e){return i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:e.data,columns:[{title:"\u6e38\u620f",dataIndex:"game_name"},{title:"\u73a9\u5bb6\u603b\u8d62\u989d",dataIndex:"win_statement_total",width:150},{title:"\u73a9\u5bb6\u603b\u8f93\u989d",dataIndex:"lose_statement_total",width:150},{title:"\u73a9\u5bb6\u603b\u6d41\u6c34",dataIndex:"statement_total",width:150},{title:"\u76c8\u4e8f\u6bd4",dataIndex:"statement_ratio",width:150}],size:"small"})},ln=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).initColumns=function(){if("getDateReport"===a.props.action)return[{title:"\u65e5\u671f",dataIndex:"date"},{title:"\u65b0\u589e\u7528\u6237",dataIndex:"regin_user_number"},{title:"\u6d3b\u8dc3\u7528\u6237",dataIndex:"active_user_number"},{title:"\u5b98\u65b9\u9996\u5145\u7528\u6237",dataIndex:"first_pay_user_number"},{title:"\u5b98\u65b9\u9996\u5145\u91d1\u989d",dataIndex:"first_pay_money_total"},{title:"\u5b98\u65b9\u5145\u503c\u7528\u6237",dataIndex:"pay_user_number"},{title:"\u5b98\u65b9\u5145\u503c\u91d1\u989d",dataIndex:"pay_money_total"},{title:"\u4eba\u5de5\u9996\u5145\u7528\u6237",dataIndex:"first_pay_user_number_res"},{title:"\u4eba\u5de5\u9996\u5145\u91d1\u989d",dataIndex:"first_pay_money_total_res"},{title:"\u4eba\u5de5\u5145\u503c\u7528\u6237",dataIndex:"pay_user_number_res"},{title:"\u4eba\u5de5\u5145\u503c\u91d1\u989d",dataIndex:"pay_money_total_res"},{title:"\u5b98\u65b9\u5151\u6362\u7528\u6237",dataIndex:"exchange_user_number"},{title:"\u5b98\u65b9\u5151\u6362\u91d1\u989d",dataIndex:"exchange_money_total"},{title:"\u4eba\u5de5\u5151\u6362\u7528\u6237",dataIndex:"exchange_user_number_res"},{title:"\u4eba\u5de5\u5151\u6362\u91d1\u989d",dataIndex:"exchange_money_total_res"},{title:"\u73a9\u5bb6\u603b\u8d62\u989d",dataIndex:"win_statement_total"},{title:"\u73a9\u5bb6\u603b\u8f93\u989d",dataIndex:"lose_statement_total"},{title:"\u73a9\u5bb6\u603b\u6d41\u6c34",dataIndex:"statement_total"},{title:"\u76c8\u4e8f\u6bd4",dataIndex:"statement_ratio"},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(f.a,{size:"small",onClick:function(){return a.getGameReport(t)}},"\u6e38\u620f"))}}]},a.footerData=function(e){return console.log(e),i.a.createElement("tr",null,i.a.createElement("td",null,"\u5408\u8ba1"),i.a.createElement("td",{style:{width:80}},"regin_user_number"),i.a.createElement("td",null,"regin_user_number"),i.a.createElement("td",null,"regin_user_number"),i.a.createElement("td",null,"regin_user_number"),i.a.createElement("td",null,"regin_user_number"))},a.getGameReport=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(1,20,a.props.package_id,t.date);case 2:n=e.sent,a.props.parse(n),a.setState({date:t.date,isGameReportShow:!0,nextLevelData:n.data});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={date:"",isGameReportShow:!1,nextLevelData:""},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reportData.data;return i.a.createElement("div",null,i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:t,columns:this.initColumns(),size:"small",scroll:{x:2e3}}),i.a.createElement(n.a,{title:this.state.date+"/\u6e38\u620f\u6570\u636e",width:"80%",visible:this.state.isGameReportShow,onCancel:function(){e.setState({isGameReportShow:!1})},footer:null},i.a.createElement(cn,{data:this.state.nextLevelData})))}}]),t}(r.Component),sn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:return r=e.sent,e.next=5,ue(t,n);case 5:i=e.sent,0===r.status&&0===i.status&&a.setState({data:i.data,packageList:r.data});case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.initColumns=function(){return[{title:"\u54c1\u724c",dataIndex:"package_nick"},{title:"\u65b0\u589e\u7528\u6237",dataIndex:"regin_user_number"},{title:"\u6d3b\u8dc3\u7528\u6237",dataIndex:"active_user_number"},{title:"\u5b98\u65b9\u9996\u5145\u7528\u6237",dataIndex:"first_pay_user_number"},{title:"\u5b98\u65b9\u9996\u5145\u91d1\u989d",dataIndex:"first_pay_money_total"},{title:"\u5b98\u65b9\u5145\u503c\u7528\u6237",dataIndex:"pay_user_number"},{title:"\u5b98\u65b9\u5145\u503c\u91d1\u989d",dataIndex:"pay_money_total"},{title:"\u4eba\u5de5\u9996\u5145\u7528\u6237",dataIndex:"first_pay_user_number_res"},{title:"\u4eba\u5de5\u9996\u5145\u91d1\u989d",dataIndex:"first_pay_money_total_res"},{title:"\u4eba\u5de5\u5145\u503c\u7528\u6237",dataIndex:"pay_user_number_res"},{title:"\u4eba\u5de5\u5145\u503c\u91d1\u989d",dataIndex:"pay_money_total_res"},{title:"\u5b98\u65b9\u5151\u6362\u7528\u6237",dataIndex:"exchange_user_number"},{title:"\u5b98\u65b9\u5151\u6362\u91d1\u989d",dataIndex:"exchange_money_total"},{title:"\u4eba\u5de5\u5151\u6362\u7528\u6237",dataIndex:"exchange_user_number_res"},{title:"\u4eba\u5de5\u5151\u6362\u91d1\u989d",dataIndex:"exchange_money_total_res"},{title:"\u73a9\u5bb6\u603b\u8d62\u989d",dataIndex:"win_statement_total"},{title:"\u73a9\u5bb6\u603b\u8f93\u989d",dataIndex:"lose_statement_total"},{title:"\u73a9\u5bb6\u603b\u6d41\u6c34",dataIndex:"statement_total"},{title:"\u76c8\u4e8f\u6bd4",dataIndex:"statement_ratio"},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(ft,{onClick:function(){return a.getDateReport(t)}},"\u65e5\u671f"),i.a.createElement(ft,{onClick:function(){return a.getGameReport(t)}},"\u6e38\u620f"))}}]},a.onSearchData=Object(k.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(1,20,a.package_id,a.startTime,a.endTime);case 2:t=e.sent,n=a.parseData(t),a.setState({data:n.data,count:n.count});case 5:case"end":return e.stop()}},e)})),a.parseData=function(e){console.log("res:",e);var t=0,a=[];return 0===e.status&&e.data&&(e.data.user&&e.data.user.filter(function(e){return e&&e._id}).map(function(e){return e.package_id=parseInt(e._id.package_id),delete e._id}),e.data.order&&(e.data.order.filter(function(e){return e&&e._id}).map(function(e){return e.first_pay_user_number=e.first_pay_user.length,e.pay_user_number=e.pay_user.length,e.first_pay_user_number_res=e.first_pay_user_res.length,e.pay_user_number_res=e.pay_user_res.length,e.exchange_user_number=e.exchange_user.length,e.exchange_user_number_res=e.exchange_user_res.length,e.package_id=parseInt(e._id.package_id),delete e._id}),e.data.user.map(function(t){return Object.assign(t,e.data.order.find(function(e){return e.package_id===t.package_id}))})),e.data.game&&(e.data.game.filter(function(e){return e&&e._id}).map(function(e){return e.statement_ratio=((Math.abs(e.lose_statement_total)-e.win_statement_total)/(e.win_statement_total+Math.abs(e.lose_statement_total))).toFixed(4),e.win_statement_total=Math.round(1e4*e.win_statement_total)/1e4,e.lose_statement_total=Math.round(1e4*e.lose_statement_total)/1e4,e.statement_total=Math.round(1e4*(e.win_statement_total+Math.abs(e.lose_statement_total)))/1e4,e.package_id=parseInt(e._id.package_id),delete e._id}),e.data.user.map(function(t){return Object.assign(t,e.data.game.find(function(e){return e.package_id===t.package_id}))})),t=e.data.user.length,a=e.data.user,console.log("res.data.user assign\u540e",e.data.user)),{code:e.code,msg:e.msg,count:t,data:a}},a.parseDateData=function(e){console.log(e);var t=0,a=[];return 0===e.status&&e.data&&(e.data.user&&e.data.user.map(function(e){return e.date=e._id.create_time,delete e._id}),e.data.order&&(e.data.order.filter(function(e){return e&&e._id}).map(function(e){return e.first_pay_user_number=e.first_pay_user.length,e.pay_user_number=e.pay_user.length,e.first_pay_user_number_res=e.first_pay_user_res.length,e.pay_user_number_res=e.pay_user_res.length,e.exchange_user_number=e.exchange_user.length,e.exchange_user_number_res=e.exchange_user_res.length,e.date=e._id.create_time,delete e._id}),e.data.user.map(function(t){return Object.assign(t,e.data.order.find(function(e){return e.date===t.date}))})),e.data.game&&(e.data.game.filter(function(e){return e&&e._id}).map(function(e){return e.statement_ratio=((Math.abs(e.lose_statement_total)-e.win_statement_total)/(e.win_statement_total+Math.abs(e.lose_statement_total))).toFixed(4),e.win_statement_total=Math.round(1e4*e.win_statement_total)/1e4,e.lose_statement_total=Math.round(1e4*e.lose_statement_total)/1e4,e.statement_total=Math.round(1e4*(e.win_statement_total+Math.abs(e.lose_statement_total)))/1e4,e.date=e._id.create_time,delete e._id}),e.data.user.map(function(t){return Object.assign(t,e.data.game.find(function(e){return e.date===t.date}))})),e.data.user.sort(function(e,t){return parseInt(t.date.replace(/-/g,""))-parseInt(e.date.replace(/-/g,""))}),t=e.data.user.length,a=e.data.user,console.log(e.data.user)),{code:e.code,msg:e.msg,count:t,data:a}},a.parseGameData=function(e){console.log(e),0===e.status&&e.data&&e.data.map(function(e){return e.statement_ratio=((Math.abs(e.lose_statement_total)-e.win_statement_total)/(e.win_statement_total+Math.abs(e.lose_statement_total))).toFixed(4),e.win_statement_total=Math.round(1e4*e.win_statement_total)/1e4,e.lose_statement_total=Math.round(1e4*e.lose_statement_total)/1e4,e.statement_total=Math.round(1e4*(e.win_statement_total+Math.abs(e.lose_statement_total)))/1e4})},a.getDateReport=function(){var e=Object(k.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(1,20,t.package_id,a.startTime,a.endTime);case 2:n=e.sent,r=a.parseDateData(n),a.reportData=r,a.action="getDateReport",a.setState({reportTable:!0});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getGameReport=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(1,20,a.package_id,t.date);case 2:n=e.sent,a.parseGameData(n),a.setState({date:t.date,isGameReportShow:!0,nextLevelData:n.data});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],packageList:[],count:0,pageSize:20,reportTable:!1,isGameReportShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData(1,20)}},{key:"render",value:function(){var e=this,t=this.state.packageList.map(function(e){return i.a.createElement(zt.a.Option,{value:e.id,key:e.id},e.name)});return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(Lt,{handleValue:function(t){Pt()(t[1]).diff(Pt()(t[0]),"days")>7?g.a.error("\u8bf7\u9009\u62e9\u65f6\u95f4\u8303\u56f4\u5c0f\u4e8e7\u5929"):(e.startTime=t[0],e.endTime=t[1])}}),"\xa0 \xa0",i.a.createElement(zt.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:120},onSelect:function(t){return e.package_id=t}},t),"\xa0 \xa0",i.a.createElement(ft,{onClick:this.onSearchData,size:"default"},i.a.createElement(w.a,{type:"search"})),"\xa0 \xa0"))},i.a.createElement("div",{style:{marginBottom:20,backgroundColor:"#ddd"}},i.a.createElement("span",{style:{border:"1px solid #ddd"}},i.a.createElement("b",null,"\u9ed8\u8ba4\u6240\u9009\u54c1\u724c7\u5929\u7684\u7edf\u8ba1\u6570\u636e")),"\xa0\xa0\xa0\xa0",i.a.createElement("span",{style:{border:"1px solid #ddd"}},i.a.createElement("b",null,"\u603b\u6d41\u6c34=\u73a9\u5bb6\u8d62\u989d+(abs)\u73a9\u5bb6\u8f93\u989d")),"\xa0\xa0\xa0\xa0",i.a.createElement("span",{style:{border:"1px solid #ddd"}},i.a.createElement("b",null,"\u76c8\u4e8f\u6bd4=(\u73a9\u5bb6\u8f93\u989d(abs) - \u73a9\u5bb6\u8d62\u989d) /(\u73a9\u5bb6\u8f93\u989d(abs) + \u73a9\u5bb6\u8d62\u989d)"))),i.a.createElement(Dt.a,{bordered:!0,rowKey:"package_id",dataSource:this.state.data,columns:this.initColumns(),size:"small",scroll:{x:2500}}),i.a.createElement(n.a,{title:"\u6309\u65e5\u671f\u67e5\u770b",width:"80%",visible:this.state.reportTable,onCancel:function(){e.setState({reportTable:!1})},footer:null},i.a.createElement(ln,{reportData:this.reportData,action:this.action,package_id:this.package_id,parse:this.parseGameData})),i.a.createElement(n.a,{title:"\u6e38\u620f\u6570\u636e",width:"80%",visible:this.state.isGameReportShow,onCancel:function(){e.setState({isGameReportShow:!1})},footer:null},i.a.createElement(cn,{data:this.state.nextLevelData})))}}]),t}(r.Component),on=_.a.create()(function(e){var t=e.form.getFieldDecorator,a=e.data;return i.a.createElement(_.a,{labelCol:{span:4},labelAlign:"left",onSubmit:function(t){t.preventDefault(),e.form.validateFields(function(){var t=Object(k.a)(v.a.mark(function t(n,r){var i,c;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=6;break}for(i in r)void 0===r[i]&&(r[i]="");return t.next=4,X(a.id,r);case 4:0===(c=t.sent).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"),e.finished(),e.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+c.msg);case 6:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())}},i.a.createElement(_.a.Item,{label:"\u7236\u7ea7\u6743\u9650"},t("pid",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6743\u9650"}],initialValue:a.pid})(i.a.createElement(zt.a,{style:{width:"60%"}},i.a.createElement(zt.a.Option,{value:0},"\u4e00\u7ea7\u6743\u9650"),e.packageNode))),i.a.createElement(_.a.Item,{label:"\u83dc\u5355\u540d"},t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d"}],initialValue:a.name.replace(/&nbsp;/g,"")})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u83dc\u5355\u540d"}))),i.a.createElement(_.a.Item,{label:"\u6a21\u5757\u540d"},t("module",{initialValue:a.module})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u6a21\u5757\u540d"}))),i.a.createElement(_.a.Item,{label:"\u65b9\u6cd5\u540d"},t("action",{initialValue:a.action})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u65b9\u6cd5\u540d"}))),i.a.createElement(_.a.Item,{label:"\u6a21\u677f\u8def\u5f84"},t("href",{initialValue:a.href})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u6a21\u677f\u8def\u5f84"}))),i.a.createElement(_.a.Item,{label:"\u8def\u7531key"},t("key",{initialValue:a.router_key})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u8def\u7531key"}))),i.a.createElement(_.a.Item,{label:"icon\u6837\u5f0f"},t("icon",{initialValue:a.icon})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"icon\u6837\u5f0f"}))),i.a.createElement(_.a.Item,{label:"\u83dc\u5355\u6392\u5e8f"},t("sort",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6392\u5e8f\u503c"}],initialValue:a.sort})(i.a.createElement(E.a,{style:{width:"60%"},placeholder:"\u83dc\u5355\u6392\u5e8f"}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}),un=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).getInitialData=Object(k.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:0===(t=e.sent).status?a.setState({data:t.data,count:t.count}):g.a.error(t.msg);case 4:case"end":return e.stop()}},e)})),a.initColumns=function(){return[{title:"\u83dc\u5355\u540d",dataIndex:"name",render:function(e,t,a){return i.a.createElement("span",null,t.name.replace(/&nbsp;/g,"-"))}},{title:"\u6a21\u5757\u540d",dataIndex:"module"},{title:"\u65b9\u6cd5\u540d",dataIndex:"action"},{title:"\u6a21\u677f\u8def\u5f84",dataIndex:"href"},{title:"\u8def\u7531key",dataIndex:"router_key"},{title:"icon\u6837\u5f0f",dataIndex:"icon"},{title:"\u663e\u793a",dataIndex:"status"},{title:"\u83dc\u5355\u6392\u5e8f",dataIndex:"sort"},{title:"\u64cd\u4f5c",dataIndex:"",render:function(e,t,n){return i.a.createElement("span",null,i.a.createElement(f.a,{type:"primary",onClick:function(){return a.edit(t)},size:"small"},"\u7f16\u8f91"),"\xa0\xa0\xa0",i.a.createElement(jt.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417?",onConfirm:function(){return a.onDelete(t)},okText:"\u5220\u9664",cancelText:"\u53d6\u6d88"},i.a.createElement(f.a,{type:"danger",size:"small"},"\u5220\u9664")))}}]},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(k.a)(v.a.mark(function e(t,n){var r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}for(r in n)void 0===n[r]&&(n[r]="");return e.next=4,Z(n);case 4:0===(i=e.sent).status?(g.a.success("\u63d0\u4ea4\u6210\u529f"),a.getInitialData(),a.props.form.resetFields()):g.a.error("\u51fa\u9519\u4e86\uff1a"+i.msg);case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.onDelete=function(){var e=Object(k.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t.id);case 2:0===(n=e.sent).status?(g.a.success("\u5220\u9664\u6210\u529f"),a.getInitialData()):g.a.error("\u51fa\u9519\u4e86\uff1a"+n.msg);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.edit=function(){var e=Object(k.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.editDataRecord=t,a.setState({isEditFormShow:!0});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={data:[],count:0,isEditFormShow:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getInitialData()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.data.map(function(e){return i.a.createElement(zt.a.Option,{value:e.id,key:e.name},e.name.replace(/&nbsp;/g,"-"))});return i.a.createElement(Ct.a,{title:i.a.createElement("div",null,i.a.createElement(_.a,{layout:"inline",onSubmit:this.handleSubmit},i.a.createElement(_.a.Item,null,t("pid",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6743\u9650"}],initialValue:"0"})(i.a.createElement(zt.a,{style:{width:200}},i.a.createElement(zt.a.Option,{value:"0"},"\u4e00\u7ea7\u6743\u9650"),a))),i.a.createElement(_.a.Item,null,t("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d"}]})(i.a.createElement(E.a,{style:{width:120},placeholder:"\u83dc\u5355\u540d"}))),i.a.createElement(_.a.Item,null,t("module",{})(i.a.createElement(E.a,{style:{width:120},placeholder:"\u6a21\u5757\u540d"}))),i.a.createElement(_.a.Item,null,t("action",{})(i.a.createElement(E.a,{style:{width:120},placeholder:"\u65b9\u6cd5\u540d"}))),i.a.createElement(_.a.Item,null,t("href",{})(i.a.createElement(E.a,{style:{width:120},placeholder:"\u6a21\u677f\u8def\u5f84"}))),i.a.createElement(_.a.Item,null,t("key",{})(i.a.createElement(E.a,{style:{width:120},placeholder:"\u8def\u7531key"}))),i.a.createElement(_.a.Item,null,t("icon",{})(i.a.createElement(E.a,{style:{width:120},placeholder:"icon\u6837\u5f0f"}))),i.a.createElement(_.a.Item,null,t("sort",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6392\u5e8f\u503c"}]})(i.a.createElement(E.a,{style:{width:120},placeholder:"\u83dc\u5355\u6392\u5e8f"}))),i.a.createElement(_.a.Item,null,i.a.createElement(f.a,{size:"default",type:"primary",htmlType:"submit",className:"login-form-button"},"\u589e\u52a0")))),extra:i.a.createElement(ft,{onClick:function(){return window.location.reload()},size:"default"},i.a.createElement(w.a,{type:"reload"}))},i.a.createElement(Dt.a,{bordered:!0,rowKey:function(e,t){return"".concat(t)},dataSource:this.state.data,columns:this.initColumns(),size:"small",pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(e,t){return"\u5171".concat(e,"\u6761")},defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getInitialData(t,a)},onShowSizeChange:function(t,a){e.getInitialData(t,a)}}}),i.a.createElement(n.a,{title:"\u7f16\u8f91",visible:this.state.isEditFormShow,onCancel:function(){e.setState({isEditFormShow:!1})},footer:null},i.a.createElement(on,{finished:function(){e.getInitialData(),e.setState({isEditFormShow:!1})},packageNode:a,data:this.editDataRecord})))}}]),t}(r.Component),dn=_.a.create()(un),mn=a(79),pn=a(523),hn=ct.a.Sider,fn=ct.a.Content,En=Object(lt.b)(),wn=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return localStorage.token?i.a.createElement(ct.a,{style:{minHeight:"100%"}},i.a.createElement(hn,null,i.a.createElement(dt,{onClick:function(t){e.child1.add&&e.child1.add(t)}})),i.a.createElement(ct.a,null,i.a.createElement(It,{onRef:function(t){return e.child1=t},history:En},"Header"),i.a.createElement(fn,{style:{margin:5,backgroundColor:"#fff"}},i.a.createElement(mn.c,null,i.a.createElement("div",{style:{height:"100%"}},i.a.createElement(h.d,null,i.a.createElement(h.a,{from:"/",exact:!0,to:"/home"}),i.a.createElement(h.b,{path:"/home",exact:!0,component:Ot}),i.a.createElement(h.b,{path:"/user/user-list",exact:!0},i.a.createElement(pn.a,{name:"User"},i.a.createElement(Bt,null))),i.a.createElement(h.b,{path:"/customer_service/notice_list"},i.a.createElement(pn.a,{name:"Notice_list"},i.a.createElement(Ea,null))),i.a.createElement(h.b,{path:"/customer_service/customer_list",exact:!0,component:ba},i.a.createElement(pn.a,{name:"Customer_list"},i.a.createElement(ba,null))),i.a.createElement(h.b,{path:"/admin_manage/list",exact:!0,component:$t},i.a.createElement(pn.a,{name:"Admin_manage_list"},i.a.createElement($t,null))),i.a.createElement(h.b,{path:"/admin_manage/rule",exact:!0,component:dn},i.a.createElement(pn.a,{name:"RuleManage"},i.a.createElement(dn,null))),i.a.createElement(h.b,{path:"/admin_manage/role",exact:!0,component:aa},i.a.createElement(pn.a,{name:"Role"},i.a.createElement(aa,null))),i.a.createElement(h.b,{path:"/list/daily-report",exact:!0},i.a.createElement(pn.a,{name:"DailyReport"},i.a.createElement(sn,null))),i.a.createElement(h.b,{path:"/gameSetting/config",exact:!0},i.a.createElement(pn.a,{name:"WrappedConfig"},i.a.createElement(Oa,null))),i.a.createElement(h.b,{path:"/messageCenter/tasks",exact:!0},i.a.createElement(pn.a,{name:"Tasks"},i.a.createElement(Da,null))),i.a.createElement(h.b,{path:"/trade/accountList",exact:!0},i.a.createElement(pn.a,{name:"AccountList"},i.a.createElement(za,null))),i.a.createElement(h.b,{path:"/trade/applyHistory",exact:!0},i.a.createElement(pn.a,{name:"ApplyHistory"},i.a.createElement(Pa,null))),i.a.createElement(h.b,{path:"/trade/tradeOrder",exact:!0},i.a.createElement(pn.a,{name:"TradeOrder"},i.a.createElement(Va,null))),i.a.createElement(h.b,{path:"/activity/list",exact:!0},i.a.createElement(pn.a,{name:"ActivityList"},i.a.createElement(Ua,null))),i.a.createElement(h.b,{path:"/activity/giftVoucher",exact:!0},i.a.createElement(pn.a,{name:"giftVoucher"},i.a.createElement(Ga,null))),i.a.createElement(h.b,{path:"/charge/order_list",exact:!0,component:ra},i.a.createElement(pn.a,{name:"Order_list"},i.a.createElement(ra,null))),i.a.createElement(h.b,{path:"/charge/channel-list",exact:!0,component:la},i.a.createElement(pn.a,{name:"Channel_list"},i.a.createElement(la,null))),i.a.createElement(h.b,{path:"/charge/bankcard-list",exact:!0,component:ua},i.a.createElement(pn.a,{name:"Bankcard_list"},i.a.createElement(ua,null))),i.a.createElement(h.b,{path:"/charge/recharge_order",exact:!0,component:da},i.a.createElement(pn.a,{name:"Recharge_order"},i.a.createElement(da,null))),i.a.createElement(h.b,{path:"/charge/recharge_channel",exact:!0,component:ma},i.a.createElement(pn.a,{name:"Recharge_channel"},i.a.createElement(ma,null))),i.a.createElement(h.b,{path:"/withdraw/withdraw_list",exact:!0,component:ka},i.a.createElement(pn.a,{name:"Withdraw_list"},i.a.createElement(ka,null))),i.a.createElement(h.b,{path:"/withdraw/daiti_list",exact:!0,component:Wa},i.a.createElement(pn.a,{name:"Daiti_list"},i.a.createElement(Wa,null))),i.a.createElement(h.b,{path:"/withdraw/channel",exact:!0},i.a.createElement(pn.a,{name:"Channel"},i.a.createElement(tn,null))),i.a.createElement(h.b,{path:"/gift/list",exact:!0},i.a.createElement(pn.a,{name:"GiftList"},i.a.createElement(Aa,null))),i.a.createElement(h.b,{path:"/gift/setting",exact:!0},i.a.createElement(pn.a,{name:"GiftSetting"},i.a.createElement(Ja,null))),i.a.createElement(h.b,{path:"/AI/robot",exact:!0},i.a.createElement(pn.a,{name:"AI"},i.a.createElement(Ba,null))),i.a.createElement(h.b,{component:rn}))))))):i.a.createElement(h.a,{to:"/login"})}}]),t}(r.Component),gn=a(258),bn=a(161),vn={inputValue:""},kn=Object(bn.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0,a=JSON.parse(JSON.stringify(e));switch(t.type){case"change_input":a.inputValue=t.value;break;case"resetPassword":a.inputValue=""}return a}),_n=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement(gn.a,{store:kn},i.a.createElement(p.a,null,i.a.createElement(h.d,null,i.a.createElement(h.b,{path:"/login",component:it}),i.a.createElement(h.b,{path:"/",component:wn}))))}}]),t}(r.Component),yn=Object(lt.a)();yn.listen(function(e,t){console.log("history",t,e.pathname,e.state),n.a.destroyAll()});var xn=vt.getUser();Et.user=xn,l.a.render(i.a.createElement(h.c,{history:yn},i.a.createElement(_n,null)),document.getElementById("root"))}},[[262,1,2]]]);