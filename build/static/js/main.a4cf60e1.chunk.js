(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,t,a){e.exports=a(472)},241:function(e,t,a){},399:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(8),c=a.n(i),o=a(22),l=a(23),s=a(26),u=a(24),d=a(25),m=a(56),p=a(76),h=(a(79),a(33)),f=(a(80),a(36)),g=(a(98),a(7)),k=(a(108),a(58)),v=(a(99),a(40)),b=a(16),y=a.n(b),E=a(32),w=(a(137),a(21)),x=(a(241),a(106)),O=a.n(x);function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(n,r){var i;"GET"===a?i=O.a.get(e,{params:t}):(O.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",O.a.defaults.transformRequest=[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],i=O.a.post(e,t)),i.then(function(e){n(e.data)}).catch(function(e){v.a.error("\u8bf7\u6c42\u51fa\u9519\u4e86: "+e.message)})})}var S=a(135),j=a.n(S),_="user_key",I={saveUser:function(e){j.a.set(_,e)},getUser:function(){return j.a.get(_)||{}},removeUser:function(){localStorage.removeItem(_),j.a.remove(_)}},P="http://operation.0717996.com/admin",L=I.getUser().token,N=function(e,t,a){return C(P+"/login/login",{username:e,password:t,authcode:a},"POST")},D=function(e,t){return C(P+"/login/authCode",{username:e,password:t},"POST")},T=function(){var e=I.getUser().token;return C(P+"/acl/navList",{token:e},"POST")},A=function(e,t){return C(P+"/user/index",{token:L,page:e,limit:t},"POST")},M=function(e,t){return C(P+"/user/setGameUserNickName",{token:L,id:e,game_nick:t},"POST")},U=function(e,t,a,n,r){var i=r.key,c={page:e,limit:t,token:L,start:a,end:n};return c[i]=r.val?r.val:"",C(P+"/user/index",c,"POST")},G=function(e){return C(P+"/user/getGameUser",{page:1,limit:10,token:L,id:e},"POST")},F=function(e,t){return C(P+"/acl/index",{page:e,limit:t,token:L},"POST")},z=function(e){return C(P+"/acl/index",{page:1,limit:20,token:L,name:e},"POST")},K=function(){return C(P+"/acl/roleList",{token:L},"POST")},q=function(){return C(P+"/user/packageList",{token:L},"POST")},V=w.a.Item,R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).getMenuList=Object(E.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:0===(t=e.sent).status&&((n=t.data).forEach(function(e){e.children&&e.children.forEach(function(e){e.title=e.title.slice(24)})}),localStorage.setItem("menuList",JSON.stringify(n)),a.props.history.replace("/"));case 4:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(E.a)(y.a.mark(function e(t,n){var r,i,c,o,l;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return r=n.username,i=n.password,c=n.authcode,e.next=4,N(r,i,c);case 4:0===(o=e.sent).status?(v.a.success("\u767b\u9646\u6210\u529f"),l=o.data,I.saveUser(l),a.getMenuList()):v.a.error(o.msg),e.next=9;break;case 8:console.log("\u68c0\u9a8c\u5931\u8d25!");case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleClick=function(){a.props.form.validateFields(function(){var e=Object(E.a)(y.a.mark(function e(t,a){var n,i,c;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}return n=a.username,i=a.password,e.next=4,D(n,i);case 4:c=e.sent,console.log("\u8bf7\u6c42\u6210\u529f",c),0===c.status&&c.data?k.a.info({title:"\u9996\u6b21\u767b\u5f55\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801",content:r.a.createElement("div",null,r.a.createElement("img",{src:c.data.qrurl,alt:"\u9a8c\u8bc1\u7801"}))}):v.a.error(c.msg),e.next=10;break;case 9:console.log("\u68c0\u9a8c\u5931\u8d25!");case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.validatePwd=function(e,t,a){console.log("validatePwd()",e,t),t?t.length<4?a("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e4\u4f4d"):t.length>12?a("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e12\u4f4d"):/^[a-zA-Z0-9_]+$/.test(t)?a():a("\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"):a("\u5bc6\u7801\u5fc5\u987b\u8f93\u5165")},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=I.getUser();if(e&&e._id)return r.a.createElement(p.a,{to:"/"});var t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login"},r.a.createElement("header",{className:"login-header"},r.a.createElement("h1",null,"QGame: \u540e\u53f0\u7ba1\u7406\u7cfb\u7edf")),r.a.createElement("section",{className:"login-content"},r.a.createElement("h2",null,"\u7528\u6237\u767b\u9646"),r.a.createElement(w.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(V,null,t("username",{rules:[{required:!0,whitespace:!0,message:"\u7528\u6237\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:12,message:"\u7528\u6237\u540d\u6700\u591a12\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}],initialValue:"ice"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),r.a.createElement(w.a.Item,null,t("password",{rules:[{validator:this.validatePwd}],initialValue:"123456"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),r.a.createElement(w.a.Item,null,t("authcode",{rules:[],initialValue:"123456"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"qrcode",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u9a8c\u8bc1\u7801"}))),r.a.createElement("span",{style:{marginTop:5},onClick:this.handleClick},"\u9996\u6b21\u767b\u5f55\uff0c\u624b\u673a\u4e0b\u8f7dGoogle Authenticator \u5b89\u88c5\uff0c\u70b9\u51fb\u6b64\u5904\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801"),r.a.createElement(w.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u9646")))))}}]),t}(n.Component),J=w.a.create()(R),W=(a(395),a(97)),B=(a(474),a(70)),Y=(a(399),B.b.SubMenu),$=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).getMenuList=Object(E.a)(y.a.mark(function t(){var a;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:0===(a=t.sent).status?(e.setState({data:a.data}),console.log(e.state.data)):v.a.error(a.msg);case 4:case"end":return t.stop()}},t)})),e.getMenuList=Object(E.a)(y.a.mark(function t(){var a;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:0===(a=t.sent).status?e.setState({data:a.data}):v.a.error("\u7f51\u7edc\u95ee\u9898\uff0c\u8bf7\u91cd\u65b0\u767b\u9646");case 4:case"end":return t.stop()}},t)})),e.getMenuNodes=function(t){var a=e.props.location.pathname;return t.reduce(function(t,n){n.key&&(n.children?(n.children.find(function(e){return 0===a.indexOf(e.key)})&&(e.openKey=n.key),t.push(r.a.createElement(Y,{key:n.key,title:r.a.createElement("span",null,r.a.createElement("span",null,n.title))},n.children.reduce(function(t,a){return t.push(r.a.createElement(B.b.Item,{key:a.key,onClick:function(){e.props.onClick(a)}},r.a.createElement(m.b,{to:a.key},r.a.createElement("span",null,a.title)))),t},[])))):t.push(r.a.createElement(B.b.Item,{key:n.key,onClick:function(){e.props.onClick(n)}},r.a.createElement(m.b,{to:n.key},r.a.createElement("span",null,n.title)))));return t},[])},e.state={data:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("menuList")),t=this.getMenuNodes(e),a=this.props.location.pathname,n=this.openKey;return r.a.createElement("div",{className:"left-nav"},r.a.createElement(m.b,{to:"/",className:"left-nav-header",style:{justifyContent:"center"}},r.a.createElement("h1",null,"QGame\u540e\u53f0\u7ba1\u7406")),r.a.createElement(B.b,{mode:"inline",theme:"dark",selectedKeys:[a],defaultOpenKeys:[n]},t))}}]),t}(n.Component),Q=Object(p.f)($),Z=a(225),H=a(63),X=(a(194),a(96));a(407);function ee(e){return r.a.createElement("button",Object.assign({},e,{className:"link-button"}))}var te={user:{}},ae=(a(408),X.a.TabPane),ne=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState({activeKey:e})},a.onEdit=function(e,t){a[t](e)},a.add=function(e){var t,n=a.state.panes,r=!1;if(n.forEach(function(a){a.title===e.title&&(r=!0,t=a.key)}),r)a.onChange(t);else{var i="newTab".concat(a.newTabIndex++);n.push({title:e.title,content:"Content of new Tab",key:i,path:e.key}),a.onChange(i),a.setState({panes:n,activeKey:i})}},a.remove=function(e){var t,n=a.state.activeKey;a.state.panes.forEach(function(a,n){a.key===e&&(t=n-1)});var r=a.state.panes.filter(function(t){return t.key!==e});r.length&&n===e&&(n=t>=0?r[t].key:r[0].key),a.setState({panes:r,activeKey:n})},a.logout=function(){k.a.confirm({content:"\u786e\u5b9a\u9000\u51fa\u5417?",onOk:function(){console.log("OK",Object(H.a)(a)),I.removeUser(),te.user={},localStorage.removeItem("menuList"),a.props.history.replace("/login")}})},a.newTabIndex=0;var n=[{title:"\u9996\u9875",content:"Content of Tab 1",key:"1",closable:!1,path:"/home"}];return a.state={activeKey:n[0].key,panes:n},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this);var e,t=this.state,a=this.props.location.pathname;"/home"!==a&&"/"!==a&&(JSON.parse(localStorage.getItem("menuList")).forEach(function(t){t.children||t.key!==a?t.children&&t.children.forEach(function(t){t.key===a&&(e=t.title)}):e=t.title}),t.activeKey="2",t.panes.push({title:e,key:"2",path:a}),this.setState(Object(Z.a)({},t)))}},{key:"render",value:function(){var e=te.user.username;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-top"},r.a.createElement("span",null,"\u6b22\u8fce\uff01",e),r.a.createElement(ee,{onClick:this.logout},"\u9000\u51fa")),r.a.createElement("div",{className:"header-bottom"},r.a.createElement(X.a,{onChange:this.onChange,activeKey:this.state.activeKey,type:"editable-card",onEdit:this.onEdit,hideAdd:!0},this.state.panes.map(function(e){return r.a.createElement(ae,{tab:r.a.createElement(m.b,{to:e.path},e.title),key:e.key,closable:e.closable,forceRender:!0})}))))}}]),t}(n.Component),re=Object(p.f)(ne),ie=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("span",null,"\u6b22\u8fce\u60a8\uff01")}}]),t}(n.Component),ce=(a(195),a(133)),oe=(a(212),a(132)),le=(a(420),a(219)),se=(a(161),a(48)),ue=(a(473),a(224)),de=a(220),me=a.n(de);a(201);function pe(e){if(!e)return"";var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}var he=w.a.Item,fe=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(w.a,{className:"login-form"},r.a.createElement(he,null,e("name",{rules:[{required:!0,message:"Please input your username!"}],initialValue:this.props.val})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"}))))}}]),t}(n.Component),ge=w.a.create()(fe),ke=ue.a.RangePicker,ve=se.a.Option,be=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={data:[],count:0,pageSize:20,isNickShow:!1,isGoldShow:!1,game_nick:"",startTime:"",endTime:"",inputParam:{key:"id",val:""}},a.initColumns=function(){return[{title:"user_id",dataIndex:"id",key:"id",fixed:"left",width:150},{title:"\u6635\u79f0",dataIndex:"game_nick",key:"game_nick",fixed:"left",width:150,onCell:function(e,t){return{onClick:function(n){a.game_nick=e.game_nick,a.id=e.id,a.rowIndex=t,a.setState({isNickShow:!0})},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"game_gold",key:"game_gold",sorter:function(e,t){return e.game_gold-t.game_gold},width:150,onCell:function(e,t){return{onClick:function(n){a.game_gold=e.game_gold,a.id=e.id,a.rowIndex=t,a.setState({isGoldShow:!0})},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",key:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_nick",key:"proxy_nick",width:150},{title:"\u624b\u673a",dataIndex:"phone_number",key:"phone_number",width:150},{title:"\u8d26\u53f7",dataIndex:"role_name",key:"role_name",width:150},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"regin_time",render:pe,key:"regin_time",sorter:function(e,t){return e.regin_time-t.regin_time},width:200},{title:"\u767b\u5f55IP",dataIndex:"login_ip",key:"login_ip",width:200},{title:"\u767b\u9646\u65f6\u95f4",dataIndex:"login_time",render:pe,key:"login_time",sorter:function(e,t){return e.login_time-t.login_time},width:200},{title:"\u64cd\u4f5c",dataIndex:"handle",render:function(e){return r.a.createElement("span",null,r.a.createElement(ee,{onClick:function(){return a.getGoldDetail(e)}},"\u8d44\u91d1\u660e\u7ec6"),r.a.createElement(ee,{onClick:function(){return a.moreDetail(e)}},"\u66f4\u591a"))}},{title:"\u5b9e\u65f6\u4f59\u989d",width:100,render:function(e){return r.a.createElement("span",null,r.a.createElement(ee,{onClick:function(){return a.getLoadGold(e)}},"\u67e5\u770b"))}}]},a.getUsers=function(){var e=Object(E.a)(y.a.mark(function e(t,n){var r,i,c,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t,n);case 2:0===(r=e.sent).status&&(i=r.data,c=i.game_user,o=i.proxy_user,c.forEach(function(e){o.forEach(function(t){e.id===t.id&&(e.proxy_nick=t.proxy_pid)})}),a.setState({data:c,count:r.count}));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.changeNickName=function(){var e=a.refs.getFormValue;e.validateFields(function(){var t=Object(E.a)(y.a.mark(function t(n,r){var i;return y.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}if(a.setState({isNickShow:!1}),r.name===a.game_nick){t.next=7;break}return t.next=5,M(a.id,r.name);case 5:0===t.sent.status&&(v.a.success("\u4fee\u6539\u6210\u529f!"),i=a.rowIndex,a.state.data[i].game_nick=r.name,a.setState({data:a.state.data}));case 7:e.resetFields();case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({startTime:n,endTime:r})},a.onSearchData=Object(E.a)(y.a.mark(function e(){var t,n,r,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(1,a.state.pageSize,a.state.startTime,a.state.endTime,a.state.inputParam);case 2:0===(t=e.sent).status?(n=t.data,r=n.game_user,i=n.proxy_user,r.forEach(function(e){i.forEach(function(t){e.id===t.id&&(e.proxy_nick=t.proxy_pid)})}),a.setState({data:r,count:t.count})):v.a.error("\u67e5\u4e0d\u5230\u8f93\u5165\u7684\u5173\u952e\u5b57");case 4:case"end":return e.stop()}},e)})),a.getLoadGold=function(){var e=Object(E.a)(y.a.mark(function e(t){var a,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,G(a);case 3:0===(n=e.sent).status&&k.a.success({title:"\u5b9e\u65f6\u4f59\u989d",content:"\u7528\u6237".concat(t.id,"\u5b9e\u65f6\u4f59\u989d\u662f : ").concat(n.data[0].game_gold)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getGoldDetail=function(){var e=Object(E.a)(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=a.handleChange.bind(Object(H.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=Object.assign({},this.state.inputParam,{val:e.target.value});this.setState({inputParam:t})}},{key:"componentWillMount",value:function(){this.initColumns()}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.count,i=r.a.createElement("span",null,r.a.createElement(le.a,{locale:me.a},r.a.createElement(ke,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",r.a.createElement(se.a,{style:{width:200},placeholder:"Select a person",defaultValue:"id",onChange:function(t){var a=Object.assign({},e.state.inputParam,{key:t});e.setState({inputParam:a},function(){console.log(e.state)})}},r.a.createElement(ve,{value:"id"},"user_id"),r.a.createElement(ve,{value:"game_nick"},"\u6635\u79f0"),r.a.createElement(ve,{value:"phone_number"},"\u624b\u673a\u53f7"),r.a.createElement(ve,{value:"role_name"},"\u8d26\u53f7"),r.a.createElement(ve,{value:"proxy_nick"},"\u6240\u5c5e\u4ee3\u7406"),r.a.createElement(ve,{value:"package_nick"},"\u6240\u5c5e\u54c1\u724c")),"\xa0 \xa0",r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22",style:{width:150},value:this.state.inputParam.val,onChange:this.handleChange}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"}))),c=r.a.createElement("button",{onClick:function(){return e.getUsers(1,20)}},r.a.createElement(g.a,{type:"reload"}));return r.a.createElement(ce.a,{title:i,extra:c},r.a.createElement(oe.a,{bordered:!0,rowKey:"_id",dataSource:a,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:n,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})}},scroll:{x:2e3,y:550}}),r.a.createElement(k.a,{title:"\u4fee\u6539\u6635\u79f0",visible:this.state.isNickShow,onOk:this.changeNickName,onCancel:function(){e.setState({isNickShow:!1})}},r.a.createElement(ge,{ref:"getFormValue",val:this.game_nick})))}}]),t}(n.Component),ye=(a(200),a(59)),Ee=(a(199),a(67)),we=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isBan:1,checkedList:[],indeterminate:!0,checkAll:!1},a.handleSubmit=function(e){e.preventDefault(),console.log(a.props.form),a.props.form.validateFields(function(){var e=Object(E.a)(y.a.mark(function e(t,a){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a);case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.checkboxOnChange=function(e){a.setState({checkedList:e,indeterminate:!!e.length&&e.length<a.props.packageList.length,checkAll:e.length===a.props.packageList.length})},a.onCheckAllChange=function(e){a.setState({checkedList:e.target.checked?a.props.packageList:[],indeterminate:!1,checkAll:e.target.checked})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(E.a)(y.a.mark(function e(t,a){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t?console.log("error!",t,a):console.log("no error!",a);case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.form.setFieldsValue({packageList:this.state.checkedList})}},{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldValue,n=this.props.optionList.map(function(e){return r.a.createElement(se.a.Option,{value:e.id,key:e.id},e.name)});return r.a.createElement(w.a,{labelCol:{span:4},onSubmit:this.handleSubmit,labelAlign:"left"},r.a.createElement(w.a.Item,{label:"\u767b\u5f55\u540d"},t("username",{rules:[{required:!0,whitespace:!0,message:"\u767b\u5f55\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:12,message:"\u7528\u6237\u540d\u6700\u591a12\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}]})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),style:{width:"60%"},placeholder:"\u5c06\u4f1a\u6210\u4e3a\u60a8\u552f\u4e00\u7684\u767b\u5165\u540d"}))),r.a.createElement(w.a.Item,{label:"\u7528\u6237\u72b6\u6001"},t("userStatus",{initialValue:1})(r.a.createElement(Ee.a.Group,null,r.a.createElement(Ee.a,{value:1},"\u542f\u7528"),r.a.createElement(Ee.a,{value:0},"\u7981\u7528")))),r.a.createElement(w.a.Item,{label:"\u7528\u6237\u7ec4"},t("userGroup",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7528\u6237\u7ec4!"}]})(r.a.createElement(se.a,{style:{width:" 40%"},placeholder:"\u9009\u62e9\u7528\u6237\u7ec4"},n))),r.a.createElement(w.a.Item,{label:"\u6388\u6743\u54c1\u724c"},r.a.createElement(ye.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"\u5168\u9009"),t("packageList",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6388\u6743\u54c1\u724c!"}]})(r.a.createElement(ye.a.Group,{options:this.props.packageList,onChange:this.checkboxOnChange}))),r.a.createElement(w.a.Item,{label:"\u6388\u6743\u4ee3\u7406"},t("proxy",{rules:[{whitespace:!0,message:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}]})(r.a.createElement(f.a,{style:{width:"60%"},placeholder:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}))),r.a.createElement(w.a.Item,{label:"\u643a\u5e26\u91d1\u989d"},t("loadGold",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"},{pattern:/^\d+(\.\d+)?$/,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}]})(r.a.createElement(f.a,{style:{width:"60%"},placeholder:"\u8bf7\u8f93\u5165\u6570\u5b57"}))),r.a.createElement(w.a.Item,{label:"\u5bc6\u7801"},t("password",{rules:[{required:!0,whitespace:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{min:6,message:"\u5bc6\u7801\u81f3\u5c116\u4f4d"},{max:16,message:"\u5bc6\u7801\u6700\u591a16\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),r.a.createElement(w.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801"},t("confirmPssword",{rules:[{required:!0,whitespace:!0},{validator:function(e,t,n){t||n(),t===a("password")?n():n("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),r.a.createElement(w.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),xe=w.a.create()(we),Oe=(a(468),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){return[{title:"user_id",dataIndex:"id",fixed:"left",width:80},{title:"\u7528\u6237\u540d",dataIndex:"name",fixed:"left",width:100,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u89d2\u8272",dataIndex:"role_name",width:200},{title:"\u6388\u6743\u54c1\u724c",dataIndex:"group",width:100},{title:"\u6388\u6743\u4ee3\u7406",dataIndex:"proxy",width:100},{title:"\u53ef\u4f7f\u7528\u91d1\u989d",dataIndex:"use_balance",width:150},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:180,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updated_at",width:180,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u72b6\u6001",dataIndex:"status",align:"center",render:function(e,t,a){return r.a.createElement("span",null,1===e?"\u542f\u7528":"\u7981\u7528")}},{title:"\u64cd\u4f5c",dataIndex:"handle",width:200,render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(ee,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),r.a.createElement(ee,{onClick:function(){return a.resetAuthCode(t)}},"AuthCode\u91cd\u7f6e"))}}]},a.getUsers=function(){var e=Object(E.a)(y.a.mark(function e(t,n){var r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):v.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(E.a)(y.a.mark(function e(){var t;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(a.state.inputParam);case 2:0===(t=e.sent).status&&a.setState({data:t.data,count:1});case 4:case"end":return e.stop()}},e)})),a.addData=Object(E.a)(y.a.mark(function e(){var t,n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:return t=e.sent,e.next=5,q();case 5:n=e.sent,0===t.status&&0===n.status&&(a.optionList=t.data,a.packageList=n.data.map(function(e){return e.name}),console.log(a.packageList),a.setState({isAddDataShow:!0}));case 7:case"end":return e.stop()}},e)})),a.handleChange=a.handleChange.bind(Object(H.a)(a)),a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isGoldShow:!1,game_nick:"",startTime:"",endTime:"",inputParam:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"edit",value:function(e){}},{key:"resetAuthCode",value:function(e){}},{key:"componentWillMount",value:function(){this.initColumns()}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(ce.a,{title:r.a.createElement("span",null,r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:{width:150},value:this.state.inputParam,onChange:this.handleChange}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"})),"\xa0 \xa0",r.a.createElement("button",{onClick:this.addData},r.a.createElement(g.a,{type:"user-add"}),"\u6dfb\u52a0\u8d26\u6237")),extra:r.a.createElement("button",{onClick:function(){return e.getUsers(1,20)}},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(oe.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})}},scroll:{x:1400,y:550}}),r.a.createElement(k.a,{title:"\u6dfb\u52a0\u7528\u6237",visible:this.state.isAddDataShow,onOk:this.handleAddData,onCancel:function(){e.setState({isAddDataShow:!1})}},r.a.createElement(xe,{ref:"getFormValue",optionList:this.optionList,packageList:this.packageList,cancel:this.state.isAddDataShow})))}}]),t}(n.Component)),Ce=(a(196),a(69)),Se=(a(197),a(41)),je=(a(471),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Ce.a,{className:"not-found"},r.a.createElement(Se.a,{span:12,className:"left"}),r.a.createElement(Se.a,{span:12,className:"right"},r.a.createElement("h1",null,"404"),r.a.createElement("h2",null,"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"),r.a.createElement("div",null,r.a.createElement(h.a,{type:"primary",onClick:function(){return e.props.history.replace("/home")}},"\u56de\u5230\u9996\u9875"))))}}]),t}(n.Component)),_e=W.a.Footer,Ie=W.a.Sider,Pe=W.a.Content,Le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).onRef=function(e){a.child1=e},a.state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=I.getUser();return t&&t.id?r.a.createElement(W.a,{style:{minHeight:"100%"}},r.a.createElement(Ie,null,r.a.createElement(Q,{onClick:function(t){e.child1.add&&e.child1.add(t)}})),r.a.createElement(W.a,null,r.a.createElement(re,{onRef:this.onRef},"Header"),r.a.createElement(Pe,{style:{margin:20,backgroundColor:"#fff"}},r.a.createElement(p.d,null,r.a.createElement(p.a,{from:"/",exact:!0,to:"/home"}),r.a.createElement(p.b,{path:"/home",exact:!0,component:ie}),r.a.createElement(p.b,{path:"/user/user-list",exact:!0,component:be}),r.a.createElement(p.b,{path:"/admin_manage/list",exact:!0,component:Oe}),r.a.createElement(p.b,{component:je}))),r.a.createElement(_e,{style:{textAlign:"center",color:"#cccccc",padding:5}},"\u63a8\u8350\u4f7f\u7528\u8c37\u6b4c\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u4f73\u9875\u9762\u64cd\u4f5c\u4f53\u9a8c"))):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),Ne=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(p.d,null," ",r.a.createElement(p.b,{path:"/login",component:J}),r.a.createElement(p.b,{path:"/",component:Le})))}}]),t}(n.Component),De=I.getUser();te.user=De,c.a.render(r.a.createElement(Ne,null),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.a4cf60e1.chunk.js.map