(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{228:function(e,t,a){e.exports=a(469)},241:function(e,t,a){},395:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},468:function(e,t,a){},469:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),s=a.n(i),c=a(23),o=a(24),l=a(26),u=a(25),d=a(27),p=a(61),m=a(71),h=(a(76),a(33)),f=(a(64),a(28)),g=(a(77),a(7)),k=(a(101),a(40)),b=(a(65),a(22)),E=a(14),v=a.n(E),y=a(21),w=(a(112),a(17)),x=(a(241),a(109)),S=a(110),O=a.n(S);function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise(function(n,r){var i;"GET"===a?i=O.a.get(e,{params:t}):(O.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",O.a.defaults.transformRequest=[function(e){var t="";for(var a in e)t+=encodeURIComponent(a)+"="+encodeURIComponent(e[a])+"&";return t}],i=O.a.post(e,t)),i.then(function(e){n(e.data)}).catch(function(e){b.a.error("\u8bf7\u6c42\u51fa\u9519\u4e86: "+e.message)})})}var j=a(137),_=a.n(j),I="user_key",D={saveUser:function(e){_.a.set(I,e)},getUser:function(){return _.a.get(I)||{}},removeUser:function(){localStorage.removeItem(I),_.a.remove(I)}},L="http://operation.0717996.com/admin",P=D.getUser().token,A=function(e,t,a){return C(L+"/login/login",{username:e,password:t,authcode:a},"POST")},N=function(e,t){return C(L+"/login/authCode",{username:e,password:t},"POST")},T=function(){var e=D.getUser().token;return C(L+"/acl/navList",{token:e},"POST")},U=function(e,t){return C(L+"/user/index",{token:P,page:e,limit:t},"POST")},G=function(e,t){return C(L+"/user/setGameUserNickName",{token:P,id:e,game_nick:t},"POST")},R=function(e,t,a,n,r){var i=r.key,s={page:e,limit:t,token:P,start:a,end:n};return s[i]=r.val?r.val:"",C(L+"/user/index",s,"POST")},M=function(e){return C(L+"/user/getGameUser",{page:1,limit:10,token:P,id:e},"POST")},V=function(e,t){return C(L+"/acl/index",{page:e,limit:t,token:P},"POST")},z=function(e){return C(L+"/acl/index",{page:1,limit:20,token:P,name:e},"POST")},F=function(){return C(L+"/acl/roleList",{token:P},"POST")},q=function(){return C(L+"/user/packageList",{token:P},"POST")},K=function(e){var t={};e.packageList.forEach(function(e){t["group["+e+"]"]=e});var a=Object(x.a)({username:e.username,status:e.userStatus,group_id:e.userGroup,source:e.proxy?e.proxy:[]},t,{user_money:e.loadGold,pass:e.password,repass:e.confirmPssword,token:P});return C(L+"/acl/addUser",a,"POST")},J=function(e,t){var a={};e.packageList.forEach(function(e){a["group["+e+"]"]=e});var n=Object(x.a)({id:t,username:e.username,status:e.userStatus,group_id:e.userGroup,source:e.proxy?e.proxy:[]},a,{user_money:e.loadGold,pass:e.password?e.password:[],token:P});return C(L+"/acl/editUser",n,"POST")},$=function(e){return C(L+"/acl/resetAuthCode",{id:e,token:P},"POST")},B=function(e,t){return C(L+"/acl/roleList",{page:e,limit:t,token:P},"POST")},Z=w.a.Item,Q=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).getMenuList=Object(y.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:0===(t=e.sent).status&&((n=t.data).forEach(function(e){e.children&&e.children.forEach(function(e){e.title=e.title.slice(24)})}),localStorage.setItem("menuList",JSON.stringify(n)),a.props.history.replace("/"));case 4:case"end":return e.stop()}},e)})),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(y.a)(v.a.mark(function e(t,n){var r,i,s,c,o;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=8;break}return r=n.username,i=n.password,s=n.authcode,e.next=4,A(r,i,s);case 4:0===(c=e.sent).status?(b.a.success("\u767b\u9646\u6210\u529f"),o=c.data,D.saveUser(o),a.getMenuList()):b.a.error(c.msg),e.next=9;break;case 8:console.log("\u68c0\u9a8c\u5931\u8d25!");case 9:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleClick=function(){a.props.form.validateFields(function(){var e=Object(y.a)(v.a.mark(function e(t,a){var n,i,s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=9;break}return n=a.username,i=a.password,e.next=4,N(n,i);case 4:s=e.sent,console.log("\u8bf7\u6c42\u6210\u529f",s),0===s.status&&s.data?k.a.info({title:"\u9996\u6b21\u767b\u5f55\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801",content:r.a.createElement("div",null,r.a.createElement("img",{src:s.data.qrurl,alt:"\u9a8c\u8bc1\u7801"}))}):b.a.error(s.msg),e.next=10;break;case 9:console.log("\u68c0\u9a8c\u5931\u8d25!");case 10:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.validatePwd=function(e,t,a){console.log("validatePwd()",e,t),t?t.length<4?a("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e4\u4f4d"):t.length>12?a("\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e12\u4f4d"):/^[a-zA-Z0-9_]+$/.test(t)?a():a("\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"):a("\u5bc6\u7801\u5fc5\u987b\u8f93\u5165")},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=D.getUser();if(e&&e._id)return r.a.createElement(m.a,{to:"/"});var t=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"login"},r.a.createElement("header",{className:"login-header"},r.a.createElement("h1",null,"QGame: \u540e\u53f0\u7ba1\u7406\u7cfb\u7edf")),r.a.createElement("section",{className:"login-content"},r.a.createElement("h2",null,"\u7528\u6237\u767b\u9646"),r.a.createElement(w.a,{onSubmit:this.handleSubmit,className:"login-form"},r.a.createElement(Z,null,t("username",{rules:[{required:!0,whitespace:!0,message:"\u7528\u6237\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:12,message:"\u7528\u6237\u540d\u6700\u591a12\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}],initialValue:"ice"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),r.a.createElement(w.a.Item,null,t("password",{rules:[{validator:this.validatePwd}],initialValue:"123456"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),r.a.createElement(w.a.Item,null,t("authcode",{rules:[],initialValue:"123456"})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"qrcode",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u9a8c\u8bc1\u7801"}))),r.a.createElement("span",{style:{marginTop:5},onClick:this.handleClick},"\u9996\u6b21\u767b\u5f55\uff0c\u624b\u673a\u4e0b\u8f7dGoogle Authenticator \u5b89\u88c5\uff0c\u70b9\u51fb\u6b64\u5904\u626b\u7801\u83b7\u53d6\u9a8c\u8bc1\u7801"),r.a.createElement(w.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u9646")))))}}]),t}(n.Component),W=w.a.create()(Q),Y=(a(391),a(100)),H=(a(471),a(74)),X=(a(395),H.a.SubMenu),ee=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).getMenuList=Object(y.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:0===(a=t.sent).status?(e.setState({data:a.data}),console.log(e.state.data)):b.a.error(a.msg);case 4:case"end":return t.stop()}},t)})),e.getMenuList=Object(y.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T();case 2:0===(a=t.sent).status?e.setState({data:a.data}):b.a.error("\u7f51\u7edc\u95ee\u9898\uff0c\u8bf7\u91cd\u65b0\u767b\u9646");case 4:case"end":return t.stop()}},t)})),e.getMenuNodes=function(t){var a=e.props.location.pathname;return t.reduce(function(t,n){n.key&&(n.children?(n.children.find(function(e){return 0===a.indexOf(e.key)})&&(e.openKey=n.key),t.push(r.a.createElement(X,{key:n.key,title:r.a.createElement("span",null,r.a.createElement("span",null,n.title))},n.children.reduce(function(t,a){return t.push(r.a.createElement(H.a.Item,{key:a.key,onClick:function(){e.props.onClick(a)}},r.a.createElement(p.b,{to:a.key},r.a.createElement("span",null,a.title)))),t},[])))):t.push(r.a.createElement(H.a.Item,{key:n.key,onClick:function(){e.props.onClick(n)}},r.a.createElement(p.b,{to:n.key},r.a.createElement("span",null,n.title)))));return t},[])},e.state={data:[]},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("menuList")),t=this.getMenuNodes(e),a=this.props.location.pathname,n=this.openKey;return r.a.createElement("div",{className:"left-nav"},r.a.createElement(p.b,{to:"/",className:"left-nav-header",style:{justifyContent:"center"}},r.a.createElement("h1",null,"QGame\u540e\u53f0\u7ba1\u7406")),r.a.createElement(H.a,{mode:"inline",theme:"dark",selectedKeys:[a],defaultOpenKeys:[n]},t))}}]),t}(n.Component),te=Object(m.g)(ee),ae=a(60),ne=(a(199),a(99));a(403);function re(e){return r.a.createElement("button",Object.assign({},e,{className:"link-button"}))}var ie={user:{}},se=(a(404),ne.a.TabPane),ce=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){a.setState({activeKey:e})},a.onEdit=function(e,t){a[t](e)},a.add=function(e){var t,n=a.state.panes,r=!1;if(n.forEach(function(a){a.title===e.title&&(r=!0,t=a.key)}),r)a.onChange(t);else{var i="newTab".concat(a.newTabIndex++);n.push({title:e.title,content:"Content of new Tab",key:i,path:e.key}),a.onChange(i),a.setState({panes:n,activeKey:i})}},a.remove=function(e){var t,n=a.state.activeKey;a.state.panes.forEach(function(a,n){a.key===e&&(t=n-1)});var r=a.state.panes.filter(function(t){return t.key!==e});r.length&&n===e&&(n=t>=0?r[t].key:r[0].key),a.setState({panes:r,activeKey:n})},a.logout=function(){k.a.confirm({content:"\u786e\u5b9a\u9000\u51fa\u5417?",onOk:function(){console.log("OK",Object(ae.a)(a)),D.removeUser(),ie.user={},localStorage.removeItem("menuList"),a.props.history.replace("/login")}})},a.newTabIndex=0;var n=[{title:"\u9996\u9875",content:"Content of Tab 1",key:"1",closable:!1,path:"/home"}];return a.state={activeKey:n[0].key,panes:n},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this);var e,t=this.state,a=this.props.location.pathname;"/home"!==a&&"/"!==a&&(JSON.parse(localStorage.getItem("menuList")).forEach(function(t){t.children||t.key!==a?t.children&&t.children.forEach(function(t){t.key===a&&(e=t.title)}):e=t.title}),t.activeKey="2",t.panes.push({title:e,key:"2",path:a}),this.setState(Object(x.a)({},t)))}},{key:"render",value:function(){var e=ie.user.username;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-top"},r.a.createElement("span",null,"\u6b22\u8fce\uff01",e),r.a.createElement(re,{onClick:this.logout},"\u9000\u51fa")),r.a.createElement("div",{className:"header-bottom"},r.a.createElement(ne.a,{onChange:this.onChange,activeKey:this.state.activeKey,type:"editable-card",onEdit:this.onEdit,hideAdd:!0},this.state.panes.map(function(e){return r.a.createElement(se,{tab:r.a.createElement(p.b,{to:e.path},e.title),key:e.key,closable:e.closable,forceRender:!0})}))))}}]),t}(n.Component),oe=Object(m.g)(ce),le=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("span",null,"\u6b22\u8fce\u60a8\uff01")}}]),t}(n.Component),ue=(a(164),a(96)),de=(a(168),a(95)),pe=(a(419),a(9)),me=(a(125),a(42)),he=(a(470),a(225)),fe=a(221),ge=a.n(fe);a(203);function ke(e){if(!e)return"";var t=new Date(1e3*e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}var be=w.a.Item,Ee=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(w.a,{className:"login-form"},r.a.createElement(be,null,e("name",{rules:[{required:!0,message:"Please input your username!"}],initialValue:this.props.val})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0"}))))}}]),t}(n.Component),ve=w.a.create()(Ee),ye=he.a.RangePicker,we=me.a.Option,xe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={data:[],count:0,pageSize:20,isNickShow:!1,isGoldShow:!1,game_nick:"",startTime:"",endTime:"",inputParam:{key:"id",val:""}},a.initColumns=function(){return[{title:"user_id",dataIndex:"id",key:"id",fixed:"left",width:150},{title:"\u6635\u79f0",dataIndex:"game_nick",key:"game_nick",fixed:"left",width:150,onCell:function(e,t){return{onClick:function(n){a.game_nick=e.game_nick,a.id=e.id,a.rowIndex=t,a.setState({isNickShow:!0})},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u8d26\u6237\u4f59\u989d",dataIndex:"game_gold",key:"game_gold",sorter:function(e,t){return e.game_gold-t.game_gold},width:150,onCell:function(e,t){return{onClick:function(n){a.game_gold=e.game_gold,a.id=e.id,a.rowIndex=t,a.setState({isGoldShow:!0})},onDoubleClick:function(e){},onContextMenu:function(e){},onMouseEnter:function(e){e.target.style.cursor="pointer"},onMouseLeave:function(e){}}}},{title:"\u6240\u5c5e\u54c1\u724c",dataIndex:"package_nick",key:"package_nick",width:100},{title:"\u6240\u5c5e\u4ee3\u7406",dataIndex:"proxy_nick",key:"proxy_nick",width:150},{title:"\u624b\u673a",dataIndex:"phone_number",key:"phone_number",width:150},{title:"\u8d26\u53f7",dataIndex:"role_name",key:"role_name",width:150},{title:"\u6ce8\u518c\u65f6\u95f4",dataIndex:"regin_time",render:ke,key:"regin_time",sorter:function(e,t){return e.regin_time-t.regin_time},width:200},{title:"\u767b\u5f55IP",dataIndex:"login_ip",key:"login_ip",width:200},{title:"\u767b\u9646\u65f6\u95f4",dataIndex:"login_time",render:ke,key:"login_time",sorter:function(e,t){return e.login_time-t.login_time},width:200},{title:"\u64cd\u4f5c",dataIndex:"handle",render:function(e){return r.a.createElement("span",null,r.a.createElement(re,{onClick:function(){return a.getGoldDetail(e)}},"\u8d44\u91d1\u660e\u7ec6"),r.a.createElement(re,{onClick:function(){return a.moreDetail(e)}},"\u66f4\u591a"))}},{title:"\u5b9e\u65f6\u4f59\u989d",width:100,render:function(e){return r.a.createElement("span",null,r.a.createElement(re,{onClick:function(){return a.getLoadGold(e)}},"\u67e5\u770b"))}}]},a.getUsers=function(){var e=Object(y.a)(v.a.mark(function e(t,n){var r,i,s,c;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U(t,n);case 2:0===(r=e.sent).status&&(i=r.data,s=i.game_user,c=i.proxy_user,s.forEach(function(e){c.forEach(function(t){e.id===t.id&&(e.proxy_nick=t.proxy_pid)})}),a.setState({data:s,count:r.count}));case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.changeNickName=function(){var e=a.refs.getFormValue;e.validateFields(function(){var t=Object(y.a)(v.a.mark(function t(n,r){var i;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}if(a.setState({isNickShow:!1}),r.name===a.game_nick){t.next=7;break}return t.next=5,G(a.id,r.name);case 5:0===t.sent.status&&(b.a.success("\u4fee\u6539\u6210\u529f!"),i=a.rowIndex,a.state.data[i].game_nick=r.name,a.setState({data:a.state.data}));case 7:e.resetFields();case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}())},a.dataPickerOnChange=function(e,t){var n=t[0]+" 00:00:00",r=t[1]+" 00:00:00";a.setState({startTime:n,endTime:r})},a.onSearchData=Object(y.a)(v.a.mark(function e(){var t,n,r,i;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(1,a.state.pageSize,a.state.startTime,a.state.endTime,a.state.inputParam);case 2:0===(t=e.sent).status?(n=t.data,r=n.game_user,i=n.proxy_user,r.forEach(function(e){i.forEach(function(t){e.id===t.id&&(e.proxy_nick=t.proxy_pid)})}),a.setState({data:r,count:t.count})):b.a.error("\u67e5\u4e0d\u5230\u8f93\u5165\u7684\u5173\u952e\u5b57");case 4:case"end":return e.stop()}},e)})),a.getLoadGold=function(){var e=Object(y.a)(v.a.mark(function e(t){var a,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,e.next=3,M(a);case 3:0===(n=e.sent).status&&k.a.success({title:"\u5b9e\u65f6\u4f59\u989d",content:"\u7528\u6237".concat(t.id,"\u5b9e\u65f6\u4f59\u989d\u662f : ").concat(n.data[0].game_gold)});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getGoldDetail=function(){var e=Object(y.a)(v.a.mark(function e(t){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleChange=a.handleChange.bind(Object(ae.a)(a)),a.initColumns(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=Object.assign({},this.state.inputParam,{val:e.target.value});this.setState({inputParam:t})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.count,i=r.a.createElement("span",null,r.a.createElement(pe.b,{locale:ge.a},r.a.createElement(ye,{format:"YYYY-MM-DD",placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],onChange:this.dataPickerOnChange})),"\xa0 \xa0",r.a.createElement(me.a,{style:{width:200},placeholder:"Select a person",defaultValue:"id",onChange:function(t){var a=Object.assign({},e.state.inputParam,{key:t});e.setState({inputParam:a},function(){console.log(e.state)})}},r.a.createElement(we,{value:"id"},"user_id"),r.a.createElement(we,{value:"game_nick"},"\u6635\u79f0"),r.a.createElement(we,{value:"phone_number"},"\u624b\u673a\u53f7"),r.a.createElement(we,{value:"role_name"},"\u8d26\u53f7"),r.a.createElement(we,{value:"proxy_nick"},"\u6240\u5c5e\u4ee3\u7406"),r.a.createElement(we,{value:"package_nick"},"\u6240\u5c5e\u54c1\u724c")),"\xa0 \xa0",r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57\u641c\u7d22",style:{width:150},value:this.state.inputParam.val,onChange:this.handleChange}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"}))),s=r.a.createElement("button",{onClick:function(){return e.getUsers(1,20)}},r.a.createElement(g.a,{type:"reload"}));return r.a.createElement(ue.a,{title:i,extra:s},r.a.createElement(de.a,{bordered:!0,rowKey:"_id",dataSource:a,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:n,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})}},scroll:{x:2e3,y:550}}),r.a.createElement(k.a,{title:"\u4fee\u6539\u6635\u79f0",visible:this.state.isNickShow,onOk:this.changeNickName,onCancel:function(){e.setState({isNickShow:!1})}},r.a.createElement(ve,{ref:"getFormValue",val:this.game_nick})))}}]),t}(n.Component),Se=(a(166),a(50)),Oe=(a(165),a(52)),Ce=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).checkboxOnChange=function(e){console.log(e),a.setState({checkedList:e,indeterminate:!!e.length&&e.length<a.props.packageList.length,checkAll:e.length===a.props.packageList.length})},a.onCheckAllChange=function(e){var t=a.props.packageList.map(function(e){return e.value});a.setState({checkedList:e.target.checked?t:[],indeterminate:!1,checkAll:e.target.checked},function(){a.props.form.setFieldsValue({packageList:a.state.checkedList})})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(y.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=14;break}if(a.props.isEdit){e.next=7;break}return e.next=4,K(n);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,J(n,a.props.editDataRecord.id);case 9:e.t0=e.sent;case 10:0===(r=e.t0).status?(b.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):b.a.error("\u51fa\u9519\u4e86\uff1a"+r.msg),e.next=15;break;case 14:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={isBan:1,checkedList:[],indeterminate:!0,checkAll:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.props.isEdit&&this.props.editDataRecord.group){var e=this.props.editDataRecord.group.split(",");this.props.form.setFieldsValue({packageList:e.map(Number)})}}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,i=this.props,s=i.editDataRecord,c=i.isEdit,o=this.props.optionList.map(function(e){return r.a.createElement(me.a.Option,{value:e.id,key:e.id},e.name)});return r.a.createElement(w.a,{labelCol:{span:4},onSubmit:this.handleSubmit,labelAlign:"left"},r.a.createElement(w.a.Item,{label:"\u767b\u5f55\u540d"},a("username",{rules:[{required:!0,whitespace:!0,message:"\u767b\u5f55\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:10,message:"\u7528\u6237\u540d\u6700\u591a10\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}],initialValue:c?s.name:""})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),style:{width:"60%"},placeholder:"\u5c06\u4f1a\u6210\u4e3a\u60a8\u552f\u4e00\u7684\u767b\u5165\u540d"}))),r.a.createElement(w.a.Item,{label:"\u7528\u6237\u72b6\u6001"},a("userStatus",{initialValue:c?s.status:1})(r.a.createElement(Oe.a.Group,null,r.a.createElement(Oe.a,{value:1},"\u542f\u7528"),r.a.createElement(Oe.a,{value:0},"\u7981\u7528")))),r.a.createElement(w.a.Item,{label:"\u7528\u6237\u7ec4"},a("userGroup",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7528\u6237\u7ec4!"}],initialValue:c&&s.group_id})(r.a.createElement(me.a,{style:{width:" 40%"},placeholder:"\u9009\u62e9\u7528\u6237\u7ec4"},o))),r.a.createElement(w.a.Item,{label:"\u6388\u6743\u54c1\u724c"},r.a.createElement(Se.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"\u5168\u9009"),a("packageList",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6388\u6743\u54c1\u724c!"}]})(r.a.createElement(Se.a.Group,{options:this.props.packageList,onChange:function(t){return e.checkboxOnChange(t)}}))),r.a.createElement(w.a.Item,{label:"\u6388\u6743\u4ee3\u7406"},a("proxy",{rules:[{whitespace:!0,message:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}],initialValue:c?s.proxy:""})(r.a.createElement(f.a,{style:{width:"60%"},placeholder:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}))),r.a.createElement(w.a.Item,{label:"\u643a\u5e26\u91d1\u989d"},a("loadGold",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"},{pattern:/^\d+(\.\d+)?$/,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}],initialValue:c&&s.use_balance})(r.a.createElement(f.a,{style:{width:"60%"},placeholder:"\u8bf7\u8f93\u5165\u6570\u5b57"}))),r.a.createElement(w.a.Item,{label:"\u5bc6\u7801",style:c?{display:"none"}:{}},a("password",{rules:[{required:!c,whitespace:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{min:6,message:"\u5bc6\u7801\u81f3\u5c116\u4f4d"},{max:16,message:"\u5bc6\u7801\u6700\u591a16\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),r.a.createElement(w.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801",style:c?{display:"none"}:{}},a("confirmPssword",{rules:[{required:!c,whitespace:!0},{validator:function(e,t,a){t||a(),t===n("password")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),r.a.createElement(w.a.Item,{label:"\u5bc6\u7801(\u9009\u586b)",style:c?{}:{display:"none"}},a("editPassword",{rules:[{whitespace:!0},{validator:function(e,t,a){t||a(),t===n("password")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26\uff0c\u91cd\u7f6e\u5bc6\u7801\u65f6\u4f7f\u7528"}))),r.a.createElement(w.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),je=w.a.create()(Ce),_e=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){return[{title:"user_id",dataIndex:"id",fixed:"left",width:80},{title:"\u7528\u6237\u540d",dataIndex:"name",fixed:"left",width:150,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u89d2\u8272",dataIndex:"role_name",width:200},{title:"\u6388\u6743\u54c1\u724c",dataIndex:"group",width:100},{title:"\u6388\u6743\u4ee3\u7406",dataIndex:"proxy",width:100},{title:"\u53ef\u4f7f\u7528\u91d1\u989d",dataIndex:"use_balance",width:150},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created_at",width:180,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updated_at",width:180,render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u72b6\u6001",dataIndex:"status",align:"center",render:function(e,t,a){return r.a.createElement("span",null,1===e?"\u542f\u7528":"\u7981\u7528")}},{title:"\u64cd\u4f5c",dataIndex:"handle",width:200,render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(re,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"),r.a.createElement(re,{onClick:function(){return a.resetAuthCode(t)}},"AuthCode\u91cd\u7f6e"))}}]},a.getUsers=function(){var e=Object(y.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(y.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(a.state.inputParam);case 2:0===(t=e.sent).status&&a.setState({data:t.data,count:1});case 4:case"end":return e.stop()}},e)})),a.addData=Object(y.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,e.next=5,q();case 5:n=e.sent,0===t.status&&0===n.status&&(a.optionList=t.data,a.packageList=n.data.map(function(e){return{label:e.name,value:e.id}}),a.setState({isAddDataShow:!0}));case 7:case"end":return e.stop()}},e)})),a.edit=function(){var e=Object(y.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a.editDataRecord=t,e.next=4,F();case 4:return n=e.sent,e.next=7,q();case 7:r=e.sent,0===n.status&&0===r.status&&(a.optionList=n.data,a.packageList=r.data.map(function(e){return{label:e.name,value:e.id}}),a.setState({isEditDataShow:!0}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.resetAuthCode=function(e){k.a.confirm({title:"\u4fe1\u606f",content:"\u771f\u7684\u8981\u91cd\u7f6e\u4e48?",onOk:function(){var t=Object(y.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e.id);case 2:(a=t.sent).status,b.a.success(a.msg);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})},a.handleChange=a.handleChange.bind(Object(ae.a)(a)),a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(ue.a,{title:r.a.createElement("span",null,r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:{width:150},value:this.state.inputParam,onChange:this.handleChange,required:!0}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"})),"\xa0 \xa0",r.a.createElement("button",{onClick:this.addData},r.a.createElement(g.a,{type:"user-add"}),"\u6dfb\u52a0\u8d26\u6237")),extra:r.a.createElement("button",{onClick:function(){return e.getUsers(1,20)}},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(de.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})}},scroll:{x:1500,y:550}}),r.a.createElement(k.a,{title:"\u6dfb\u52a0\u7528\u6237",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},r.a.createElement(je,{optionList:this.optionList,packageList:this.packageList,cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})),this.state.isEditDataShow&&r.a.createElement(k.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},r.a.createElement(je,{isEdit:"true",optionList:this.optionList,packageList:this.packageList,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(n.Component),Ie=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).checkboxOnChange=function(e){console.log(e),a.setState({checkedList:e,indeterminate:!!e.length&&e.length<a.props.packageList.length,checkAll:e.length===a.props.packageList.length})},a.onCheckAllChange=function(e){var t=a.props.packageList.map(function(e){return e.value});a.setState({checkedList:e.target.checked?t:[],indeterminate:!1,checkAll:e.target.checked},function(){a.props.form.setFieldsValue({packageList:a.state.checkedList})})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(y.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=14;break}if(a.props.isEdit){e.next=7;break}return e.next=4,K(n);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,J(n,a.props.editDataRecord.id);case 9:e.t0=e.sent;case 10:0===(r=e.t0).status?(b.a.success("\u63d0\u4ea4\u6210\u529f"),a.props.refreshPage(),a.props.cancel(),a.props.form.resetFields()):b.a.error("\u51fa\u9519\u4e86\uff1a"+r.msg),e.next=15;break;case 14:b.a.error("\u63d0\u4ea4\u5931\u8d25");case 15:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={isBan:1,checkedList:[],indeterminate:!0,checkAll:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.props.isEdit&&this.props.editDataRecord.group){var e=this.props.editDataRecord.group.split(",");this.props.form.setFieldsValue({packageList:e.map(Number)})}}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,i=this.props,s=i.editDataRecord,c=i.isEdit,o=this.props.optionList.map(function(e){return r.a.createElement(me.a.Option,{value:e.id,key:e.id},e.name)});return r.a.createElement(w.a,{labelCol:{span:4},onSubmit:this.handleSubmit,labelAlign:"left"},r.a.createElement(w.a.Item,{label:"\u767b\u5f55\u540d"},a("username",{rules:[{required:!0,whitespace:!0,message:"\u767b\u5f55\u540d\u5fc5\u987b\u8f93\u5165"},{min:3,message:"\u7528\u6237\u540d\u81f3\u5c113\u4f4d"},{max:10,message:"\u7528\u6237\u540d\u6700\u591a10\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u7528\u6237\u540d\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}],initialValue:c?s.name:""})(r.a.createElement(f.a,{prefix:r.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),style:{width:"60%"},placeholder:"\u5c06\u4f1a\u6210\u4e3a\u60a8\u552f\u4e00\u7684\u767b\u5165\u540d"}))),r.a.createElement(w.a.Item,{label:"\u7528\u6237\u72b6\u6001"},a("userStatus",{initialValue:c?s.status:1})(r.a.createElement(Oe.a.Group,null,r.a.createElement(Oe.a,{value:1},"\u542f\u7528"),r.a.createElement(Oe.a,{value:0},"\u7981\u7528")))),r.a.createElement(w.a.Item,{label:"\u7528\u6237\u7ec4"},a("userGroup",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7528\u6237\u7ec4!"}],initialValue:c&&s.group_id})(r.a.createElement(me.a,{style:{width:" 40%"},placeholder:"\u9009\u62e9\u7528\u6237\u7ec4"},o))),r.a.createElement(w.a.Item,{label:"\u6388\u6743\u54c1\u724c"},r.a.createElement(Se.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"\u5168\u9009"),a("packageList",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6388\u6743\u54c1\u724c!"}]})(r.a.createElement(Se.a.Group,{options:this.props.packageList,onChange:function(t){return e.checkboxOnChange(t)}}))),r.a.createElement(w.a.Item,{label:"\u6388\u6743\u4ee3\u7406"},a("proxy",{rules:[{whitespace:!0,message:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}],initialValue:c?s.proxy:""})(r.a.createElement(f.a,{style:{width:"60%"},placeholder:"\u591a\u4e2a\u4ee3\u7406\u8bf7\u7528\u82f1\u6587\u9017\u53f7\u5206\u9694"}))),r.a.createElement(w.a.Item,{label:"\u643a\u5e26\u91d1\u989d"},a("loadGold",{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"},{pattern:/^\d+(\.\d+)?$/,message:"\u8bf7\u8f93\u5165\u6709\u6548\u6570\u5b57"}],initialValue:c&&s.use_balance})(r.a.createElement(f.a,{style:{width:"60%"},placeholder:"\u8bf7\u8f93\u5165\u6570\u5b57"}))),r.a.createElement(w.a.Item,{label:"\u5bc6\u7801",style:c?{display:"none"}:{}},a("password",{rules:[{required:!c,whitespace:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a"},{min:6,message:"\u5bc6\u7801\u81f3\u5c116\u4f4d"},{max:16,message:"\u5bc6\u7801\u6700\u591a16\u4f4d"},{pattern:/^[a-zA-Z0-9_]+$/,message:"\u5bc6\u7801\u5fc5\u987b\u662f\u82f1\u6587\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf\u7ec4\u6210"}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),r.a.createElement(w.a.Item,{label:"\u786e\u8ba4\u5bc6\u7801",style:c?{display:"none"}:{}},a("confirmPssword",{rules:[{required:!c,whitespace:!0},{validator:function(e,t,a){t||a(),t===n("password")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26"}))),r.a.createElement(w.a.Item,{label:"\u5bc6\u7801(\u9009\u586b)",style:c?{}:{display:"none"}},a("editPassword",{rules:[{whitespace:!0},{validator:function(e,t,a){t||a(),t===n("password")?a():a("\u4e24\u6b21\u5bc6\u7801\u4e0d\u4e00\u81f4")}}]})(r.a.createElement(f.a,{type:"password",style:{width:"60%"},placeholder:"6\u523016\u4e2a\u5b57\u7b26\uff0c\u91cd\u7f6e\u5bc6\u7801\u65f6\u4f7f\u7528"}))),r.a.createElement(w.a.Item,null,r.a.createElement(h.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(n.Component),De=w.a.create()(Ie),Le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).initColumns=function(){return[{title:"user_id",dataIndex:"id",width:80},{title:"\u89d2\u8272\u540d",dataIndex:"name",render:function(e,t){return r.a.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-all"}},e)}},{title:"\u63cf\u8ff0",dataIndex:"description"},{title:"\u72b6\u6001",dataIndex:"status",align:"center",render:function(e,t,a){return r.a.createElement("span",null,1===e?"\u5df2\u542f\u7528":"\u7981\u7528")}},{title:"\u64cd\u4f5c",dataIndex:"handle",render:function(e,t,n){return r.a.createElement("span",null,r.a.createElement(re,{onClick:function(){return a.edit(t)}},"\u7f16\u8f91"))}}]},a.getUsers=function(){var e=Object(y.a)(v.a.mark(function e(t,n){var r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,n);case 2:0===(r=e.sent).status?a.setState({data:r.data,count:r.count}):b.a.error("\u7f51\u7edc\u95ee\u9898");case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),a.onSearchData=Object(y.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(a.state.inputParam);case 2:0===(t=e.sent).status&&a.setState({data:t.data,count:1});case 4:case"end":return e.stop()}},e)})),a.addData=Object(y.a)(v.a.mark(function e(){var t,n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:return t=e.sent,e.next=5,q();case 5:n=e.sent,0===t.status&&0===n.status&&(a.optionList=t.data,a.packageList=n.data.map(function(e){return{label:e.name,value:e.id}}),a.setState({isAddDataShow:!0}));case 7:case"end":return e.stop()}},e)})),a.edit=function(){var e=Object(y.a)(v.a.mark(function e(t){var n,r;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a.editDataRecord=t,e.next=4,F();case 4:return n=e.sent,e.next=7,q();case 7:r=e.sent,0===n.status&&0===r.status&&(a.optionList=n.data,a.packageList=r.data.map(function(e){return{label:e.name,value:e.id}}),a.setState({isEditDataShow:!0}));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.resetAuthCode=function(e){k.a.confirm({title:"\u4fe1\u606f",content:"\u771f\u7684\u8981\u91cd\u7f6e\u4e48?",onOk:function(){var t=Object(y.a)(v.a.mark(function t(){var a;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e.id);case 2:(a=t.sent).status,b.a.success(a.msg);case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})},a.handleChange=a.handleChange.bind(Object(ae.a)(a)),a.state={data:[],count:0,pageSize:20,isAddDataShow:!1,isEditDataShow:!1},a.initColumns(),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){this.setState({inputParam:e.target.value})}},{key:"componentDidMount",value:function(){this.getUsers(1,20)}},{key:"render",value:function(){var e=this;return r.a.createElement(ue.a,{title:r.a.createElement("span",null,r.a.createElement(f.a,{type:"text",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:{width:150},value:this.state.inputParam,onChange:this.handleChange,required:!0}),"\xa0 \xa0",r.a.createElement("button",{onClick:this.onSearchData},r.a.createElement(g.a,{type:"search"})),"\xa0 \xa0",r.a.createElement("button",{onClick:this.addData},r.a.createElement(g.a,{type:"user-add"}),"\u6dfb\u52a0\u8d26\u6237")),extra:r.a.createElement("button",{onClick:function(){return e.getUsers(1,20)}},r.a.createElement(g.a,{type:"reload"}))},r.a.createElement(de.a,{bordered:!0,rowKey:"id",dataSource:this.state.data,columns:this.initColumns(),pagination:{defaultPageSize:this.state.pageSize,showSizeChanger:!0,showQuickJumper:!0,defaultCurrent:1,total:this.state.count,onChange:function(t,a){e.getUsers(t,a),e.setState({pageSize:a})}}}),r.a.createElement(k.a,{title:"\u6dfb\u52a0\u7528\u6237",visible:this.state.isAddDataShow,onCancel:function(){e.setState({isAddDataShow:!1})},footer:null},r.a.createElement(De,{optionList:this.optionList,packageList:this.packageList,cancel:function(){return e.setState({isAddDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})),this.state.isEditDataShow&&r.a.createElement(k.a,{title:"\u7f16\u8f91\u7528\u6237",visible:this.state.isEditDataShow,onCancel:function(){e.setState({isEditDataShow:!1})},footer:null},r.a.createElement(De,{isEdit:"true",optionList:this.optionList,packageList:this.packageList,editDataRecord:this.editDataRecord,cancel:function(){return e.setState({isEditDataShow:!1})},refreshPage:function(){return e.getUsers(1,20)}})))}}]),t}(n.Component),Pe=(a(200),a(73)),Ae=(a(201),a(43)),Ne=(a(468),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Pe.a,{className:"not-found"},r.a.createElement(Ae.a,{span:12,className:"left"}),r.a.createElement(Ae.a,{span:12,className:"right"},r.a.createElement("h1",null,"404"),r.a.createElement("h2",null,"\u62b1\u6b49\uff0c\u4f60\u8bbf\u95ee\u7684\u9875\u9762\u4e0d\u5b58\u5728"),r.a.createElement("div",null,r.a.createElement(h.a,{type:"primary",onClick:function(){return e.props.history.replace("/home")}},"\u56de\u5230\u9996\u9875"))))}}]),t}(n.Component)),Te=Y.a.Footer,Ue=Y.a.Sider,Ge=Y.a.Content,Re=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onRef=function(e){a.child1=e},a.state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=D.getUser();return t&&t.id?r.a.createElement(Y.a,{style:{minHeight:"100%"}},r.a.createElement(Ue,null,r.a.createElement(te,{onClick:function(t){e.child1.add&&e.child1.add(t)}})),r.a.createElement(Y.a,null,r.a.createElement(oe,{onRef:this.onRef},"Header"),r.a.createElement(Ge,{style:{margin:20,backgroundColor:"#fff"}},r.a.createElement(m.d,null,r.a.createElement(m.a,{from:"/",exact:!0,to:"/home"}),r.a.createElement(m.b,{path:"/home",exact:!0,component:le}),r.a.createElement(m.b,{path:"/user/user-list",exact:!0,component:xe}),r.a.createElement(m.b,{path:"/admin_manage/list",exact:!0,component:_e}),r.a.createElement(m.b,{path:"/admin_manage/role",exact:!0,component:Le}),r.a.createElement(m.b,{component:Ne}))),r.a.createElement(Te,{style:{textAlign:"center",color:"#cccccc",padding:5}},"\u63a8\u8350\u4f7f\u7528\u8c37\u6b4c\u6d4f\u89c8\u5668\uff0c\u53ef\u4ee5\u83b7\u5f97\u66f4\u4f73\u9875\u9762\u64cd\u4f5c\u4f53\u9a8c"))):r.a.createElement(m.a,{to:"/login"})}}]),t}(n.Component),Me=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(m.d,null," ",r.a.createElement(m.b,{path:"/login",component:W}),r.a.createElement(m.b,{path:"/",component:Re})))}}]),t}(n.Component),Ve=D.getUser();ie.user=Ve,s.a.render(r.a.createElement(Me,null),document.getElementById("root"))}},[[228,1,2]]]);
//# sourceMappingURL=main.55b8d0db.chunk.js.map